const _0x49b725=_0x4ce9;(function(_0x4a7669,_0x5c2400){const _0x2b0ca5={_0xd866e4:0x14c,_0x1a8a65:0x16e,_0x423f8c:0x179,_0x1502c3:0x1b2,_0x8c8e6d:0x1b8},_0x1b47ab=_0x4ce9,_0x5b9f82=_0x4a7669();while(!![]){try{const _0x378c55=-parseInt(_0x1b47ab(0x163))/0x1+-parseInt(_0x1b47ab(0x157))/0x2+parseInt(_0x1b47ab(_0x2b0ca5._0xd866e4))/0x3+-parseInt(_0x1b47ab(_0x2b0ca5._0x1a8a65))/0x4+-parseInt(_0x1b47ab(0x1e3))/0x5*(parseInt(_0x1b47ab(_0x2b0ca5._0x423f8c))/0x6)+-parseInt(_0x1b47ab(_0x2b0ca5._0x1502c3))/0x7*(-parseInt(_0x1b47ab(0x18b))/0x8)+-parseInt(_0x1b47ab(_0x2b0ca5._0x8c8e6d))/0x9*(-parseInt(_0x1b47ab(0x11f))/0xa);if(_0x378c55===_0x5c2400)break;else _0x5b9f82['push'](_0x5b9f82['shift']());}catch(_0x76714b){_0x5b9f82['push'](_0x5b9f82['shift']());}}}(_0x41bf,0x29680));import{segment}from'oicq';import _0x4497dd from'node-fetch';import _0x23f934,{chownSync}from'fs';import _0xb56c9f from'../../../lib/config/config.js';import{getdsc}from'../../../plugins/earth-k-plugin/resources/getecy.js';import _0x18fb75 from'../../../lib/puppeteer/puppeteer.js';let data1={};import{createRequire}from'module';import _0x2d3551 from'yaml';const require=createRequire(import.meta[_0x49b725(0x1e7)]);let ysct,mf,mfkg=0x0,tpjc='',jsss=0x0,ml=process[_0x49b725(0x113)]();var http=require(_0x49b725(0x198));import _0xf866c9 from'lodash';let yushekg=0x0,kg=0x0,guimo=5.5,kg2=0x0,mfid='',res4,htm='',htm2='',res5,res,zr=0x0,changdu=0x200,kuandu=0x200,msg2,timeout=0x7530,isch=0x1,cd=0x0,t,startTimeMS,iscd=0x0,my,dz,sj1,sj2,shuju,zt=0x0,gjc2,sc=0x0,bushu=0x1c,id='',xsd=0.5,nr,ycqx,jz=0.2,ss=0x1,Path,ys=[],moxing=_0x49b725(0x116),isdl=0x0,iscanshu=0x1,ishuifu=!![],HttpsProxyAgent='',chang,kuan,pc=_0x49b725(0x170);export class aiht extends plugin{constructor(){const _0x219b5e={_0x3fa59a:0x164,_0x1d603b:0x1e5,_0x57c1bd:0x159,_0x1c1d23:0xfa,_0x280791:0x1c1,_0x48d1c7:0x166,_0x4cd475:0xf3,_0xff64ef:0x1b4,_0x576594:0x17c,_0x5a3bde:0x1d6,_0x16cc21:0x1e0,_0x1165b7:0x176,_0x2175b5:0x1da,_0x5c3b21:0x11b,_0x4b7647:0x1c3},_0x21e944=_0x49b725;super({'name':_0x21e944(_0x219b5e._0x3fa59a),'dsc':'土块AI画图','event':'message','priority':0x21c,'rule':[{'reg':_0x21e944(_0x219b5e._0x1d603b),'fnc':_0x21e944(0x1bb)},{'reg':_0x21e944(_0x219b5e._0x57c1bd),'fnc':_0x21e944(0x104)},{'reg':_0x21e944(_0x219b5e._0x1c1d23),'fnc':_0x21e944(_0x219b5e._0x280791)},{'reg':_0x21e944(0x1a4),'fnc':'huatu3','log':![]},{'reg':_0x21e944(_0x219b5e._0x48d1c7),'fnc':'ysgn','log':![]},{'reg':'^#土块画图规模(.*)','fnc':_0x21e944(_0x219b5e._0x4cd475)},{'reg':'^#土块画图采样(.*)|^#查看所有采样','fnc':_0x21e944(0x1b5)},{'reg':_0x21e944(_0x219b5e._0xff64ef),'fnc':'szbs'},{'reg':_0x21e944(_0x219b5e._0x576594),'fnc':'kqdl'},{'reg':_0x21e944(_0x219b5e._0x5a3bde),'fnc':_0x21e944(0x1d5)},{'reg':_0x21e944(0xff),'fnc':_0x21e944(0x145)},{'reg':_0x21e944(_0x219b5e._0x16cc21),'fnc':_0x21e944(0x1c4)},{'reg':_0x21e944(_0x219b5e._0x1165b7),'fnc':_0x21e944(_0x219b5e._0x2175b5)},{'reg':_0x21e944(_0x219b5e._0x5c3b21),'fnc':_0x21e944(0xf9)},{'reg':_0x21e944(_0x219b5e._0x4b7647),'fnc':_0x21e944(0x1db)}]});}async['jhjc'](_0x24abcb){const _0x564290={_0x46adcf:0x1b9},_0x5e8d89=_0x49b725;_0x24abcb[_0x5e8d89(0x14b)]([_0x5e8d89(0x1cf),_0x5e8d89(_0x564290._0x46adcf)]);}async[_0x49b725(0xf9)](_0x259042){const _0x4be270={_0x8d747b:0x14b,_0x28f01b:0x171,_0x405073:0x1cb,_0x5b5439:0x100,_0x5831c2:0x127,_0x3c0e0f:0x161,_0x141cfd:0x15f,_0xaa9a9e:0x1f1,_0x3cff8b:0x119,_0x436f9b:0x102,_0x3b5682:0x168,_0x228309:0x194,_0x199830:0x1f2,_0x3a8b36:0x16f,_0x14b42f:0x168,_0x460d9a:0xfe,_0x480529:0x1b3,_0x414080:0x1bd,_0x4703a8:0x1b7,_0x213e88:0x107,_0x15cd10:0x119,_0x44fd32:0x180,_0x556928:0x125,_0x47ce6a:0x1e8,_0x3f1c6d:0xee,_0x3cab46:0x197,_0x38eaf3:0x1d8,_0x3d4f0b:0x111,_0xa6adf8:0x154,_0x5eb7fa:0x189,_0x11e941:0xfd,_0x3530af:0x1c5,_0x36e97b:0x14b,_0x24c301:0x11a,_0x436c66:0x14b},_0x514559={_0xbfc946:0x15f,_0x4e151d:0x1ce},_0x19248b=_0x49b725;let _0x3226ce='';try{_0x3226ce=_0x23f934['readFileSync']('./resources/th2.txt');}catch{_0x259042[_0x19248b(_0x4be270._0x8d747b)](_0x19248b(0x10c));return;}_0x3226ce=_0x3226ce[_0x19248b(0x199)]();let _0xc902e7=_0x2d3551[_0x19248b(_0x4be270._0x28f01b)](_0x23f934[_0x19248b(0x16b)](_0x19248b(_0x4be270._0x405073),_0x19248b(_0x4be270._0x5b5439)));_0xc902e7=_0xc902e7[_0x19248b(_0x4be270._0x5831c2)][0x0];try{let _0x31a7fd='https://www.tukuai.one//qx.php?tk='+_0x3226ce+'&qq='+String(_0xc902e7);res=await _0x4497dd(_0x31a7fd,{'agent':isdl?await getAgent():''}),console['log'](_0x19248b(_0x4be270._0x3c0e0f));}catch(_0x87ab89){console[_0x19248b(_0x4be270._0x141cfd)](_0x87ab89),console[_0x19248b(0x15f)](_0x19248b(0x1d8));}res=await res[_0x19248b(0x191)]();if(res[_0x19248b(_0x4be270._0xaa9a9e)](_0x19248b(0x143))==![]){_0x259042['reply'](_0x19248b(0x151)),console[_0x19248b(_0x4be270._0x141cfd)](res);return;}let _0x2c7780=_0x259042['msg'][_0x19248b(_0x4be270._0x3cff8b)](/#图生草/g,'')[_0x19248b(0x19f)](),_0x1170a0;if(_0x259042['source']){_0x259042['isGroup']?_0x1170a0=(await _0x259042['group']['getChatHistory'](_0x259042[_0x19248b(_0x4be270._0x436f9b)][_0x19248b(0x195)],0x1))[_0x19248b(_0x4be270._0x3b5682)]()?.[_0x19248b(0xfe)]:_0x1170a0=(await _0x259042[_0x19248b(_0x4be270._0x228309)][_0x19248b(_0x4be270._0x199830)](_0x259042[_0x19248b(0x102)][_0x19248b(_0x4be270._0x3a8b36)],0x1))[_0x19248b(_0x4be270._0x14b42f)]()?.[_0x19248b(_0x4be270._0x460d9a)];if(_0x1170a0)for(let _0x3fa43e of _0x1170a0){if(_0x3fa43e[_0x19248b(_0x4be270._0x480529)]=='image'){_0x259042[_0x19248b(_0x4be270._0x414080)]=[_0x3fa43e['url']];break;}}}let _0x25577a;if(!_0x259042[_0x19248b(0x1bd)]){if(!_0x259042[_0x19248b(_0x4be270._0x414080)]){let _0x1409e8=_0x259042['at'],_0x18edf6=_0x19248b(_0x4be270._0x4703a8)+_0x1409e8+_0x19248b(_0x4be270._0x213e88);_0x25577a=await imgUrlToBase64(_0x18edf6);}}else _0x25577a=await imgUrlToBase64(_0x259042[_0x19248b(0x1bd)][0x0][_0x19248b(_0x4be270._0x15cd10)](/https/g,_0x19248b(0x198))[_0x19248b(0x19f)]());let _0x207eb5=_0x25577a[_0x19248b(_0x4be270._0x44fd32)];var _0x52a1d5={'init_images':[_0x19248b(_0x4be270._0x556928)+_0x207eb5],'resize_mode':0x2,'denoising_strength':0.5,'mask_blur':0x4,'inpainting_fill':0x0,'inpaint_full_res':!![],'inpaint_full_res_padding':0x0,'inpainting_mask_invert':0x0,'prompt':_0x2c7780,'styles':[_0x19248b(_0x4be270._0x47ce6a)],'seed':-0x1,'subseed':-0x1,'subseed_strength':0x0,'seed_resize_from_h':-0x1,'seed_resize_from_w':-0x1,'sampler_name':'Resize\x20and\x20fill','batch_size':0x1,'n_iter':0x1,'steps':0x32,'cfg_scale':guimo+0x2,'width':0x200,'height':0x200,'restore_faces':![],'tiling':![],'negative_prompt':pc,'eta':0x0,'s_churn':0x0,'s_tmax':0x0,'s_tmin':0x0,'s_noise':0x1,'override_settings':{},'sampler_index':_0x19248b(0x116),'include_init_images':![]};try{res=await _0x4497dd(_0x19248b(0x178),{'method':'post','agent':isdl?await getAgent():'','body':JSON[_0x19248b(0x1ec)](_0x52a1d5),'headers':{'Content-Type':_0x19248b(_0x4be270._0x3f1c6d),'User-Agent':_0x19248b(_0x4be270._0x3cab46)}});}catch(_0x3cc6d8){console[_0x19248b(0x15f)](_0x3cc6d8),console[_0x19248b(0x15f)](_0x19248b(_0x4be270._0x38eaf3)),kg=0x0;return;}let _0x4fae68=await res[_0x19248b(_0x4be270._0x3d4f0b)]();_0x4fae68=_0x4fae68[_0x19248b(0x15a)],_0x23f934[_0x19248b(_0x4be270._0xa6adf8)](_0x19248b(_0x4be270._0x5eb7fa),_0x4fae68[_0x19248b(0x199)](),_0x19248b(_0x4be270._0x11e941),_0x4b0d62=>{const _0x223cea=_0x19248b;_0x4b0d62?console[_0x223cea(0x15f)](_0x223cea(0x18d)):console[_0x223cea(_0x514559._0xbfc946)](_0x223cea(_0x514559._0x4e151d));}),await sleep(0x1f4);ss==0x0&&(await main(_0x19248b(0x189)),console['log'](tpjc));let _0x4ed269;if(tpjc==_0x19248b(_0x4be270._0x3530af)&ss==0x0){_0x4ed269=_0x259042[_0x19248b(_0x4be270._0x36e97b)](_0x19248b(0x190));return;}else msg2=segment[_0x19248b(_0x4be270._0x24c301)](_0x19248b(0x189)),await _0x259042[_0x19248b(_0x4be270._0x436c66)](msg2);}async[_0x49b725(0x1da)](_0x20941d){const _0x308106={_0x32a8d5:0x16b,_0x560edc:0x12b,_0x2b9723:0x16b,_0x103f43:0x100,_0x4826a2:0x127,_0x222010:0x1ac,_0x32a0f0:0x101,_0x5718a1:0x15f,_0x500814:0x1d8,_0x20c2ef:0x191,_0x3a914e:0x14b,_0xe11396:0x102,_0x6aa7d:0x1f2,_0x261ccf:0x168,_0x28fcc3:0x1b3,_0x14b1fb:0x1bd,_0x162ac5:0x19f,_0x555845:0x116,_0x4bc0ac:0x14d,_0x5d888e:0x1ec,_0x338996:0x197,_0x5c89e8:0x15f,_0x3a8972:0x1d8,_0x216dc7:0x111,_0x2e1ce9:0x15a,_0x499b6e:0x154,_0x790e32:0xfd,_0x406778:0x189},_0x349052={_0x5b5bde:0x15f,_0x55f1bb:0x1ce},_0x9f4bf=_0x49b725;let _0x340b65='';try{_0x340b65=_0x23f934[_0x9f4bf(_0x308106._0x32a8d5)](_0x9f4bf(_0x308106._0x560edc));}catch{_0x20941d[_0x9f4bf(0x14b)](_0x9f4bf(0x10c));return;}_0x340b65=_0x340b65['toString']();let _0x477710=_0x2d3551['parse'](_0x23f934[_0x9f4bf(_0x308106._0x2b9723)](_0x9f4bf(0x1cb),_0x9f4bf(_0x308106._0x103f43)));_0x477710=_0x477710[_0x9f4bf(_0x308106._0x4826a2)][0x0];try{let _0x3e8fe8=_0x9f4bf(_0x308106._0x222010)+_0x340b65+_0x9f4bf(_0x308106._0x32a0f0)+String(_0x477710);res=await _0x4497dd(_0x3e8fe8,{'agent':isdl?await getAgent():''}),console[_0x9f4bf(_0x308106._0x5718a1)]('访问成功了');}catch(_0x4de52b){console['log'](_0x4de52b),console[_0x9f4bf(_0x308106._0x5718a1)](_0x9f4bf(_0x308106._0x500814));}res=await res[_0x9f4bf(_0x308106._0x20c2ef)]();if(res[_0x9f4bf(0x1f1)]('可以访问')==![]){_0x20941d[_0x9f4bf(_0x308106._0x3a914e)](_0x9f4bf(0x151)),console[_0x9f4bf(_0x308106._0x5718a1)](res);return;}if(_0x20941d['at']==undefined){_0x20941d[_0x9f4bf(0x14b)](_0x9f4bf(0x177));return;}let _0x1ba0b6;if(_0x20941d[_0x9f4bf(_0x308106._0xe11396)]){_0x20941d[_0x9f4bf(0x1df)]?_0x1ba0b6=(await _0x20941d[_0x9f4bf(0xeb)][_0x9f4bf(_0x308106._0x6aa7d)](_0x20941d[_0x9f4bf(0x102)][_0x9f4bf(0x195)],0x1))[_0x9f4bf(0x168)]()?.[_0x9f4bf(0xfe)]:_0x1ba0b6=(await _0x20941d[_0x9f4bf(0x194)]['getChatHistory'](_0x20941d[_0x9f4bf(_0x308106._0xe11396)][_0x9f4bf(0x16f)],0x1))[_0x9f4bf(_0x308106._0x261ccf)]()?.['message'];if(_0x1ba0b6)for(let _0x3a7aa8 of _0x1ba0b6){if(_0x3a7aa8[_0x9f4bf(_0x308106._0x28fcc3)]=='image'){_0x20941d['img']=[_0x3a7aa8['url']];break;}}}let _0x1840f4,_0x295b1f,_0x191726;if(!_0x20941d[_0x9f4bf(0x1bd)]){_0x1840f4=_0x20941d['at'];let _0x1c8f3='http://q2.qlogo.cn/headimg_dl?dst_uin='+_0x1840f4+_0x9f4bf(0x107);_0x295b1f=await imgUrlToBase64(_0x1c8f3),_0x191726=getdsc(_0x20941d['user_id']);}else _0x1840f4=_0x20941d['at'],_0x295b1f=await imgUrlToBase64(_0x20941d[_0x9f4bf(_0x308106._0x14b1fb)][0x0]['replace'](/https/g,_0x9f4bf(0x198))[_0x9f4bf(_0x308106._0x162ac5)]()),_0x191726=getdsc(_0x20941d[_0x9f4bf(0xf7)]);let _0x5bcc65=_0x295b1f['base64Img'];var _0x3566aa={'init_images':[_0x9f4bf(0x125)+_0x5bcc65],'resize_mode':0x2,'denoising_strength':0.65,'mask_blur':0x4,'inpainting_fill':0x0,'inpaint_full_res':!![],'inpaint_full_res_padding':0x0,'inpainting_mask_invert':0x0,'prompt':_0x191726['en'],'styles':[_0x9f4bf(0x1e8)],'seed':-0x1,'subseed':-0x1,'subseed_strength':0x0,'seed_resize_from_h':-0x1,'seed_resize_from_w':-0x1,'sampler_name':'Resize\x20and\x20fill','batch_size':0x1,'n_iter':0x1,'steps':0x32,'cfg_scale':guimo+0x2,'width':0x200,'height':0x200,'restore_faces':![],'tiling':![],'negative_prompt':pc,'eta':0x0,'s_churn':0x0,'s_tmax':0x0,'s_tmin':0x0,'s_noise':0x1,'override_settings':{},'sampler_index':_0x9f4bf(_0x308106._0x555845),'include_init_images':![]};try{res=await _0x4497dd(_0x9f4bf(0x178),{'method':_0x9f4bf(_0x308106._0x4bc0ac),'agent':isdl?await getAgent():'','body':JSON[_0x9f4bf(_0x308106._0x5d888e)](_0x3566aa),'headers':{'Content-Type':'application/json','User-Agent':_0x9f4bf(_0x308106._0x338996)}});}catch(_0x48c808){console[_0x9f4bf(0x15f)](_0x48c808),console[_0x9f4bf(_0x308106._0x5c89e8)](_0x9f4bf(_0x308106._0x3a8972)),kg=0x0;return;}let _0x4e093b=await res[_0x9f4bf(_0x308106._0x216dc7)]();_0x4e093b=_0x4e093b[_0x9f4bf(_0x308106._0x2e1ce9)],_0x23f934[_0x9f4bf(_0x308106._0x499b6e)]('./resources/3.jpg',_0x4e093b[_0x9f4bf(0x199)](),_0x9f4bf(_0x308106._0x790e32),_0x3cddbb=>{const _0x4329ea=_0x9f4bf;_0x3cddbb?console[_0x4329ea(_0x349052._0x5b5bde)](_0x4329ea(0x18d)):console[_0x4329ea(_0x349052._0x5b5bde)](_0x4329ea(_0x349052._0x55f1bb));}),await sleep(0x1f4),msg2=[segment['image'](_0x9f4bf(_0x308106._0x406778)),_0x9f4bf(0x121),segment['at'](_0x1840f4),_0x191726['ch']],await _0x20941d[_0x9f4bf(0x14b)](msg2);}async[_0x49b725(0x1c4)](_0x1422e9){const _0x147f21={_0x4904a5:0x12b,_0x2491eb:0x100,_0x58aaa3:0x127,_0x92c6b6:0x1ac,_0x1d12c7:0x101,_0x3706f4:0x15f,_0x50d69f:0x191,_0x4a9260:0x1f1,_0x16dd52:0x14b,_0x42352c:0x151,_0x40f9ca:0x15f,_0x228403:0x15a,_0x447fbd:0x199,_0x427900:0x11a},_0x520c81={_0xa8af62:0x18d},_0x385665=_0x49b725;let _0x40f048='';try{_0x40f048=_0x23f934['readFileSync'](_0x385665(_0x147f21._0x4904a5));}catch{_0x1422e9[_0x385665(0x14b)](_0x385665(0x10c));return;}_0x40f048=_0x40f048[_0x385665(0x199)]();let _0x499167=_0x2d3551[_0x385665(0x171)](_0x23f934[_0x385665(0x16b)]('./config/config/other.yaml',_0x385665(_0x147f21._0x2491eb)));_0x499167=_0x499167[_0x385665(_0x147f21._0x58aaa3)][0x0];try{let _0x48ad25=_0x385665(_0x147f21._0x92c6b6)+_0x40f048+_0x385665(_0x147f21._0x1d12c7)+String(_0x499167);res=await _0x4497dd(_0x48ad25,{'agent':isdl?await getAgent():''}),console['log'](_0x385665(0x161));}catch(_0xc8bb2d){console[_0x385665(_0x147f21._0x3706f4)](_0xc8bb2d),console[_0x385665(_0x147f21._0x3706f4)]('没有访问成功');}res=await res[_0x385665(_0x147f21._0x50d69f)]();if(res[_0x385665(_0x147f21._0x4a9260)](_0x385665(0x143))==![]){_0x1422e9[_0x385665(_0x147f21._0x16dd52)](_0x385665(_0x147f21._0x42352c)),console[_0x385665(_0x147f21._0x40f9ca)](res);return;}let _0x1dd95a=getdsc(_0x1422e9['user_id']),_0x2b098e=await _0x4497dd(_0x385665(0x1c6),{'method':_0x385665(0x12c),'agent':isdl?await getAgent():'','headers':{'Content-Type':_0x385665(0xee),'authorization':_0x385665(0x10d)},'body':JSON[_0x385665(0x1ec)]({'prompt':_0x1dd95a['en'],'width':kuandu,'height':changdu,'cfg_scale':guimo+0x2,'sampler':moxing,'steps':0x17,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0x2b098e[_0x385665(0x111)](),res=res4[_0x385665(_0x147f21._0x228403)][0x0],_0x23f934['writeFile'](_0x385665(0x1b0),res[_0x385665(_0x147f21._0x447fbd)](),'base64',_0x4528d0=>{const _0x31b29e=_0x385665;if(_0x4528d0)console[_0x31b29e(0x15f)](_0x31b29e(_0x520c81._0xa8af62));else{}});if(iscanshu==0x0){}await sleep(0x1f4),msg2=[segment[_0x385665(_0x147f21._0x427900)](_0x385665(0x1b0)),'二次元的',segment['at'](_0x1422e9[_0x385665(0xf7)]),_0x1dd95a['ch']],await _0x1422e9[_0x385665(_0x147f21._0x16dd52)](msg2);}async[_0x49b725(0x145)](_0x2d9831){const _0x45a317={_0x220ce5:0x110},_0x531026=_0x49b725;let _0x12c45a='https://www.tukuai.one/wj.php',_0x1d0142=await _0x4497dd(_0x12c45a),_0xd5eaa9=await _0x1d0142[_0x531026(0x111)](),_0x45c93b=_0xd5eaa9[_0x531026(_0x45a317._0x220ce5)];data1={'tplFile':_0x531026(0x140),'dz':ml,'lb':_0x45c93b};let _0xfc3819=await _0x18fb75[_0x531026(0x13d)](_0x531026(0x1b6),{...data1});_0x2d9831[_0x531026(0x14b)](_0xfc3819);}async[_0x49b725(0x1d5)](_0xcedcc9){const _0x586be8={_0x55ff3d:0x1e4,_0x19afb6:0x171,_0xab2dd0:0x127,_0x45a84f:0x15f,_0x3b1b8d:0xf4,_0x259092:0xf1,_0x5a4bd7:0x191,_0x8840df:0x196,_0x4cda61:0x1f1,_0x397d20:0x14b,_0x3c4aa3:0x199,_0x534d99:0xf7,_0x2889ea:0x154},_0x2fe604={_0x163c18:0x15f},_0x527c78=_0x49b725;if(_0xcedcc9[_0x527c78(_0x586be8._0x55ff3d)]){let _0x432534=_0x2d3551[_0x527c78(_0x586be8._0x19afb6)](_0x23f934[_0x527c78(0x16b)]('./config/config/other.yaml','utf8'));_0x432534=_0x432534[_0x527c78(_0x586be8._0xab2dd0)][0x0],console[_0x527c78(_0x586be8._0x45a84f)](_0x432534);let _0x94ac2a=_0xcedcc9[_0x527c78(_0x586be8._0x3b1b8d)][_0x527c78(0x119)](/#填写密钥/g,'')[_0x527c78(0x19f)](),_0x5a2c84=_0x527c78(_0x586be8._0x259092)+_0x94ac2a+_0x527c78(0x101)+String(_0xcedcc9[_0x527c78(0xf7)]),_0x460eda=await _0x4497dd(_0x5a2c84,{'agent':isdl?await getAgent():''}),_0x2746c8=await _0x460eda[_0x527c78(_0x586be8._0x5a4bd7)]();if(_0x2746c8['includes'](_0x527c78(_0x586be8._0x8840df))){_0xcedcc9['reply']('密钥不存在！不能乱输入哦');return;}if(_0x2746c8[_0x527c78(_0x586be8._0x4cda61)]('你好号主')){_0xcedcc9[_0x527c78(_0x586be8._0x397d20)](_0x527c78(0x126)),await _0x23f934['writeFile'](_0x527c78(0x12b),_0x94ac2a[_0x527c78(_0x586be8._0x3c4aa3)](),'utf-8',_0x4f72b8=>{const _0x5116af=_0x527c78;if(_0x4f72b8)console[_0x5116af(_0x2fe604._0x163c18)]('写入文件错误');else{}});return;}_0x2746c8['includes'](_0x527c78(0x16a))&&(_0xcedcc9['reply'](_0x527c78(0x146)+String(_0xcedcc9[_0x527c78(_0x586be8._0x534d99)])),await _0x23f934[_0x527c78(_0x586be8._0x2889ea)]('./resources/th2.txt',_0x94ac2a[_0x527c78(0x199)](),_0x527c78(0x134),_0x205d5c=>{const _0x4bd8eb=_0x527c78;if(_0x205d5c)console[_0x4bd8eb(0x15f)](_0x4bd8eb(0x18d));else{}})),_0x2746c8[_0x527c78(0x1f1)](_0x527c78(0x123))&&_0xcedcc9[_0x527c78(0x14b)]('这个密钥已经被激活了，你想干嘛！');}}async[_0x49b725(0x1a9)](_0x3670ff){const _0x32c45e={_0x2398d7:0x117,_0x1d0d08:0x139,_0x34ded6:0x16d,_0x4881e2:0x129,_0x27c666:0x1a5,_0x1651c2:0xf4,_0x5f2aec:0x118},_0x80e762=_0x49b725;_0x3670ff['msg']==_0x80e762(_0x32c45e._0x2398d7)&_0x3670ff[_0x80e762(0x1e4)]&&(isdl=0x1,_0x3670ff[_0x80e762(0x14b)](_0x80e762(_0x32c45e._0x1d0d08))),_0x3670ff[_0x80e762(0xf4)]==_0x80e762(_0x32c45e._0x34ded6)&_0x3670ff['isMaster']&&(isdl=0x0,_0x3670ff['reply'](_0x80e762(_0x32c45e._0x4881e2))),_0x3670ff['msg']==_0x80e762(_0x32c45e._0x27c666)&_0x3670ff[_0x80e762(0x1e4)]&&(iscanshu=0x1,_0x3670ff[_0x80e762(0x14b)](_0x80e762(0x108))),_0x3670ff[_0x80e762(_0x32c45e._0x1651c2)]=='#关闭参数显示'&_0x3670ff[_0x80e762(0x1e4)]&&(iscanshu=0x0,_0x3670ff[_0x80e762(0x14b)](_0x80e762(0x1c0))),_0x3670ff[_0x80e762(_0x32c45e._0x1651c2)]==_0x80e762(0x1d2)&_0x3670ff['isMaster']&&(ishuifu=!![],_0x3670ff[_0x80e762(0x14b)](_0x80e762(0xf8))),_0x3670ff[_0x80e762(0xf4)]==_0x80e762(_0x32c45e._0x5f2aec)&_0x3670ff['isMaster']&&(ishuifu=![],_0x3670ff[_0x80e762(0x14b)](_0x80e762(0x1ae)));}async['szbs'](_0x234a76){const _0x57ffd4={_0xb8d0c2:0x15f,_0x3fb8e3:0x199,_0x4554d0:0x19f},_0x371a61=_0x49b725;if(_0x234a76[_0x371a61(0xf4)]=='#查看画图设置'){console[_0x371a61(_0x57ffd4._0xb8d0c2)](guimo);let _0xc0889=[_0x371a61(0x10b),moxing,_0x371a61(0x19e),guimo[_0x371a61(0x199)](),_0x371a61(0x10e),bushu[_0x371a61(_0x57ffd4._0x3fb8e3)](),'\x0a相似度：',xsd['toString'](),_0x371a61(0x1af),jz[_0x371a61(_0x57ffd4._0x3fb8e3)]()];_0x234a76[_0x371a61(0x14b)](_0xc0889);return;}bushu=_0x234a76[_0x371a61(0xf4)]['replace'](/#土块画图步数/g,'')[_0x371a61(_0x57ffd4._0x4554d0)](),bushu=Number(bushu);if(bushu<0x0|bushu>0x1c){bushu=0x1c,_0x234a76[_0x371a61(0x14b)](_0x371a61(0xf0));return;}else _0x234a76['reply'](_0x371a61(0x1e9)+String(bushu));}async[_0x49b725(0x1b5)](_0x23f2b9){const _0x4c81eb={_0x2f2861:0xf4,_0x574fe3:0x14b,_0x179377:0x19f,_0x533c46:0x17e,_0x2b2e74:0x131,_0xa83e73:0x17a,_0x342d5a:0x141,_0x49c9a3:0x167,_0x3bef28:0x14b},_0x14e842=_0x49b725;if(_0x23f2b9[_0x14e842(_0x4c81eb._0x2f2861)]==_0x14e842(0x12d)){let _0xfff193=['1：Euler\x20a,\x0a2：Euler,\x0a3：Heun,\x0a4：DPM++\x202S\x20a,\x0a5：DPM++\x202M,\x0a6：DPM++\x202S\x20a\x20Karras,\x0a7：DPM++\x202M\x20Karras,\x0a8：DDMI'];_0x23f2b9[_0x14e842(_0x4c81eb._0x574fe3)](_0xfff193);return;}moxing=_0x23f2b9[_0x14e842(_0x4c81eb._0x2f2861)]['replace'](/#土块画图采样/g,'')[_0x14e842(_0x4c81eb._0x179377)](),moxing=Number(moxing);if(moxing<0x0|moxing>0x8){_0x23f2b9['reply']('采样不在合理范围内，1-8为合理范围'),moxing=0x2;return;}moxing==0x1&&(moxing=_0x14e842(0x116),_0x23f2b9[_0x14e842(0x14b)]('采样已设置为Euler\x20a')),moxing==0x2&&(moxing='Euler',_0x23f2b9['reply']('采样已设置为Euler')),moxing==0x3&&(moxing=_0x14e842(0x1e1),_0x23f2b9[_0x14e842(0x14b)](_0x14e842(_0x4c81eb._0x533c46))),moxing==0x4&&(moxing=_0x14e842(_0x4c81eb._0x2b2e74),_0x23f2b9[_0x14e842(0x14b)](_0x14e842(0x1e6))),moxing==0x5&&(moxing=_0x14e842(_0x4c81eb._0xa83e73),_0x23f2b9['reply']('采样已设置为DPM++\x202M')),moxing==0x6&&(moxing=_0x14e842(_0x4c81eb._0x342d5a),_0x23f2b9[_0x14e842(0x14b)](_0x14e842(0x1ab))),moxing==0x7&&(moxing=_0x14e842(_0x4c81eb._0x49c9a3),_0x23f2b9[_0x14e842(_0x4c81eb._0x3bef28)](_0x14e842(0xf2))),moxing==0x8&&(moxing=_0x14e842(0x1dd),_0x23f2b9['reply'](_0x14e842(0x1ee)));}async['szgm'](_0xeb8d89){const _0x31b977={_0x5d879e:0xf4,_0x2f8e3c:0x119,_0x1d2d71:0x19f,_0x3d543c:0x14b,_0x23b9e4:0x130},_0x310d5b=_0x49b725;guimo=_0xeb8d89[_0x310d5b(_0x31b977._0x5d879e)][_0x310d5b(_0x31b977._0x2f8e3c)](/#土块画图规模/g,'')[_0x310d5b(_0x31b977._0x1d2d71)](),guimo=Number(guimo);if(guimo<0x3|guimo>0xc){_0xeb8d89[_0x310d5b(_0x31b977._0x3d543c)]('规模不在合理范围内，3-12为合理范围'),guimo=5.5;return;}else _0xeb8d89[_0x310d5b(0x14b)](_0x310d5b(_0x31b977._0x23b9e4)+String(guimo));}async[_0x49b725(0x1bf)](_0x43c61d){const _0x17df7e={_0x4483f6:0xf4,_0x331cb9:0x1d3,_0x21dd6a:0x132,_0x357cef:0x12a,_0x17ad22:0x1d9,_0x563c9b:0x1f1,_0x518cf3:0x10a,_0x440525:0x14b,_0x574c0e:0x10a,_0x495fc5:0x13d,_0x5ac0d8:0x1b6,_0x43ca33:0x119,_0x364471:0x1e4,_0x5d692e:0xf4,_0x57d708:0x11c,_0x3e758e:0x15f},_0x50f0a5={_0xd791ce:0x1ba},_0x32df89={_0x3aa65b:0x14b},_0x186ead={_0x53b3a8:0x171,_0x4d761f:0x199,_0x391117:0x1ad,_0x1c4d6f:0x115},_0x1598f9=_0x49b725;if(_0x43c61d[_0x1598f9(0x1bd)]!=undefined)return![];if(yushekg==0x0&_0x43c61d[_0x1598f9(_0x17df7e._0x4483f6)][_0x1598f9(0x1f1)](_0x1598f9(0x1c7))==![]&_0x43c61d['msg'][_0x1598f9(0x1f1)](_0x1598f9(0x18a))==![]&_0x43c61d[_0x1598f9(0xf4)]['includes'](_0x1598f9(_0x17df7e._0x331cb9))==![]&_0x43c61d[_0x1598f9(_0x17df7e._0x4483f6)][_0x1598f9(0x1f1)](_0x1598f9(_0x17df7e._0x21dd6a))==![])return![];let _0x3deea0=ml+_0x1598f9(_0x17df7e._0x357cef),_0x2c0c71='';await _0x23f934[_0x1598f9(_0x17df7e._0x17ad22)](_0x3deea0,(_0x5f2e68,_0x11e20a)=>{const _0x5c6507=_0x1598f9;if(_0x5f2e68)throw _0x5f2e68;var _0x271e1d=_0x11e20a['toString']()!=''?JSON[_0x5c6507(_0x186ead._0x53b3a8)](_0x11e20a[_0x5c6507(_0x186ead._0x4d761f)]()):[];ysct='',_0x2c0c71='',shuju=_0x271e1d;for(let _0x59263e=0x0;_0x59263e<shuju[_0x5c6507(0x158)][_0x5c6507(_0x186ead._0x391117)];_0x59263e++){_0x2c0c71=_0x2c0c71+shuju[_0x5c6507(0x158)][_0x59263e][_0x5c6507(0x110)]+',',ysct=ysct+shuju[_0x5c6507(0x158)][_0x59263e][_0x5c6507(_0x186ead._0x1c4d6f)]+'++';}}),await sleep(0x1f4);if(_0x43c61d['msg'][_0x1598f9(_0x17df7e._0x563c9b)](_0x1598f9(_0x17df7e._0x21dd6a))&_0x43c61d[_0x1598f9(0x1e4)]){let _0x32f5ff=_0x43c61d[_0x1598f9(0xf4)]['replace'](/#查看预设词条/g,'')[_0x1598f9(0x19f)]();_0x32f5ff=Number(_0x32f5ff),ysct=ysct['split']('++'),_0x2c0c71=_0x2c0c71[_0x1598f9(_0x17df7e._0x518cf3)](',');if(_0x32f5ff>ysct[_0x1598f9(0x1ad)]|_0x32f5ff<0x0){_0x43c61d[_0x1598f9(_0x17df7e._0x440525)](_0x1598f9(0x1a7));return;}_0x43c61d['reply']([_0x2c0c71[_0x32f5ff-0x1],':',ysct[_0x32f5ff-0x1]]),ysct='',_0x2c0c71='';}if(_0x43c61d[_0x1598f9(0xf4)]=='#查看预设'&_0x43c61d[_0x1598f9(0x1e4)]){_0x2c0c71=_0x2c0c71[_0x1598f9(_0x17df7e._0x574c0e)](','),data1={'tplFile':_0x1598f9(0x1a1),'dz':ml,'lb':_0x2c0c71,'qsid':0x0};let _0x5d4d57=await _0x18fb75[_0x1598f9(_0x17df7e._0x495fc5)](_0x1598f9(_0x17df7e._0x5ac0d8),{...data1});_0x43c61d[_0x1598f9(_0x17df7e._0x440525)](_0x5d4d57);return;_0x43c61d[_0x1598f9(_0x17df7e._0x440525)](_0x1598f9(0x12e)+_0x2c0c71);}if(_0x43c61d[_0x1598f9(_0x17df7e._0x4483f6)][_0x1598f9(0x1f1)](_0x1598f9(0x1d3))&_0x43c61d[_0x1598f9(0x1e4)]){let _0x408755=_0x43c61d[_0x1598f9(0xf4)][_0x1598f9(_0x17df7e._0x43ca33)](/#删除预设/g,'')[_0x1598f9(0x19f)]();_0x408755=Number(_0x408755);if(_0x408755<shuju['shuju']['length']+0x1){shuju['shuju'][_0x1598f9(0x152)](_0x408755-0x1,0x1);var _0x1b0c2f=JSON[_0x1598f9(0x1ec)](shuju);}_0x23f934['writeFile'](_0x3deea0,_0x1b0c2f,function(_0x346524){const _0x1fe6be=_0x1598f9;_0x346524&&console['error'](_0x346524),_0x43c61d[_0x1fe6be(_0x32df89._0x3aa65b)]('删除预设成功');});}if(_0x43c61d['msg'][_0x1598f9(0x1f1)]('#新增预设')&_0x43c61d[_0x1598f9(_0x17df7e._0x364471)]&yushekg==0x0){yushekg=0x1,ys[0x0]=_0x43c61d[_0x1598f9(_0x17df7e._0x5d692e)][_0x1598f9(0x119)](/#新增预设/g,'')[_0x1598f9(0x19f)](),_0x43c61d[_0x1598f9(_0x17df7e._0x440525)](_0x1598f9(_0x17df7e._0x57d708));return;}if(yushekg==0x1&_0x43c61d['isMaster']){yushekg=0x0,ys[0x1]=_0x43c61d[_0x1598f9(0xf4)];let _0x2b8d01={'name':ys[0x0],'gjc':ys[0x1]};shuju[_0x1598f9(0x158)]['push'](_0x2b8d01),console[_0x1598f9(_0x17df7e._0x3e758e)](shuju);var _0x1b0c2f=JSON['stringify'](shuju);_0x23f934['writeFile'](_0x3deea0,_0x1b0c2f,_0x9ebbc6=>{const _0x2095cf=_0x1598f9;if(_0x9ebbc6)throw _0x9ebbc6;console[_0x2095cf(0x15f)]('文件写入成功！'),_0x43c61d['reply'](_0x2095cf(_0x50f0a5._0xd791ce));});return;}}async[_0x49b725(0x1c1)](_0x144f43){const _0x1ec3fb={_0xbc0bb1:0x150,_0x45213e:0x14b,_0x8c9112:0x119,_0x35633d:0x144,_0x2eafc2:0x14b,_0x412ebb:0xfb,_0x553016:0x182,_0x206614:0x106,_0x5d338e:0x1f1},_0x4b1c52=_0x49b725;_0x144f43['msg'][_0x4b1c52(0x1f1)](_0x4b1c52(_0x1ec3fb._0xbc0bb1))&_0x144f43[_0x4b1c52(0x1e4)]&&(_0x144f43[_0x4b1c52(_0x1ec3fb._0x45213e)](_0x4b1c52(0x120)),pc=_0x144f43[_0x4b1c52(0xf4)][_0x4b1c52(_0x1ec3fb._0x8c9112)](/#新增屏蔽词/g,'')[_0x4b1c52(0x19f)]()),_0x144f43[_0x4b1c52(0xf4)]==_0x4b1c52(_0x1ec3fb._0x35633d)&_0x144f43[_0x4b1c52(0x1e4)]&&_0x144f43[_0x4b1c52(_0x1ec3fb._0x2eafc2)]([_0x4b1c52(_0x1ec3fb._0x412ebb),pc]),_0x144f43[_0x4b1c52(0xf4)][_0x4b1c52(0x1f1)](_0x4b1c52(_0x1ec3fb._0x553016))&_0x144f43[_0x4b1c52(0x1e4)]&&(_0x144f43[_0x4b1c52(0x14b)]('删除屏蔽词成功'+_0x4b1c52(_0x1ec3fb._0x206614)),pc=''),_0x144f43['msg'][_0x4b1c52(_0x1ec3fb._0x5d338e)](_0x4b1c52(0x192))&_0x144f43[_0x4b1c52(0x1e4)]&&(_0x144f43[_0x4b1c52(_0x1ec3fb._0x45213e)](_0x4b1c52(0x193)),pc=_0x4b1c52(0x170));}async[_0x49b725(0x104)](_0x5cf442){const _0x1aed81={_0x1c5e19:0x1d7,_0x17640d:0x1e4,_0x1c3de8:0x14b,_0x2dfd1c:0xf5,_0x21f5ea:0x14a,_0x5d408e:0x14b,_0xf0a91b:0xf4,_0x3c7e44:0x1f1,_0x71eb24:0x1e4,_0x5268a2:0x1d4,_0x410003:0x199,_0x521a9e:0x134,_0x4e633d:0x1cd,_0x418383:0x1f1,_0x24a95d:0xf4,_0x8d411d:0x119,_0x50d289:0x1ef,_0x1c4506:0x16c,_0x296cf1:0x1c9,_0x54fb28:0xf4,_0xe55989:0x14f,_0x116e5a:0x14b,_0x30d617:0x1d1},_0x40f4fc=_0x49b725;_0x5cf442['msg']==_0x40f4fc(_0x1aed81._0x1c5e19)&_0x5cf442[_0x40f4fc(_0x1aed81._0x17640d)]&&(_0x5cf442[_0x40f4fc(_0x1aed81._0x1c3de8)](_0x40f4fc(_0x1aed81._0x2dfd1c)),ss=0x1);_0x5cf442[_0x40f4fc(0xf4)]==_0x40f4fc(_0x1aed81._0x21f5ea)&_0x5cf442[_0x40f4fc(_0x1aed81._0x17640d)]&&(_0x5cf442[_0x40f4fc(_0x1aed81._0x5d408e)](_0x40f4fc(0xf6)),ss=0x0);await dqpz();if(_0x5cf442[_0x40f4fc(_0x1aed81._0xf0a91b)][_0x40f4fc(_0x1aed81._0x3c7e44)](_0x40f4fc(0x14e))&_0x5cf442[_0x40f4fc(_0x1aed81._0x71eb24)]){nr[0x3]=0x0,nr[0x0]=0x0,_0x23f934[_0x40f4fc(0x14f)](Path,nr[_0x40f4fc(0x199)](),_0x40f4fc(0x134)),cd=0x0,kg2=0x0,kg=0x0,sc=0x0,iscd=0x0,_0x5cf442[_0x40f4fc(_0x1aed81._0x5d408e)](_0x40f4fc(0x12f));return;}if(_0x5cf442[_0x40f4fc(0xf4)]['includes'](_0x40f4fc(_0x1aed81._0x5268a2))&_0x5cf442[_0x40f4fc(0x1e4)]){nr[0x0]=0x7530,nr[0x3]=0x1,_0x23f934['writeFileSync'](Path,nr[_0x40f4fc(_0x1aed81._0x410003)](),_0x40f4fc(_0x1aed81._0x521a9e)),cd=0x7530,_0x5cf442[_0x40f4fc(_0x1aed81._0x1c3de8)](_0x40f4fc(_0x1aed81._0x4e633d));return;}if(_0x5cf442[_0x40f4fc(0xf4)][_0x40f4fc(_0x1aed81._0x418383)](_0x40f4fc(0x1f0))&_0x5cf442[_0x40f4fc(_0x1aed81._0x17640d)]){let _0xfcd8f4=_0x5cf442[_0x40f4fc(_0x1aed81._0x24a95d)][_0x40f4fc(_0x1aed81._0x8d411d)](/#土块画图冷却/g,'')[_0x40f4fc(0x19f)]();cd=Number(_0xfcd8f4)*0x3e8,nr[0x0]=cd,nr[0x3]=0x1,_0x23f934[_0x40f4fc(0x14f)](Path,nr['toString'](),_0x40f4fc(_0x1aed81._0x521a9e)),_0x5cf442[_0x40f4fc(_0x1aed81._0x5d408e)](_0x40f4fc(0x172)+_0xfcd8f4+'秒');}if(_0x5cf442['msg'][_0x40f4fc(0x1f1)]('#土块画图撤回关闭')&_0x5cf442[_0x40f4fc(0x1e4)]){nr[0x2]=0x0,_0x23f934['writeFileSync'](Path,nr[_0x40f4fc(_0x1aed81._0x410003)](),_0x40f4fc(_0x1aed81._0x521a9e)),isch=0x0,_0x5cf442[_0x40f4fc(0x14b)](_0x40f4fc(_0x1aed81._0x50d289));return;}if(_0x5cf442[_0x40f4fc(0xf4)][_0x40f4fc(0x1f1)](_0x40f4fc(_0x1aed81._0x1c4506))&_0x5cf442[_0x40f4fc(0x1e4)]){isch=0x1,nr[0x1]=0x7530,nr[0x2]=0x1,_0x23f934['writeFileSync'](Path,nr[_0x40f4fc(0x199)](),_0x40f4fc(0x134)),timeout=0x7530,_0x5cf442['reply'](_0x40f4fc(_0x1aed81._0x296cf1));return;}if(_0x5cf442[_0x40f4fc(_0x1aed81._0xf0a91b)][_0x40f4fc(0x1f1)](_0x40f4fc(0x1ea))&_0x5cf442['isMaster']){isch=0x1;let _0x6fa3dc=_0x5cf442[_0x40f4fc(_0x1aed81._0x54fb28)]['replace'](/#土块画图撤回/g,'')['trim']();timeout=Number(_0x6fa3dc)*0x3e8,nr[0x1]=timeout,nr[0x2]=0x1,_0x23f934[_0x40f4fc(_0x1aed81._0xe55989)](Path,nr[_0x40f4fc(_0x1aed81._0x410003)](),'utf-8'),_0x5cf442[_0x40f4fc(_0x1aed81._0x116e5a)](_0x40f4fc(0x15d)+_0x6fa3dc+'秒');}_0x5cf442[_0x40f4fc(_0x1aed81._0x24a95d)]==_0x40f4fc(0x142)&&(kg=0x0,sc=0x0,zt=0x0,id='',console[_0x40f4fc(0x15f)](_0x40f4fc(0x160)),kg2=0x0,_0x5cf442[_0x40f4fc(_0x1aed81._0x116e5a)](_0x40f4fc(0x122))),_0x5cf442[_0x40f4fc(_0x1aed81._0xf0a91b)]=='#所有人可画'&_0x5cf442[_0x40f4fc(_0x1aed81._0x71eb24)]&&(_0x5cf442[_0x40f4fc(0x14b)]('好吧，那就一起来吧！'),zr=0x0),_0x5cf442['msg']=='#仅我可画'&_0x5cf442[_0x40f4fc(0x1e4)]&&(_0x5cf442['reply'](_0x40f4fc(_0x1aed81._0x30d617)),zr=0x1);}async[_0x49b725(0x1d0)](_0x54ac34){const _0x181bc2={_0x3b362a:0x1bd,_0xd26775:0xf4,_0x42b837:0xf4,_0x1abcb5:0x1f1,_0xd3205d:0x15c,_0x3235df:0x1de,_0x67fdb9:0xf7,_0x3b91a7:0x14b,_0x5d436a:0x153,_0x40b090:0x1bd,_0x16fc3c:0xee,_0x4e3cd1:0x15f,_0x2412ea:0x1ed,_0x3faddb:0x15f,_0x404853:0x147,_0xf7b877:0x184,_0x426128:0x119,_0x1e6d3d:0x1f1,_0x3c67f1:0x19f,_0x10a33b:0x105,_0x5d4cbc:0x1f1,_0x10063d:0x19d,_0x56d3ea:0x14b,_0x189dac:0x171,_0x22bcde:0x1cb,_0x3e082a:0x100,_0x1116c2:0x101,_0x2e6082:0x11e,_0x596fe4:0x119,_0x46fa00:0x10f,_0x29ab1e:0x19f,_0x2497ab:0xf4,_0x2b0c0e:0xf4,_0x58f538:0x1a8,_0x2a515d:0xf4,_0x5c7b83:0x119,_0x1dbfdb:0x111,_0x5a3b93:0x119,_0x1e08a1:0x1a3,_0x8b8ba8:0x18f,_0x148727:0x13e,_0x1abcea:0xef,_0x5f43c8:0x119,_0x1127d4:0x13a,_0x636dc:0x1df,_0x16d3d3:0x1a6,_0x4429b5:0x1e8,_0x37550b:0x116,_0x384dde:0x165,_0x8b0c8a:0x1d8,_0xa7134a:0x15a,_0x2452a6:0x189,_0x502af5:0x11a,_0x45acf1:0x190,_0x99c5fe:0x15e,_0x44fdb2:0xeb,_0x47b3d6:0x124,_0x40d6a0:0x1bd,_0x1ab388:0xf4,_0x32cddd:0x136,_0x4206a7:0x137,_0x2c21c1:0x181},_0x5c33ce={_0x3ae23e:0x14b,_0x2ea49b:0x1ca},_0xf300d1=_0x49b725;if(_0x54ac34[_0xf300d1(0x1bd)]!=undefined&zt==0x0&mfkg==0x0)return![];if(_0x54ac34[_0xf300d1(_0x181bc2._0x3b362a)]==undefined&_0x54ac34[_0xf300d1(0xf4)]!=undefined){if(_0x54ac34[_0xf300d1(_0x181bc2._0xd26775)]['includes'](_0xf300d1(0xec))==![]&_0x54ac34['img']==undefined&zt==0x0&_0x54ac34[_0xf300d1(_0x181bc2._0x42b837)][_0xf300d1(_0x181bc2._0x1abcb5)](_0xf300d1(_0x181bc2._0xd3205d))==![]&mfkg==0x0)return![];}mfkg==0x0&_0x54ac34['msg']=='#查看魔法'&&(mfkg=0x1,mfid=_0x54ac34[_0xf300d1(0xf7)],_0x54ac34['reply'](_0xf300d1(_0x181bc2._0x3235df)),mf=setTimeout(()=>{const _0x2441be=_0xf300d1;if(mfkg==0x1){mfkg=0x0,_0x54ac34[_0x2441be(_0x5c33ce._0x3ae23e)](_0x2441be(_0x5c33ce._0x2ea49b));return;}},0x3a98));if(_0x54ac34['img']!=undefined&mfkg==0x1&mfid==_0x54ac34[_0xf300d1(_0x181bc2._0x67fdb9)]){clearTimeout(mf),_0x54ac34[_0xf300d1(_0x181bc2._0x3b91a7)](_0xf300d1(0x15b)),mfkg=0x0,mfid='';let _0x29bc2d=_0xf300d1(_0x181bc2._0x5d436a);console[_0xf300d1(0x15f)](_0x54ac34['img']),_0x29bc2d=_0x29bc2d+_0x54ac34[_0xf300d1(_0x181bc2._0x40b090)][0x0],res=await _0x4497dd(_0x29bc2d,{'method':_0xf300d1(0x173),'headers':{'Content-Type':_0xf300d1(_0x181bc2._0x16fc3c),'User-Agent':_0xf300d1(0x197)}});let _0x21ac80=await res['json']();console[_0xf300d1(_0x181bc2._0x4e3cd1)](_0xf300d1(_0x181bc2._0x2412ea)+_0x21ac80),console[_0xf300d1(_0x181bc2._0x3faddb)](_0x21ac80);if(_0x21ac80!=undefined)_0x54ac34['reply'](_0x21ac80[_0xf300d1(0x148)],!![]),_0x21ac80['code']==-0x1&&(_0x54ac34['reply'](_0xf300d1(_0x181bc2._0x404853)),mfkg=0x0,mfid='');else{}}if(_0x54ac34[_0xf300d1(_0x181bc2._0x3b362a)]==undefined&zt==0x1)return![];if(_0x54ac34[_0xf300d1(0x1bd)]==undefined&_0x54ac34[_0xf300d1(0xf4)]!=undefined){dqpz();if(_0x54ac34[_0xf300d1(0xf4)]['includes'](_0xf300d1(_0x181bc2._0xf7b877))&_0x54ac34['isMaster']){xsd=Number(_0x54ac34['msg'][_0xf300d1(_0x181bc2._0x426128)](/#以图生草相似度/g,'')[_0xf300d1(0x19f)]())/0x64,_0x54ac34[_0xf300d1(_0x181bc2._0x3b91a7)](_0xf300d1(0x175)+String(xsd)),console['log'](xsd);return;}if(_0x54ac34['msg'][_0xf300d1(_0x181bc2._0x1e6d3d)](_0xf300d1(0x1cc))&_0x54ac34[_0xf300d1(0x1e4)]){jz=Number(_0x54ac34[_0xf300d1(0xf4)][_0xf300d1(_0x181bc2._0x426128)](/#以图生草降噪/g,'')[_0xf300d1(_0x181bc2._0x3c67f1)]())/0x64,_0x54ac34[_0xf300d1(0x14b)](_0xf300d1(_0x181bc2._0x10a33b)+String(jz)),console[_0xf300d1(0x15f)](jz);return;}if(zt==0x0&&sc==0x0&&_0x54ac34['msg'][_0xf300d1(_0x181bc2._0x5d4cbc)](_0xf300d1(0xec))){if(_0x54ac34[_0xf300d1(_0x181bc2._0x10063d)]){_0x54ac34[_0xf300d1(_0x181bc2._0x56d3ea)]('以图生草暂不支持私聊');return;}dqpz();let _0x35949a='';try{_0x35949a=_0x23f934['readFileSync']('./resources/th2.txt');}catch{_0x54ac34['reply'](_0xf300d1(0x10c));return;}_0x35949a=_0x35949a[_0xf300d1(0x199)]();let _0x11b424=_0x2d3551[_0xf300d1(_0x181bc2._0x189dac)](_0x23f934['readFileSync'](_0xf300d1(_0x181bc2._0x22bcde),_0xf300d1(_0x181bc2._0x3e082a)));_0x11b424=_0x11b424[_0xf300d1(0x127)][0x0];try{let _0x3e99da=_0xf300d1(0x1ac)+_0x35949a+_0xf300d1(_0x181bc2._0x1116c2)+String(_0x11b424);res=await _0x4497dd(_0x3e99da,{'agent':isdl?await getAgent():''}),console[_0xf300d1(0x15f)]('访问成功了');}catch(_0x2d2ab6){console['log'](_0x2d2ab6),console[_0xf300d1(_0x181bc2._0x3faddb)](_0xf300d1(0x1d8));}res=await res['text']();if(res[_0xf300d1(_0x181bc2._0x1e6d3d)](_0xf300d1(0x143))==![]){_0x54ac34[_0xf300d1(0x14b)](_0xf300d1(_0x181bc2._0x2e6082)),console['log'](res);return;}console[_0xf300d1(0x15f)]('以图生草'),id=_0x54ac34['user_id'],chang=0x200,kuan=0x200,gjc2=_0x54ac34[_0xf300d1(0xf4)][_0xf300d1(_0x181bc2._0x596fe4)](/#以图生草/g,'')[_0xf300d1(_0x181bc2._0x3c67f1)]();_0x54ac34['msg'][_0xf300d1(_0x181bc2._0x1e6d3d)](_0xf300d1(_0x181bc2._0x46fa00))&&(chang=0x300,kuan=0x200,gjc2=_0x54ac34[_0xf300d1(0xf4)]['replace'](/#以图生草长图/g,'')[_0xf300d1(_0x181bc2._0x29ab1e)]());_0x54ac34['msg'][_0xf300d1(0x1f1)]('以图生草宽图')&&(chang=0x200,kuan=0x300,gjc2=_0x54ac34[_0xf300d1(0xf4)][_0xf300d1(_0x181bc2._0x426128)](/#以图生草宽图/g,'')['trim']());gjc2=_0x54ac34[_0xf300d1(_0x181bc2._0x2497ab)]['replace'](/#以图生草/g,'')[_0xf300d1(_0x181bc2._0x29ab1e)]();_0x54ac34[_0xf300d1(0xf4)]['includes'](_0xf300d1(_0x181bc2._0x46fa00))&&(chang=0x300,kuan=0x200,gjc2=_0x54ac34[_0xf300d1(_0x181bc2._0x2b0c0e)][_0xf300d1(0x119)](/#以图生草长图/g,'')[_0xf300d1(0x19f)]());_0x54ac34[_0xf300d1(0xf4)][_0xf300d1(0x1f1)](_0xf300d1(_0x181bc2._0x58f538))&&(chang=0x200,kuan=0x300,gjc2=_0x54ac34[_0xf300d1(_0x181bc2._0x2a515d)][_0xf300d1(_0x181bc2._0x5c7b83)](/#以图生草宽图/g,'')[_0xf300d1(0x19f)]());var _0x1f5a79=new RegExp('[\x5cu4E00-\x5cu9FFF]+','g');let _0x5d03e9='',_0x5b56ce='';if(_0x1f5a79['test'](gjc2)&_0x54ac34['msg']['includes']('序号')==![]){let _0x2fc24f='http://42.194.131.94/wj.php',_0x462c3f=await _0x4497dd(_0x2fc24f);_0x5d03e9=await _0x462c3f[_0xf300d1(_0x181bc2._0x1dbfdb)](),_0x5d03e9=_0x5d03e9['name'];for(let _0x592857=0x0;_0x592857<_0x5d03e9['length'];_0x592857++){if(gjc2['includes'](_0x5d03e9[_0x592857]['zw'])==!![]&_0x5d03e9[_0x592857]['zw']!=''){_0x5b56ce=_0x5d03e9[_0x592857]['zw'],gjc2=gjc2[_0xf300d1(_0x181bc2._0x5a3b93)](new RegExp(_0x5b56ce,'g'),_0xf300d1(_0x181bc2._0x1e08a1)),_0x5b56ce=_0x5d03e9[_0x592857]['pt'];break;}}}console[_0xf300d1(0x15f)](gjc2);if(_0x1f5a79[_0xf300d1(_0x181bc2._0x8b8ba8)](gjc2)){console['log'](_0xf300d1(_0x181bc2._0x148727));let _0x281a61=_0xf300d1(_0x181bc2._0x1abcea)+gjc2,_0x2fd4cb=await _0x4497dd(_0x281a61),_0x5e7e57=await _0x2fd4cb[_0xf300d1(0x191)]();_0x5e7e57=_0x5e7e57[_0xf300d1(0x119)](/有道翻译查询结果/g,'')[_0xf300d1(0x19f)](),_0x5e7e57=_0x5e7e57[_0xf300d1(_0x181bc2._0x5f43c8)](/翻译后/g,'')['trim'](),_0x5e7e57=_0x5e7e57['replace'](/翻译前/g,'')[_0xf300d1(0x19f)](),_0x5e7e57=_0x5e7e57['replace'](/：/g,'')['trim'](),_0x5e7e57=_0x5e7e57[_0xf300d1(0x119)](new RegExp(gjc2,'g'),''),gjc2=_0x5b56ce+','+_0x5e7e57,console[_0xf300d1(0x15f)](gjc2);}else console[_0xf300d1(0x15f)](_0xf300d1(0x183));zt=0x1,ycqx=setTimeout(()=>{const _0x1f09b6=_0xf300d1;if(zt==0x1){zt=0x0,_0x54ac34['reply'](_0x1f09b6(0xed));return;}},0x7530),_0x54ac34['reply']([segment['at'](id),_0xf300d1(_0x181bc2._0x1127d4)]);return;}}if(sc==0x0&_0x54ac34[_0xf300d1(_0x181bc2._0x636dc)]&zt==0x1&_0x54ac34['img']!=undefined){clearTimeout(ycqx);if(_0x54ac34[_0xf300d1(0xf7)]==id&zt==0x1){sc=0x1;let _0x5f2568=await imgUrlToBase64(_0x54ac34[_0xf300d1(_0x181bc2._0x3b362a)][0x0][_0xf300d1(0x119)](/https/g,_0xf300d1(0x198))[_0xf300d1(0x19f)]()),_0x5cb55a=_0x5f2568[_0xf300d1(0x180)],_0x36f324=Math[_0xf300d1(0x19a)](Math[_0xf300d1(_0x181bc2._0x16d3d3)]()*0xb6cff090);var _0x17ef95={'init_images':[_0xf300d1(0x125)+_0x5cb55a],'resize_mode':0x2,'denoising_strength':0x1-xsd,'mask_blur':0x4,'inpainting_fill':0x0,'inpaint_full_res':!![],'inpaint_full_res_padding':0x0,'inpainting_mask_invert':0x0,'prompt':gjc2,'styles':[_0xf300d1(_0x181bc2._0x4429b5)],'seed':-0x1,'subseed':-0x1,'subseed_strength':0x0,'seed_resize_from_h':-0x1,'seed_resize_from_w':-0x1,'sampler_name':_0xf300d1(0x1e8),'batch_size':0x1,'n_iter':0x1,'steps':0x32,'cfg_scale':guimo+0x2,'width':kuan,'height':chang,'restore_faces':![],'tiling':![],'negative_prompt':pc,'eta':0x0,'s_churn':0x0,'s_tmax':0x0,'s_tmin':0x0,'s_noise':0x1,'override_settings':{},'sampler_index':_0xf300d1(_0x181bc2._0x37550b),'include_init_images':![]};_0x54ac34['reply'](_0xf300d1(_0x181bc2._0x384dde)),zt=0x0;try{res=await _0x4497dd(_0xf300d1(0x178),{'method':_0xf300d1(0x14d),'agent':isdl?await getAgent():'','body':JSON['stringify'](_0x17ef95),'headers':{'Content-Type':_0xf300d1(_0x181bc2._0x16fc3c),'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36'}});}catch(_0x70aba9){console[_0xf300d1(0x15f)](_0x70aba9),console[_0xf300d1(0x15f)](_0xf300d1(_0x181bc2._0x8b0c8a)),kg=0x0;return;}let _0xdfde17=await res[_0xf300d1(0x111)]();_0xdfde17=_0xdfde17[_0xf300d1(_0x181bc2._0xa7134a)],_0x54ac34[_0xf300d1(0x14b)](_0xf300d1(0x17b)),await _0x23f934[_0xf300d1(0x154)](_0xf300d1(_0x181bc2._0x2452a6),_0xdfde17[_0xf300d1(0x199)](),_0xf300d1(0xfd),_0x20a6de=>{const _0xfec997=_0xf300d1;_0x20a6de?console['log']('写入文件错误'):console[_0xfec997(0x15f)](_0xfec997(0x1ce));}),await sleep(0x1f4),msg2=[segment['at'](_0x54ac34[_0xf300d1(0xf7)]),segment[_0xf300d1(_0x181bc2._0x502af5)](ml+_0xf300d1(0x17f))],await sleep(0x1f4),iscd=0x0,sc=0x0,id='';ss==0x0&&(await main('./resources/3.jpg'),console[_0xf300d1(0x15f)](tpjc));let _0x2e07c0;tpjc==_0xf300d1(0x1c5)&ss==0x0?_0x2e07c0=_0x54ac34[_0xf300d1(0x14b)](_0xf300d1(_0x181bc2._0x45acf1)):_0x2e07c0=await _0x54ac34[_0xf300d1(0x14b)](msg2);iscd=0x1,console[_0xf300d1(0x15f)](_0x2e07c0['message_id'],isch);if(_0x2e07c0&&_0x2e07c0[_0xf300d1(_0x181bc2._0x99c5fe)]&&isch==0x1&&_0x54ac34[_0xf300d1(0x1df)]){let _0x5896f4=_0x54ac34[_0xf300d1(_0x181bc2._0x44fdb2)];setTimeout(()=>{const _0x107130=_0xf300d1;_0x5896f4['recallMsg'](_0x2e07c0[_0x107130(0x15e)]);},timeout);}startTimeMS=new Date()[_0xf300d1(_0x181bc2._0x47b3d6)](),t=setTimeout(()=>{iscd=0x0,sc=0x0,id='';},cd);}}else{if(_0x54ac34[_0xf300d1(_0x181bc2._0x40d6a0)]==undefined&_0x54ac34[_0xf300d1(0xf4)]!=undefined){if(_0x54ac34[_0xf300d1(_0x181bc2._0x1ab388)][_0xf300d1(0x1f1)](_0xf300d1(0xec))){if(iscd==0x1){console[_0xf300d1(0x15f)](iscd);let _0x27ef32=cd-(new Date()['getTime']()-startTimeMS);_0x27ef32=Math[_0xf300d1(_0x181bc2._0x32cddd)](_0x27ef32/0x3e8);if(_0x27ef32<0x0){sc=0x0,id='';return;}_0x54ac34['reply']('我在cd中，还有'+String(_0x27ef32)+_0xf300d1(_0x181bc2._0x4206a7));}else _0x54ac34[_0xf300d1(0x14b)](_0xf300d1(_0x181bc2._0x2c21c1));}}}}async['huatu2'](_0x4b22ea){const _0x2e7a5b={_0x9b4322:0xf4,_0x97a3b1:0x11d,_0x28d6e0:0xf4,_0x39fbca:0x14b,_0x55741a:0x111,_0x33b8fe:0x119,_0x5e8920:0xf4,_0x5e8e13:0x15f,_0x33f19e:0xef,_0x573e19:0x19f,_0x2429fd:0x119,_0x490f9b:0x183,_0x55cbb9:0xf4,_0x1d8022:0x115,_0xc5db2d:0x13c,_0x10ed1e:0x119,_0x3cdb39:0xfc,_0x3a514d:0x1b1,_0x2674bc:0x19a,_0x2a4ab7:0x1a6,_0x314a92:0x149,_0x564116:0x17d,_0x6aa420:0x149,_0x2630f6:0x199,_0x192248:0x199,_0x13cd0c:0x16b,_0x179581:0x14b,_0x68fc09:0x10c,_0x55988a:0x199,_0x5cc628:0x100,_0x23343e:0x1ac,_0x396c7d:0x1d8,_0x18f350:0x1f1,_0x1d44cd:0x14b,_0xb89457:0x151,_0x2018be:0x1c6,_0x2defa9:0x12c,_0x253621:0x133,_0x49ed51:0x15a,_0x402209:0x1c5,_0x2a8deb:0x14b,_0x558945:0x14b,_0x2fe626:0x15e,_0x36d7cb:0xeb,_0x3a364c:0x124,_0x40d29a:0x136,_0x3cd898:0x103,_0x378276:0x14b,_0x2c1e0a:0x18e},_0x3aaaa6={_0x3e1dc4:0x15e},_0x599461={_0x571996:0x158,_0x12d884:0x18f,_0x57ae9:0x1a0,_0x146599:0x1e2},_0x4759fe=_0x49b725;dqpz();if(_0x4b22ea[_0x4759fe(_0x2e7a5b._0x9b4322)]['includes'](_0x4759fe(_0x2e7a5b._0x97a3b1))&!_0x4b22ea[_0x4759fe(0x1e4)]){_0x4b22ea['reply']('你不是主人，不能用预设哦');return;}let _0x2d14eb,_0x439824,_0x1dc95e;_0x4b22ea[_0x4759fe(_0x2e7a5b._0x28d6e0)][_0x4759fe(0x1f1)]('#土块画图预设')==![]&&(_0x1dc95e=_0x4b22ea[_0x4759fe(0xf4)][_0x4759fe(0x119)](/#绘个图/g,'')[_0x4759fe(0x19f)]());if(kg2==0x0&_0x4b22ea['isGroup']|_0x4b22ea['isMaster']){kg2==0x1&&_0x4b22ea[_0x4759fe(_0x2e7a5b._0x39fbca)](_0x4759fe(0x135));if(zr==0x1&!_0x4b22ea['isMaster']){_0x4b22ea[_0x4759fe(0x14b)](_0x4759fe(0x1be));return;}kg2=0x1;let _0x14a89d=_0x1dc95e,_0x4d3e7d='',_0x237ede='';var _0x4808b1=new RegExp(_0x4759fe(0x1eb),'g');if(_0x4808b1[_0x4759fe(0x18f)](_0x14a89d)&_0x4b22ea[_0x4759fe(_0x2e7a5b._0x9b4322)][_0x4759fe(0x1f1)]('序号')==![]){let _0x1a02ef=_0x4759fe(0x185),_0x182577=await _0x4497dd(_0x1a02ef);_0x4d3e7d=await _0x182577[_0x4759fe(_0x2e7a5b._0x55741a)](),_0x4d3e7d=_0x4d3e7d['name'];for(let _0x9afe7e=0x0;_0x9afe7e<_0x4d3e7d['length'];_0x9afe7e++){if(_0x14a89d['includes'](_0x4d3e7d[_0x9afe7e]['zw'])==!![]&_0x4d3e7d[_0x9afe7e]['zw']!=''){_0x237ede=_0x4d3e7d[_0x9afe7e]['zw'],_0x14a89d=_0x14a89d[_0x4759fe(_0x2e7a5b._0x33b8fe)](new RegExp(_0x237ede,'g'),_0x4d3e7d[_0x9afe7e]['pt']),_0x237ede=_0x4d3e7d[_0x9afe7e]['pt'];break;}}}console['log'](_0x14a89d);if(_0x4808b1[_0x4759fe(0x18f)](_0x14a89d)&_0x4b22ea[_0x4759fe(_0x2e7a5b._0x5e8920)][_0x4759fe(0x1f1)]('序号')==![]){console[_0x4759fe(_0x2e7a5b._0x5e8e13)]('包含中文');let _0x5d1752=_0x4759fe(_0x2e7a5b._0x33f19e)+_0x14a89d,_0x27fc62=await _0x4497dd(_0x5d1752),_0x1b57a2=await _0x27fc62[_0x4759fe(0x191)]();_0x1b57a2=_0x1b57a2['replace'](/有道翻译查询结果/g,'')[_0x4759fe(0x19f)](),_0x1b57a2=_0x1b57a2['replace'](/翻译后/g,'')[_0x4759fe(0x19f)](),_0x1b57a2=_0x1b57a2[_0x4759fe(0x119)](/翻译前/g,'')[_0x4759fe(_0x2e7a5b._0x573e19)](),_0x1b57a2=_0x1b57a2[_0x4759fe(_0x2e7a5b._0x2429fd)](/：/g,'')[_0x4759fe(_0x2e7a5b._0x573e19)](),_0x1b57a2=_0x1b57a2['replace'](new RegExp(_0x14a89d,'g'),''),res4=_0x237ede+','+_0x1b57a2,console[_0x4759fe(0x15f)](res4);}else console['log'](_0x4759fe(_0x2e7a5b._0x490f9b)),res4=_0x237ede+','+_0x14a89d,console[_0x4759fe(0x15f)](res4);let _0x227404,_0x3c8eee;if(_0x4b22ea[_0x4759fe(_0x2e7a5b._0x5e8920)]['includes'](_0x4759fe(0x11d))&_0x4b22ea[_0x4759fe(0x1e4)]){_0x439824=_0x4b22ea[_0x4759fe(_0x2e7a5b._0x55cbb9)]['replace'](/#土块画图预设/g,'')[_0x4759fe(_0x2e7a5b._0x573e19)]();let _0x50ce3=ml+_0x4759fe(0x12a);await _0x23f934[_0x4759fe(0x1d9)](_0x50ce3,(_0x4cee95,_0x42bca8)=>{const _0x4a2fa6=_0x4759fe;_0x2d14eb=JSON['parse'](_0x42bca8[_0x4a2fa6(0x199)]()),_0x3c8eee=_0x2d14eb[_0x4a2fa6(_0x599461._0x571996)];var _0x5bf572=new RegExp(_0x4a2fa6(0x1eb),'g');if(_0x5bf572[_0x4a2fa6(_0x599461._0x12d884)](_0x439824))console[_0x4a2fa6(0x15f)](_0x4a2fa6(_0x599461._0x57ae9)),_0x227404=_0x3c8eee[_0x4a2fa6(_0x599461._0x146599)](_0x4d1ab9=>_0x4d1ab9[_0x4a2fa6(0x110)]==_0x439824);else{_0x227404=Number(_0x439824)-0x1;if(_0x227404>_0x3c8eee['length']){_0x227404=-0x1;return;}}}),await sleep(0x1f4),console['log'](_0x227404);if(_0x227404!=-0x1)res4=_0x3c8eee[_0x227404][_0x4759fe(_0x2e7a5b._0x1d8022)];else{_0x4b22ea['reply'](_0x4759fe(0x1c8));return;}}if(_0x4b22ea[_0x4759fe(0xf4)]['includes']('序号')){res4=res4[_0x4759fe(0x119)](/序号/g,'')[_0x4759fe(0x19f)]();let _0x40e1c6=_0x4759fe(_0x2e7a5b._0xc5db2d),_0x30ee58=await _0x4497dd(_0x40e1c6,{'agent':isdl?await getAgent():''}),_0x1b41af=await _0x30ee58['json'](),_0x54c8de=_0x1b41af[_0x4759fe(0x110)],_0x494257=_0x4b22ea[_0x4759fe(0xf4)]['substring'](0x6,0x9);const _0x261878=/\d+/;let _0x263505=_0x494257[_0x4759fe(0x1c2)](_0x261878),_0xed3ab9=_0x263505[0x0];res4=res4[_0x4759fe(_0x2e7a5b._0x10ed1e)](new RegExp(_0xed3ab9,'g'),''),_0x263505=Number(_0x263505[0x0]);try{res4=_0x54c8de[_0x263505+0x1]['pt']+res4,console['log'](res4);}catch{_0x4b22ea[_0x4759fe(0x14b)](_0x4759fe(_0x2e7a5b._0x3cdb39));return;}}await sleep(0x1f4),_0x4b22ea[_0x4759fe(0x14b)](_0x4759fe(_0x2e7a5b._0x3a514d));let _0x176461=Math[_0x4759fe(_0x2e7a5b._0x2674bc)](Math[_0x4759fe(_0x2e7a5b._0x2a4ab7)]()*0x2);_0x176461==0x0&&(changdu=0x200,kuandu=0x300);_0x176461==0x1&&(changdu=0x300,kuandu=0x200);console[_0x4759fe(_0x2e7a5b._0x5e8e13)](_0x176461);var _0xd99df0=_0x4759fe(0x19b),_0x218aeb=[res4,pc,_0x4759fe(0x149),_0x4759fe(0x149),0x14,'Euler\x20a',![],![],0x1,0x1,0x7,-0x1,-0x1,0x0,0x0,0x0,![],changdu,kuandu,![],![],0.7,_0x4759fe(_0x2e7a5b._0x314a92),![],![],null,'',_0x4759fe(0x162),'',_0x4759fe(_0x2e7a5b._0x564116),'',!![],![],null,'',''],_0x101827=[res4,pc,_0x4759fe(_0x2e7a5b._0x6aa420),'None',0x1c,'Euler\x20a',![],![],0x1,0x1,0xb,-0x1,-0x1,0x0,0x0,0x0,![],0x200,0x200,![],![],0.7,_0x4759fe(_0x2e7a5b._0x6aa420),![],![],null,'','Seed','',_0x4759fe(0x17d),'',!![],![],null,'',''];let _0x3e8893=_0x4759fe(0x186),_0x4ba7cd=Math[_0x4759fe(0x19a)](Math[_0x4759fe(0x1a6)]()*0xb6cff090),_0x124278=_0x4759fe(0x18c)+moxing+'\x20\x20\x20|规模:'+guimo[_0x4759fe(_0x2e7a5b._0x2630f6)]()+_0x4759fe(0x174)+bushu[_0x4759fe(_0x2e7a5b._0x192248)]()+'\x20\x20\x20\x20\x20\x20\x20\x20|seed:'+_0x4ba7cd['toString'](),_0x108f67='';try{_0x108f67=_0x23f934[_0x4759fe(_0x2e7a5b._0x13cd0c)]('./resources/th2.txt');}catch{_0x4b22ea[_0x4759fe(_0x2e7a5b._0x179581)](_0x4759fe(_0x2e7a5b._0x68fc09));return;}_0x108f67=_0x108f67[_0x4759fe(_0x2e7a5b._0x55988a)]();let _0x250ea5=_0x2d3551[_0x4759fe(0x171)](_0x23f934[_0x4759fe(0x16b)]('./config/config/other.yaml',_0x4759fe(_0x2e7a5b._0x5cc628)));_0x250ea5=_0x250ea5[_0x4759fe(0x127)][0x0];try{let _0x1bef39=_0x4759fe(_0x2e7a5b._0x23343e)+_0x108f67+'&qq='+String(_0x250ea5);res=await _0x4497dd(_0x1bef39,{'agent':isdl?await getAgent():''}),console[_0x4759fe(0x15f)](_0x4759fe(0x161));}catch(_0xc0759e){console['log'](_0xc0759e),console[_0x4759fe(0x15f)](_0x4759fe(_0x2e7a5b._0x396c7d));}res=await res[_0x4759fe(0x191)]();if(res[_0x4759fe(_0x2e7a5b._0x18f350)]('可以访问')==![]){_0x4b22ea[_0x4759fe(_0x2e7a5b._0x1d44cd)](_0x4759fe(_0x2e7a5b._0xb89457)),console[_0x4759fe(0x15f)](res);return;}let _0x28890c=await _0x4497dd(_0x4759fe(_0x2e7a5b._0x2018be),{'method':_0x4759fe(_0x2e7a5b._0x2defa9),'agent':isdl?await getAgent():'','headers':{'Content-Type':'application/json','authorization':_0x4759fe(0x10d)},'body':JSON[_0x4759fe(0x1ec)]({'prompt':_0x4759fe(_0x2e7a5b._0x253621)+res4,'width':kuandu,'height':changdu,'cfg_scale':guimo+0x2,'sampler':moxing,'steps':0x17,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0x28890c[_0x4759fe(0x111)](),_0x4b22ea['reply']('成功了！'),res=res4[_0x4759fe(_0x2e7a5b._0x49ed51)][0x0],await _0x23f934['writeFile']('./resources/ht.png',res[_0x4759fe(0x199)](),'base64',_0x213763=>{const _0xb948c0=_0x4759fe;if(_0x213763)console['log'](_0xb948c0(0x18d));else{}});iscanshu==0x0&&(_0x124278='');await sleep(0x1f4);ss==0x0&&(await main(_0x4759fe(0x1b0)),console[_0x4759fe(0x15f)](tpjc));let _0xb94b59;tpjc==_0x4759fe(_0x2e7a5b._0x402209)&ss==0x0?_0xb94b59=_0x4b22ea[_0x4759fe(_0x2e7a5b._0x2a8deb)](_0x4759fe(0x190)):(msg2=[segment['image'](_0x4759fe(0x1b0)),_0x124278],_0xb94b59=await _0x4b22ea[_0x4759fe(_0x2e7a5b._0x558945)](msg2,ishuifu));iscd=0x1,console[_0x4759fe(0x15f)](_0xb94b59[_0x4759fe(0x15e)],isch);if(_0xb94b59&&_0xb94b59[_0x4759fe(_0x2e7a5b._0x2fe626)]&&isch==0x1&&_0x4b22ea[_0x4759fe(0x1df)]){let _0x54348f=_0x4b22ea[_0x4759fe(_0x2e7a5b._0x36d7cb)];setTimeout(()=>{const _0x50099e=_0x4759fe;_0x54348f[_0x50099e(0x1a2)](_0xb94b59[_0x50099e(_0x3aaaa6._0x3e1dc4)]);},timeout);}startTimeMS=new Date()[_0x4759fe(_0x2e7a5b._0x3a364c)](),t=setTimeout(()=>{kg2=0x0,iscd=0x0;},cd);}else{if(iscd==0x1){let _0x252175=cd-(new Date()[_0x4759fe(0x124)]()-startTimeMS);_0x252175=Math[_0x4759fe(_0x2e7a5b._0x40d29a)](_0x252175/0x3e8);if(_0x252175<0x0){kg2=0x0;return;}_0x4b22ea[_0x4759fe(0x14b)](_0x4759fe(_0x2e7a5b._0x3cd898)+String(_0x252175)+_0x4759fe(0x137));}else _0x4b22ea[_0x4759fe(_0x2e7a5b._0x378276)](_0x4759fe(_0x2e7a5b._0x2c1e0a));}}}function _0x41bf(){const _0x1e63a8=['https://aip.baidubce.com/rest/2.0/solution/v1/img_censor/v2/user_defined?access_token=','split','模型：','你还没有填写密钥哦。','Bearer','\x0a步数：','以图生草长图','name','json','bot','cwd','data','gjc','Euler\x20a','#开启代理','#关闭词条回复','replace','image','^#图生草(.*)','请添加预设关键词','#土块画图预设','很抱歉，你的密钥错误，不能生草','4369570iCZwQi','新增屏蔽词成功','二次元的','已取消当前画图','该密钥已被激活','getTime','data:image/jpeg;base64,','你好号主，成功再次激活','masterQQ','concat','已关闭代理','/plugins/earth-k-plugin/resources/htys/ys.json','./resources/th2.txt','POST','#查看所有采样','当前预设有：\x0a','已关闭画图冷却','规模已设置为','DPM++\x202S\x20a','#查看预设词条','masterpiece,\x20best\x20quality,','utf-8','你是主人，没有cd，欸嘿','round','秒可画','request','开启代理成功','请发送图片','http://0.0.0.0:0','https://www.tukuai.one/wj.php','screenshot','包含中文','body','./plugins/earth-k-plugin/resources/aiht/mx.html','DPM++\x202S\x20a\x20Karras','#取消画图','可以访问','#查看屏蔽词','ckmx','已激活密钥，号主为','访问失败了,QAQ,TvT','tags','None','#土块画图涩涩关闭','reply','512847WjAUwB','post','#土块画图冷却关闭','writeFileSync','#新增屏蔽词','很抱歉，你的密钥错误。','splice','https://xiaobapi.top/api/xb/api/upload_image_tags.php?url=','writeFile','access_token','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','194506fylmym','shuju','^#取消画图$|^#所有人可画$|^#仅我可画$|^#土块画图撤回(.*)$|^#土块画图冷却(.*)$|^#土块画图涩涩开启|^#土块画图涩涩关闭','images','正在查看魔法，请稍后啊，0v0','#查看魔法','已设置撤回时间为','message_id','log','已经取消','访问成功了','Seed','242317PencoT','土块AI画图','好的，我开始以图生草了','^#查看所有预设$|#新增预设(.*)|(.*)','DPM++\x202M\x20Karras','pop','end','已激活该密钥','readFileSync','#土块画图撤回开启','#关闭代理','453896MktacY','time','lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','parse','已设置冷却时间为','get','\x20\x0a步数:','当前相似度','^#二次元的他(.*)','二次元的空气吗？你艾特谁了？','https://www.tukuai.one/ytsc.php','404616csXgVb','DPM++\x202M','成功了！','^#开启代理|^#关闭代理|^#开启参数显示|^#关闭参数显示|^#开启词条回复|^#关闭词条回复','Steps','采样已设置为Heun','/resources/3.jpg','base64Img','正在生草中，我知道你很急，先别急','#删除屏蔽词','是英文','#以图生草相似度','http://42.194.131.94/wj.php','https://api.novelai.net/ai/generate-image\x20','&client_secret=','error','./resources/3.jpg','#新增预设','11792GTNBAn','模型:','写入文件错误','正在画图中，我知道你很急，但是你先别急。','test','又画涩图！你画涩图我已经发给主人了，别再画了！','text','#开启默认屏蔽词','已经开启默认屏蔽词','friend','seq','密钥不存在','Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36','http','toString','floor','abc','application/x-www-form-urlencoded','isPrivate','\x0a规模：','trim','预设包含中文','./plugins/earth-k-plugin/resources/aiht/ml.html','recallMsg','best\x20quality','^#以图生草(.*)$|(.*)','#开启参数显示','random','数字超过了预设个数','以图生草宽图','kqdl','https-proxy-agent','采样已设置为DPM++\x202S\x20a\x20Karras','https://www.tukuai.one//qx.php?tk=','length','已关闭词条回复','\x0a降噪：','./resources/ht.png','好的，我开始画图了，请稍等哦','1351tCnWOu','type','^#土块画图步数(.*)|^#查看画图设置','szmx','123','http://q2.qlogo.cn/headimg_dl?dst_uin=','9IshrRh','https://www.wolai.com/fFYRjryGk8ktsVvTWjgK5i','新增预设成功','huatu2','catch','img','对不起，你不可画哦','ysgn','已关闭参数显示','pbc','match','^#土块鉴黄教程','wdecy','不合规','https://www.tukuai.one/ht.php','#查看预设','没有这个预设哦','已开启画图撤回，撤回时间为30秒','15秒还未发图，查看魔法已取消','./config/config/other.yaml','#以图生草降噪','已开启画图冷却，冷却时间为30秒','写入文件成功','查看文档','huatu3','好的，权限已经关闭，只有你能画了','#开启词条回复','#删除预设','#土块画图冷却开启','tianxie','^#填写密钥(.*)','#土块画图涩涩开启','没有访问成功','readFile','ecydt','jhjc','/plugins/earth-k-plugin/resources/pz/pz.txt','DDMI','请发送要查看魔法的图片,0.0','isGroup','^#我的二次元','Heun','findIndex','20ejxUCo','isMaster','^#绘个图(.*)$|#土块画图预设(.*)$','采样已设置为DPM++\x202S\x20a','url','Resize\x20and\x20fill','步数已设置为','#土块画图撤回','[\x5cu4E00-\x5cu9FFF]+','stringify','魔法是：','采样已设置为DDMI','已关闭画图撤回','#土块画图冷却','includes','getChatHistory','group','#以图生草','30秒还未发图，以图生草已取消','application/json','https://api.sdgou.cc/api/fanyi/?msg=','步数不在合理范围内，28以下为合理范围','https://www.tukuai.one//diqiu.php?tk=','采样已设置为DPM++\x202M\x20Karras','szgm','msg','好的，已开启，请注意身体哦','好的，已关闭了','user_id','已开启词条回复','tsc','^#新增屏蔽词(.*)$|#查看屏蔽词$|#删除屏蔽词$|#开启默认屏蔽词$','当前屏蔽词有：','没有这个序号哦','base64','message','^#查看模型','utf8','&qq=','source','我在cd中，还有','qvht','当前降噪','我知道你要干嘛！注意身体！','&spec=5','已开启参数显示'];_0x41bf=function(){return _0x1e63a8;};return _0x41bf();}async function imgUrlToBase64(_0x733c4){let _0xd16928;return new Promise(function(_0x47c8b8,_0x39128d){const _0x2ebfce={_0x4bc8f2:0x114,_0x3c47f2:0x169},_0x2cce23=_0x4ce9;let _0x400691=http[_0x2cce23(0x173)](_0x733c4,function(_0x51db39){const _0x13f009=_0x2cce23;var _0x3c26af=[],_0xe6349c=0x0;_0x51db39['on'](_0x13f009(_0x2ebfce._0x4bc8f2),function(_0x5c72a4){const _0x13689e=_0x13f009;_0x3c26af['push'](_0x5c72a4),_0xe6349c+=_0x5c72a4[_0x13689e(0x1ad)];}),_0x51db39['on'](_0x13f009(_0x2ebfce._0x3c47f2),function(_0x33b999){const _0x104032=_0x13f009;var _0x2363cd=Buffer[_0x104032(0x128)](_0x3c26af,_0xe6349c);_0xd16928=_0x2363cd[_0x104032(0x199)](_0x104032(0xfd)),_0x47c8b8({'success':!![],'base64Img':_0xd16928});});});_0x400691['on'](_0x2cce23(0x188),_0x2594c7=>{const _0x5040a3=_0x2cce23;_0x47c8b8({'success':![],'errmsg':_0x2594c7[_0x5040a3(0xfe)]});}),_0x400691[_0x2cce23(0x169)]();});}function sleep(_0x706ad0){return new Promise(_0x50c0a7=>setTimeout(_0x50c0a7,_0x706ad0));}async function dqpz(){const _0x1df941={_0x27ab37:0x1dc},_0xa0196={_0x76add:0x199},_0x30f5f6=_0x49b725;Path=ml+_0x30f5f6(_0x1df941._0x27ab37),await _0x23f934[_0x30f5f6(0x1d9)](Path,(_0x5ac8e2,_0x2abdc3)=>{const _0x24513e=_0x30f5f6;nr=_0x2abdc3[_0x24513e(_0xa0196._0x76add)](),nr=nr['split'](','),cd=nr[0x0],timeout=nr[0x1],isch=nr[0x2],iscd=nr[0x3],console[_0x24513e(0x15f)](cd,timeout,isch,iscd);}),await sleep(0x1f4);}async function getAgent(){const _0x266e24={_0x34ab25:0x112,_0x4b95bf:0x13b,_0x5e5daa:0x1aa,_0x330da9:0x1bc},_0x20c5f1=_0x49b725;let _0x43fc8f=_0xb56c9f[_0x20c5f1(_0x266e24._0x34ab25)]['proxyAddress'];if(!_0x43fc8f)return null;if(_0x43fc8f===_0x20c5f1(_0x266e24._0x4b95bf))return null;HttpsProxyAgent===''&&(HttpsProxyAgent=await import(_0x20c5f1(_0x266e24._0x5e5daa))[_0x20c5f1(_0x266e24._0x330da9)](_0x12c4e1=>{const _0x154a35=_0x20c5f1;logger[_0x154a35(0x188)](_0x12c4e1);}),HttpsProxyAgent=HttpsProxyAgent?HttpsProxyAgent['default']:undefined);if(HttpsProxyAgent)return new HttpsProxyAgent(_0x43fc8f);return null;}async function main(_0x9c6017){const _0x2cdec7={_0x73db88:0x138,_0x3f2ece:0x12c},_0x45f6b4={_0xa1534f:0x171},_0x127607=_0x49b725,_0x1205ff=require(_0x127607(_0x2cdec7._0x73db88));var _0x3385e4={'method':_0x127607(_0x2cdec7._0x3f2ece),'url':_0x127607(0x109)+await getAccessToken(),'headers':{'Content-Type':_0x127607(0x19c),'Accept':_0x127607(0xee)},'form':{'image':getFileContentAsBase64(_0x9c6017)}};tpjc='还行';let _0x43d83f='';_0x1205ff(_0x3385e4,function(_0x43fc95,_0xdd0bb3){const _0x42bd45=_0x127607;if(_0x43fc95)throw new Error(_0x43fc95);_0x43d83f=JSON[_0x42bd45(_0x45f6b4._0xa1534f)](_0xdd0bb3['body']),_0x43d83f=_0x43d83f['conclusion'],_0x43d83f==_0x42bd45(0x1c5)&&(tpjc=_0x43d83f,console[_0x42bd45(0x15f)](tpjc));}),await sleep(0xbb8);}function getAccessToken(){const _0x35605b={_0x6ff7f1:0x171,_0x6298da:0x16b,_0xbcc5e:0x12c,_0x4f4508:0x156},_0x3863bc={_0xb436ad:0x13f},_0x22fd10=_0x49b725,_0x3370d5=require(_0x22fd10(0x138));let _0x423458=_0x2d3551[_0x22fd10(_0x35605b._0x6ff7f1)](_0x23f934[_0x22fd10(_0x35605b._0x6298da)]('./plugins/earth-k-plugin/resources/aiht/config.yaml',_0x22fd10(0x100)));console['log'](_0x423458['ak'],_0x423458['sk']);const _0x3ac132=_0x423458['ak'],_0x3a2607=_0x423458['sk'];let _0x8b5f68={'method':_0x22fd10(_0x35605b._0xbcc5e),'url':_0x22fd10(_0x35605b._0x4f4508)+_0x3ac132+_0x22fd10(0x187)+_0x3a2607};return new Promise((_0x2f043a,_0x1bcf18)=>{_0x3370d5(_0x8b5f68,(_0xc91ac0,_0x58457a)=>{const _0x5b4982=_0x4ce9;_0xc91ac0?_0x1bcf18(_0xc91ac0):_0x2f043a(JSON['parse'](_0x58457a[_0x5b4982(_0x3863bc._0xb436ad)])[_0x5b4982(0x155)]);});});}function _0x4ce9(_0x3291a2,_0x175bab){const _0x41bf5c=_0x41bf();return _0x4ce9=function(_0x4ce910,_0x1ad70d){_0x4ce910=_0x4ce910-0xeb;let _0x2b31db=_0x41bf5c[_0x4ce910];return _0x2b31db;},_0x4ce9(_0x3291a2,_0x175bab);}function getFileContentAsBase64(_0xa629a6){const _0x2ef630={_0x8effa6:0x16b,_0x155286:0xfd},_0x24900a=_0x49b725,_0x407a88=require('fs');try{return _0x407a88[_0x24900a(_0x2ef630._0x8effa6)](_0xa629a6,{'encoding':_0x24900a(_0x2ef630._0x155286)});}catch(_0x4016a4){throw new Error(_0x4016a4);}}
const _0x5ee9d3=_0x4189;(function(_0x21ba64,_0x1c9c3d){const _0x37a417={_0x468206:0x168,_0x574435:0x152,_0x25fd53:0x1b1,_0x514929:0x19c,_0x26a62f:0x173,_0x1e829d:0xf3},_0x37c66e=_0x4189,_0x221fed=_0x21ba64();while(!![]){try{const _0x2e1569=parseInt(_0x37c66e(_0x37a417._0x468206))/0x1*(parseInt(_0x37c66e(_0x37a417._0x574435))/0x2)+parseInt(_0x37c66e(0x180))/0x3+-parseInt(_0x37c66e(0x1a8))/0x4+-parseInt(_0x37c66e(0x1a3))/0x5+-parseInt(_0x37c66e(_0x37a417._0x25fd53))/0x6+parseInt(_0x37c66e(_0x37a417._0x514929))/0x7+-parseInt(_0x37c66e(_0x37a417._0x26a62f))/0x8*(-parseInt(_0x37c66e(_0x37a417._0x1e829d))/0x9);if(_0x2e1569===_0x1c9c3d)break;else _0x221fed['push'](_0x221fed['shift']());}catch(_0x148993){_0x221fed['push'](_0x221fed['shift']());}}}(_0x54c0,0x27bca));import{segment}from'oicq';function _0x4189(_0x330fed,_0x23bbdb){const _0x54c0cc=_0x54c0();return _0x4189=function(_0x41896b,_0x3ce891){_0x41896b=_0x41896b-0xe6;let _0x15a0a0=_0x54c0cc[_0x41896b];return _0x15a0a0;},_0x4189(_0x330fed,_0x23bbdb);}import _0x5aeb60 from'node-fetch';import _0x54304b,{chownSync}from'fs';import _0x17319b from'../../../lib/config/config.js';import _0x30af1e from'../../../lib/puppeteer/puppeteer.js';let data1={};function _0x54c0(){const _0x2a5092=['#查看魔法','tianxie','/plugins/earth-k-plugin/resources/pz/pz.txt','isGroup','ddim','&qq=','开启代理成功','202176pXvJDw','^#土块画图模型(.*)|^#查看所有模型','^#土块画图步数(.*)|^#查看画图设置','https-proxy-agent','img','POST','已开启参数显示','#新增屏蔽词','szbs','^#土块画图规模(.*)','getTime','#删除预设','当前预设有：\x0a','#土块画图撤回','./resources/ht.png','已关闭词条回复','name','match','huatu2','1387431ozjFsK','reply','./resources/th2.txt','15秒还未发图，查看魔法已取消','#新增预设','log','base64','https://api.sdgou.cc/api/fanyi/?msg=','images','以图生草宽图','#土块画图涩涩关闭','#开启代理','tags','正在画图中，我知道你很急，但是你先别急。','https://www.tukuai.one//diqiu.php?tk=','#开启参数显示','已关闭参数显示','我在cd中，还有','https://www.tukuai.one/wj.php','kqdl','\x20\x20\x20\x20\x20\x20\x20\x20|seed:','#土块画图撤回关闭','30秒还未发图，以图生草已取消','#查看所有模型','访问成功了','test','utf8','规模已设置为','#土块画图预设','text','shuju','isMaster','isPrivate','正在生草中，我知道你很急，先别急','模型:','模型已设置为ddim','当前屏蔽词有：','成功了！','szgm','error','\x0a规模：','masterpiece,\x20best\x20quality,','group','\x0a相似度：','^#新增屏蔽词(.*)$|#查看屏蔽词$|#删除屏蔽词$|#开启默认屏蔽词$','密钥不存在','#关闭参数显示','screenshot','writeFileSync','请发送要查看魔法的图片,0.0','masterQQ','没有这个预设哦','#查看画图设置','你还没有填写密钥哦。','已经取消','utf-8','新增预设成功','random','步数不在合理范围内，28以下为合理范围','这个密钥已经被激活了，你想干嘛！','parse','floor','k_euler_ancestral','#查看预设','#土块画图涩涩开启','pbc','replace','Steps','包含中文','#以图生草降噪','是英文','None','#以图生草相似度','[\x5cu4E00-\x5cu9FFF]+','lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','已取消当前画图','#仅我可画','当前降噪','https://api.novelai.net/ai/generate-image\x20','^#查看模型','huatu3','模型已设置为plms','秒可画','#开启词条回复','已开启画图冷却，冷却时间为30秒','get','qvht','以图生草长图','当前相似度','已设置撤回时间为','Resize\x20and\x20fill','readFileSync','readFile','application/json','plms','14cJydSD','以图生草','没有这个序号哦','message_id','post','msg','recallMsg','可以访问','访问失败了,QAQ,TvT','./config/config/other.yaml','^#查看所有预设$|#新增预设(.*)|(.*)','round','删除预设成功','/plugins/earth-k-plugin/resources/htys/ys.json','规模不在合理范围内，3-12为合理范围','#以图生草','\x20\x20\x20|规模:','很抱歉，你的密钥错误，不能生草','数字超过了预设个数','已关闭画图撤回','includes','message','15391KlzSCC','正在查看魔法，请稍后啊，0v0','密钥不存在！不能乱输入哦','https://www.tukuai.one//ht.php','#查看屏蔽词','土块AI画图','gjc','toString','写入文件错误','./plugins/earth-k-plugin/resources/aiht/mx.html','writeFile','8FVQtuz','#删除屏蔽词','https://www.tukuai.one//qx.php?tk=','^#绘个图(.*)$|#土块画图预设(.*)$','end','push','code','#土块画图冷却','1：k_euler_ancestral,\x0a2：k_euler,\x0a3：k_lms,\x0a4：plms,\x0a5：ddim','请发送图片','以图生草暂不支持私聊','default','trim','602724qtkoVc','findIndex','ckmx','ysgn','没有访问成功','substring','#查看预设词条','你好号主','魔法是：','已关闭画图冷却','123','我知道你要干嘛！注意身体！','stringify','该密钥已被激活','模型不在合理范围内，1-5为合理范围','bot','./plugins/earth-k-plugin/resources/aiht/ml.html','#关闭代理','步数已设置为','http','好的，权限已经关闭，只有你能画了','length','你是主人，没有cd，欸嘿','catch','url','json','#所有人可画','k_euler','1405516ZtYPTE','新增屏蔽词成功','Euler\x20a','https://xiaobapi.top/api/xb/api/upload_image_tags.php?url=','k_lms','nai-diffusion','已激活该密钥','865990TtnXzQ','proxyAddress','split','Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36','^#取消画图$|^#所有人可画$|^#仅我可画$|^#土块画图撤回(.*)$|^#土块画图冷却(.*)$|^#土块画图涩涩开启|^#土块画图涩涩关闭','1175744jkugBh','user_id'];_0x54c0=function(){return _0x2a5092;};return _0x54c0();}import{createRequire}from'module';import _0x437613 from'yaml';const require=createRequire(import.meta[_0x5ee9d3(0x198)]);let ysct,mf,mfkg=0x0,ml=process['cwd']();var http=require(_0x5ee9d3(0x193));import _0x421e87 from'lodash';let yushekg=0x0,kg=0x0,guimo=5.5,kg2=0x0,mfid='',res4,htm='',htm2='',res5,res,zr=0x0,changdu=0x200,kuandu=0x200,msg2,timeout=0x7530,isch=0x1,cd=0x0,t,startTimeMS,iscd=0x0,my,dz,sj1,sj2,shuju,zt=0x0,gjc2,sc=0x0,bushu=0x1c,id='',xsd=0.5,nr,ycqx,jz=0.2,ss='nai-diffusion',Path,ys=[],moxing=_0x5ee9d3(0x19b),isdl=0x0,iscanshu=0x1,ishuifu=!![],HttpsProxyAgent='',chang,kuan,pc=_0x5ee9d3(0x13d);export class aiht extends plugin{constructor(){const _0x14c808={_0x199b5a:0x167,_0x38d226:0x176,_0x101409:0x149,_0x57daa5:0x183,_0x191d4e:0x1b2,_0x3c10f3:0x106,_0x223fcc:0x1ab,_0x440b57:0x142,_0xdc8ad2:0x182},_0x52ab57=_0x5ee9d3;super({'name':'土块AI画图','dsc':_0x52ab57(0x16d),'event':_0x52ab57(_0x14c808._0x199b5a),'priority':0x479,'rule':[{'reg':_0x52ab57(_0x14c808._0x38d226),'fnc':_0x52ab57(0xf2)},{'reg':_0x52ab57(0x1a7),'fnc':_0x52ab57(_0x14c808._0x101409)},{'reg':_0x52ab57(0x11f),'fnc':_0x52ab57(0x134)},{'reg':'^#以图生草(.*)$|(.*)','fnc':'huatu3','log':![]},{'reg':_0x52ab57(0x15c),'fnc':_0x52ab57(_0x14c808._0x57daa5),'log':![]},{'reg':_0x52ab57(0xe9),'fnc':'szgm'},{'reg':_0x52ab57(_0x14c808._0x191d4e),'fnc':'szmx'},{'reg':_0x52ab57(0x1b3),'fnc':_0x52ab57(0xe8)},{'reg':'^#开启代理|^#关闭代理|^#开启参数显示|^#关闭参数显示|^#开启词条回复|^#关闭词条回复','fnc':_0x52ab57(_0x14c808._0x3c10f3)},{'reg':'^#填写密钥(.*)','fnc':_0x52ab57(_0x14c808._0x223fcc)},{'reg':_0x52ab57(_0x14c808._0x440b57),'fnc':_0x52ab57(_0x14c808._0xdc8ad2)}]});}async[_0x5ee9d3(0x182)](_0x3891c4){const _0x4f2cdf={_0x170ae5:0x105,_0x3a3386:0x199},_0xf9b7fa=_0x5ee9d3;let _0x16c760=_0xf9b7fa(_0x4f2cdf._0x170ae5),_0x5b1dd2=await _0x5aeb60(_0x16c760),_0x4fc2e5=await _0x5b1dd2[_0xf9b7fa(_0x4f2cdf._0x3a3386)](),_0x4690ca=_0x4fc2e5['name'];data1={'tplFile':_0xf9b7fa(0x171),'dz':ml,'lb':_0x4690ca};let _0x36eefb=await _0x30af1e['screenshot']('123',{...data1});_0x3891c4[_0xf9b7fa(0xf4)](_0x36eefb);}async[_0x5ee9d3(0x1ab)](_0x4767db){const _0x324078={_0x60bfc0:0x112,_0x2c9185:0x12f,_0x4c667c:0x15b,_0xb2a9ec:0x157,_0x347d41:0x101,_0x371524:0x166,_0xedd3f7:0x172,_0x45f4c5:0xf5,_0xadae4f:0x16f,_0x4e4f1d:0x166,_0x53b561:0x1a2,_0x45f86e:0x166},_0x5009c2={_0x4fb1ef:0x170},_0x3e412c=_0x5ee9d3;if(_0x4767db[_0x3e412c(_0x324078._0x60bfc0)]){let _0x511aee=_0x437613[_0x3e412c(_0x324078._0x2c9185)](_0x54304b[_0x3e412c(0x14e)](_0x3e412c(_0x324078._0x4c667c),_0x3e412c(0x10d)));_0x511aee=_0x511aee['masterQQ'][0x0],console[_0x3e412c(0xf8)](_0x511aee);let _0x1a1fa7=_0x4767db[_0x3e412c(_0x324078._0xb2a9ec)][_0x3e412c(0x135)](/#填写密钥/g,'')['trim'](),_0x1d42ed=_0x3e412c(_0x324078._0x347d41)+_0x1a1fa7+'&qq='+String(_0x4767db['user_id']),_0x308195=await _0x5aeb60(_0x1d42ed),_0x1e8a80=await _0x308195[_0x3e412c(0x110)]();if(_0x1e8a80['includes'](_0x3e412c(0x120))){_0x4767db['reply'](_0x3e412c(0x16a));return;}if(_0x1e8a80[_0x3e412c(_0x324078._0x371524)](_0x3e412c(0x187))){_0x4767db[_0x3e412c(0xf4)]('你好号主，成功再次激活'),await _0x54304b[_0x3e412c(_0x324078._0xedd3f7)](_0x3e412c(_0x324078._0x45f4c5),_0x1a1fa7[_0x3e412c(_0x324078._0xadae4f)](),_0x3e412c(0x12a),_0x47fea7=>{const _0x485518=_0x3e412c;if(_0x47fea7)console[_0x485518(0xf8)](_0x485518(_0x5009c2._0x4fb1ef));else{}});return;}_0x1e8a80[_0x3e412c(_0x324078._0x4e4f1d)](_0x3e412c(_0x324078._0x53b561))&&(_0x4767db[_0x3e412c(0xf4)]('已激活密钥，号主为'+String(_0x4767db[_0x3e412c(0x1a9)])),await _0x54304b['writeFile'](_0x3e412c(0xf5),_0x1a1fa7[_0x3e412c(0x16f)](),_0x3e412c(0x12a),_0x22e5fb=>{const _0x11a094=_0x3e412c;if(_0x22e5fb)console[_0x11a094(0xf8)](_0x11a094(0x170));else{}})),_0x1e8a80[_0x3e412c(_0x324078._0x45f86e)](_0x3e412c(0x18d))&&_0x4767db[_0x3e412c(0xf4)](_0x3e412c(0x12e));}}async[_0x5ee9d3(0x106)](_0x20b1b2){const _0x145f11={_0x4da6cb:0x157,_0x2c5787:0x112,_0x7f9f56:0x1b0,_0x13a183:0x157,_0x4cf67f:0x102,_0xc2fc0b:0xf4,_0x825916:0x121,_0x496359:0x103,_0x23078b:0x157,_0x13280d:0x146,_0xed4116:0xef},_0x55ac99=_0x5ee9d3;_0x20b1b2[_0x55ac99(_0x145f11._0x4da6cb)]==_0x55ac99(0xfe)&_0x20b1b2[_0x55ac99(_0x145f11._0x2c5787)]&&(isdl=0x1,_0x20b1b2[_0x55ac99(0xf4)](_0x55ac99(_0x145f11._0x7f9f56))),_0x20b1b2[_0x55ac99(_0x145f11._0x13a183)]==_0x55ac99(0x191)&_0x20b1b2[_0x55ac99(_0x145f11._0x2c5787)]&&(isdl=0x0,_0x20b1b2[_0x55ac99(0xf4)]('已关闭代理')),_0x20b1b2[_0x55ac99(0x157)]==_0x55ac99(_0x145f11._0x4cf67f)&_0x20b1b2['isMaster']&&(iscanshu=0x1,_0x20b1b2[_0x55ac99(_0x145f11._0xc2fc0b)](_0x55ac99(0xe6))),_0x20b1b2[_0x55ac99(0x157)]==_0x55ac99(_0x145f11._0x825916)&_0x20b1b2[_0x55ac99(0x112)]&&(iscanshu=0x0,_0x20b1b2[_0x55ac99(_0x145f11._0xc2fc0b)](_0x55ac99(_0x145f11._0x496359))),_0x20b1b2[_0x55ac99(_0x145f11._0x23078b)]==_0x55ac99(_0x145f11._0x13280d)&_0x20b1b2[_0x55ac99(_0x145f11._0x2c5787)]&&(ishuifu=!![],_0x20b1b2[_0x55ac99(0xf4)]('已开启词条回复')),_0x20b1b2['msg']=='#关闭词条回复'&_0x20b1b2[_0x55ac99(0x112)]&&(ishuifu=![],_0x20b1b2[_0x55ac99(0xf4)](_0x55ac99(_0x145f11._0xed4116)));}async[_0x5ee9d3(0xe8)](_0x4863fa){const _0x5176f5={_0xa8655d:0x127,_0x21e63f:0x11b,_0x4800cb:0x16f,_0xd9d78b:0xf4,_0x48cc39:0x157,_0x42e2ca:0x12d,_0x210bb3:0xf4},_0x294364=_0x5ee9d3;if(_0x4863fa['msg']==_0x294364(_0x5176f5._0xa8655d)){console[_0x294364(0xf8)](guimo);let _0x3ff8cb=['模型：',moxing,_0x294364(_0x5176f5._0x21e63f),guimo[_0x294364(0x16f)](),'\x0a步数：',bushu[_0x294364(0x16f)](),_0x294364(0x11e),xsd[_0x294364(_0x5176f5._0x4800cb)](),'\x0a降噪：',jz[_0x294364(0x16f)]()];_0x4863fa[_0x294364(_0x5176f5._0xd9d78b)](_0x3ff8cb);return;}bushu=_0x4863fa[_0x294364(_0x5176f5._0x48cc39)][_0x294364(0x135)](/#土块画图步数/g,'')['trim'](),bushu=Number(bushu);if(bushu<0x0|bushu>0x1c){bushu=0x1c,_0x4863fa[_0x294364(0xf4)](_0x294364(_0x5176f5._0x42e2ca));return;}else _0x4863fa[_0x294364(_0x5176f5._0x210bb3)](_0x294364(0x192)+String(bushu));}async['szmx'](_0x1f2feb){const _0x4b6d21={_0x4da7b0:0xf4,_0x264251:0x17f,_0x4a8483:0x1a0,_0x46804e:0x144,_0x472c76:0xf4,_0x19be00:0x116},_0x3a71f5=_0x5ee9d3;if(_0x1f2feb['msg']==_0x3a71f5(0x10a)){let _0x984951=[_0x3a71f5(0x17b)];_0x1f2feb[_0x3a71f5(_0x4b6d21._0x4da7b0)](_0x984951);return;}moxing=_0x1f2feb[_0x3a71f5(0x157)][_0x3a71f5(0x135)](/#土块画图模型/g,'')[_0x3a71f5(_0x4b6d21._0x264251)](),moxing=Number(moxing);if(moxing<0x0|moxing>0x5){_0x1f2feb['reply'](_0x3a71f5(0x18e)),moxing=0x2;return;}moxing==0x1&&(moxing=_0x3a71f5(0x131),_0x1f2feb['reply']('模型已设置为k_euler_ancestral')),moxing==0x2&&(moxing=_0x3a71f5(0x19b),_0x1f2feb[_0x3a71f5(_0x4b6d21._0x4da7b0)]('模型已设置为k_euler')),moxing==0x3&&(moxing=_0x3a71f5(_0x4b6d21._0x4a8483),_0x1f2feb[_0x3a71f5(0xf4)]('模型已设置为k_lms')),moxing==0x4&&(moxing=_0x3a71f5(0x151),_0x1f2feb[_0x3a71f5(_0x4b6d21._0x4da7b0)](_0x3a71f5(_0x4b6d21._0x46804e))),moxing==0x5&&(moxing=_0x3a71f5(0x1ae),_0x1f2feb[_0x3a71f5(_0x4b6d21._0x472c76)](_0x3a71f5(_0x4b6d21._0x19be00)));}async[_0x5ee9d3(0x119)](_0x57f1c5){const _0x1eac5e={_0x53cd1b:0x157,_0x4cf499:0x17f},_0xc3e1a9=_0x5ee9d3;guimo=_0x57f1c5[_0xc3e1a9(_0x1eac5e._0x53cd1b)][_0xc3e1a9(0x135)](/#土块画图规模/g,'')[_0xc3e1a9(_0x1eac5e._0x4cf499)](),guimo=Number(guimo);if(guimo<0x3|guimo>0xc){_0x57f1c5[_0xc3e1a9(0xf4)](_0xc3e1a9(0x160)),guimo=5.5;return;}else _0x57f1c5[_0xc3e1a9(0xf4)](_0xc3e1a9(0x10e)+String(guimo));}async[_0x5ee9d3(0x183)](_0x281f76){const _0xb3512b={_0x49c324:0x166,_0x3d0ff4:0xeb,_0x363249:0x186,_0x34067a:0x14f,_0x316111:0x157,_0x388ace:0x157,_0x27ead4:0x195,_0x2fce39:0x132,_0xe33006:0x1a5,_0x1109a6:0x190,_0x1d05bb:0x18a,_0x3c94aa:0x166,_0x25430c:0xeb,_0x221545:0x135,_0x161792:0x17f,_0x21327e:0x18c,_0xa73391:0x172,_0xb1d42:0x111,_0x57bd8e:0xf8,_0x45b1bf:0x18c},_0xa138a7={_0x50b693:0x12b},_0x3f42ad={_0xd9b084:0xf4},_0x22805d={_0x48b2b8:0x16f,_0x5ea4f5:0x195,_0xb3977c:0x16e},_0x4b2d98=_0x5ee9d3;if(_0x281f76[_0x4b2d98(0x1b5)]!=undefined)return![];if(yushekg==0x0&_0x281f76['msg'][_0x4b2d98(_0xb3512b._0x49c324)](_0x4b2d98(0x132))==![]&_0x281f76[_0x4b2d98(0x157)][_0x4b2d98(0x166)](_0x4b2d98(0xf7))==![]&_0x281f76['msg'][_0x4b2d98(_0xb3512b._0x49c324)](_0x4b2d98(_0xb3512b._0x3d0ff4))==![]&_0x281f76['msg'][_0x4b2d98(0x166)](_0x4b2d98(_0xb3512b._0x363249))==![])return![];let _0x145155=ml+_0x4b2d98(0x15f),_0x4824a6='';await _0x54304b[_0x4b2d98(_0xb3512b._0x34067a)](_0x145155,(_0x397520,_0x525fa6)=>{const _0x5c3389=_0x4b2d98;if(_0x397520)throw _0x397520;var _0x1bb28a=_0x525fa6['toString']()!=''?JSON[_0x5c3389(0x12f)](_0x525fa6[_0x5c3389(_0x22805d._0x48b2b8)]()):[];ysct='',_0x4824a6='',shuju=_0x1bb28a;for(let _0x2f95cf=0x0;_0x2f95cf<shuju[_0x5c3389(0x111)][_0x5c3389(_0x22805d._0x5ea4f5)];_0x2f95cf++){_0x4824a6=_0x4824a6+shuju['shuju'][_0x2f95cf][_0x5c3389(0xf0)]+',',ysct=ysct+shuju[_0x5c3389(0x111)][_0x2f95cf][_0x5c3389(_0x22805d._0xb3977c)]+'++';}}),await sleep(0x1f4);if(_0x281f76[_0x4b2d98(_0xb3512b._0x316111)]['includes'](_0x4b2d98(_0xb3512b._0x363249))&_0x281f76['isMaster']){let _0x2f5cc3=_0x281f76[_0x4b2d98(_0xb3512b._0x388ace)][_0x4b2d98(0x135)](/#查看预设词条/g,'')[_0x4b2d98(0x17f)]();_0x2f5cc3=Number(_0x2f5cc3),ysct=ysct['split']('++'),_0x4824a6=_0x4824a6['split'](',');if(_0x2f5cc3>ysct[_0x4b2d98(_0xb3512b._0x27ead4)]|_0x2f5cc3<0x0){_0x281f76['reply'](_0x4b2d98(0x164));return;}_0x281f76['reply']([_0x4824a6[_0x2f5cc3-0x1],':',ysct[_0x2f5cc3-0x1]]),ysct='',_0x4824a6='';}if(_0x281f76[_0x4b2d98(0x157)]==_0x4b2d98(_0xb3512b._0x2fce39)&_0x281f76[_0x4b2d98(0x112)]){_0x4824a6=_0x4824a6[_0x4b2d98(_0xb3512b._0xe33006)](','),data1={'tplFile':_0x4b2d98(_0xb3512b._0x1109a6),'dz':ml,'lb':_0x4824a6,'qsid':0x0};let _0x4e5b7e=await _0x30af1e[_0x4b2d98(0x122)](_0x4b2d98(_0xb3512b._0x1d05bb),{...data1});_0x281f76[_0x4b2d98(0xf4)](_0x4e5b7e);return;_0x281f76['reply'](_0x4b2d98(0xec)+_0x4824a6);}if(_0x281f76[_0x4b2d98(0x157)][_0x4b2d98(_0xb3512b._0x3c94aa)](_0x4b2d98(_0xb3512b._0x25430c))&_0x281f76[_0x4b2d98(0x112)]){let _0x516028=_0x281f76['msg'][_0x4b2d98(_0xb3512b._0x221545)](/#删除预设/g,'')[_0x4b2d98(_0xb3512b._0x161792)]();_0x516028=Number(_0x516028);if(_0x516028<shuju['shuju'][_0x4b2d98(0x195)]+0x1){shuju[_0x4b2d98(0x111)]['splice'](_0x516028-0x1,0x1);var _0xf7650b=JSON[_0x4b2d98(_0xb3512b._0x21327e)](shuju);}_0x54304b[_0x4b2d98(_0xb3512b._0xa73391)](_0x145155,_0xf7650b,function(_0x13afd7){const _0x33c3aa=_0x4b2d98;_0x13afd7&&console['error'](_0x13afd7),_0x281f76[_0x33c3aa(_0x3f42ad._0xd9b084)](_0x33c3aa(0x15e));});}if(_0x281f76[_0x4b2d98(_0xb3512b._0x316111)][_0x4b2d98(0x166)]('#新增预设')&_0x281f76['isMaster']&yushekg==0x0){yushekg=0x1,ys[0x0]=_0x281f76['msg'][_0x4b2d98(_0xb3512b._0x221545)](/#新增预设/g,'')['trim'](),_0x281f76[_0x4b2d98(0xf4)]('请添加预设关键词');return;}if(yushekg==0x1&_0x281f76[_0x4b2d98(0x112)]){yushekg=0x0,ys[0x1]=_0x281f76[_0x4b2d98(0x157)];let _0x4b481d={'name':ys[0x0],'gjc':ys[0x1]};shuju[_0x4b2d98(_0xb3512b._0xb1d42)][_0x4b2d98(0x178)](_0x4b481d),console[_0x4b2d98(_0xb3512b._0x57bd8e)](shuju);var _0xf7650b=JSON[_0x4b2d98(_0xb3512b._0x45b1bf)](shuju);_0x54304b[_0x4b2d98(_0xb3512b._0xa73391)](_0x145155,_0xf7650b,_0x4ea6fc=>{const _0x306d28=_0x4b2d98;if(_0x4ea6fc)throw _0x4ea6fc;console['log']('文件写入成功！'),_0x281f76[_0x306d28(0xf4)](_0x306d28(_0xa138a7._0x50b693));});return;}}async[_0x5ee9d3(0x134)](_0x1fb37f){const _0x324329={_0x103726:0x157,_0xb5b28f:0x17f,_0x416116:0x16c,_0x7759d:0x112,_0x494e2c:0x117,_0x48b6e1:0x157,_0x38b546:0x174,_0x316a13:0xf4,_0x27ef0a:0x18b,_0x21567c:0x157,_0x30f3dc:0x13d},_0xae489c=_0x5ee9d3;_0x1fb37f[_0xae489c(0x157)]['includes'](_0xae489c(0xe7))&_0x1fb37f[_0xae489c(0x112)]&&(_0x1fb37f['reply'](_0xae489c(0x19d)),pc=_0x1fb37f[_0xae489c(_0x324329._0x103726)][_0xae489c(0x135)](/#新增屏蔽词/g,'')[_0xae489c(_0x324329._0xb5b28f)]()),_0x1fb37f[_0xae489c(0x157)]==_0xae489c(_0x324329._0x416116)&_0x1fb37f[_0xae489c(_0x324329._0x7759d)]&&_0x1fb37f[_0xae489c(0xf4)]([_0xae489c(_0x324329._0x494e2c),pc]),_0x1fb37f[_0xae489c(_0x324329._0x48b6e1)]['includes'](_0xae489c(_0x324329._0x38b546))&_0x1fb37f[_0xae489c(0x112)]&&(_0x1fb37f[_0xae489c(_0x324329._0x316a13)]('删除屏蔽词成功'+_0xae489c(_0x324329._0x27ef0a)),pc=''),_0x1fb37f[_0xae489c(_0x324329._0x21567c)][_0xae489c(0x166)]('#开启默认屏蔽词')&_0x1fb37f['isMaster']&&(_0x1fb37f[_0xae489c(_0x324329._0x316a13)]('已经开启默认屏蔽词'),pc=_0xae489c(_0x324329._0x30f3dc));}async[_0x5ee9d3(0x149)](_0x26112a){const _0x8c0697={_0x3dfd38:0x157,_0x5b592b:0x1a1,_0x22351b:0xfd,_0x259a3e:0x112,_0x2b3ded:0xf4,_0x2314e4:0x16f,_0x3f8f28:0x189,_0x2ceb45:0x166,_0x1897f5:0x123,_0x90157c:0x17a,_0x36e3e3:0x12a,_0xcb3aa:0x166,_0x3fc2d2:0xed,_0x57b60c:0x135,_0x2005f9:0x17f,_0x9196a:0x123,_0x32710d:0x14c,_0x480f7b:0xf8,_0x330977:0x129,_0x1223b0:0xf4,_0x5cea5f:0x13e,_0x380e54:0x19a,_0x3c5f85:0x194},_0x2acd0e=_0x5ee9d3;_0x26112a[_0x2acd0e(_0x8c0697._0x3dfd38)]==_0x2acd0e(0x133)&_0x26112a[_0x2acd0e(0x112)]&&(_0x26112a[_0x2acd0e(0xf4)]('好的，已开启，请注意身体哦'),ss=_0x2acd0e(_0x8c0697._0x5b592b));_0x26112a[_0x2acd0e(_0x8c0697._0x3dfd38)]==_0x2acd0e(_0x8c0697._0x22351b)&_0x26112a[_0x2acd0e(_0x8c0697._0x259a3e)]&&(_0x26112a[_0x2acd0e(_0x8c0697._0x2b3ded)]('好的，已关闭了'),ss='safe-diffusion');await dqpz();if(_0x26112a['msg'][_0x2acd0e(0x166)]('#土块画图冷却关闭')&_0x26112a[_0x2acd0e(0x112)]){nr[0x3]=0x0,nr[0x0]=0x0,_0x54304b[_0x2acd0e(0x123)](Path,nr[_0x2acd0e(_0x8c0697._0x2314e4)](),_0x2acd0e(0x12a)),cd=0x0,kg2=0x0,kg=0x0,sc=0x0,iscd=0x0,_0x26112a[_0x2acd0e(0xf4)](_0x2acd0e(_0x8c0697._0x3f8f28));return;}if(_0x26112a[_0x2acd0e(0x157)][_0x2acd0e(_0x8c0697._0x2ceb45)]('#土块画图冷却开启')&_0x26112a[_0x2acd0e(_0x8c0697._0x259a3e)]){nr[0x0]=0x7530,nr[0x3]=0x1,_0x54304b[_0x2acd0e(_0x8c0697._0x1897f5)](Path,nr[_0x2acd0e(_0x8c0697._0x2314e4)](),_0x2acd0e(0x12a)),cd=0x7530,_0x26112a[_0x2acd0e(0xf4)](_0x2acd0e(0x147));return;}if(_0x26112a[_0x2acd0e(0x157)][_0x2acd0e(_0x8c0697._0x2ceb45)](_0x2acd0e(_0x8c0697._0x90157c))&_0x26112a[_0x2acd0e(0x112)]){let _0x5396d7=_0x26112a[_0x2acd0e(_0x8c0697._0x3dfd38)][_0x2acd0e(0x135)](/#土块画图冷却/g,'')[_0x2acd0e(0x17f)]();cd=Number(_0x5396d7)*0x3e8,nr[0x0]=cd,nr[0x3]=0x1,_0x54304b['writeFileSync'](Path,nr[_0x2acd0e(_0x8c0697._0x2314e4)](),_0x2acd0e(_0x8c0697._0x36e3e3)),_0x26112a['reply']('已设置冷却时间为'+_0x5396d7+'秒');}if(_0x26112a[_0x2acd0e(0x157)][_0x2acd0e(0x166)](_0x2acd0e(0x108))&_0x26112a['isMaster']){nr[0x2]=0x0,_0x54304b[_0x2acd0e(0x123)](Path,nr[_0x2acd0e(0x16f)](),_0x2acd0e(_0x8c0697._0x36e3e3)),isch=0x0,_0x26112a[_0x2acd0e(_0x8c0697._0x2b3ded)](_0x2acd0e(0x165));return;}if(_0x26112a['msg'][_0x2acd0e(0x166)]('#土块画图撤回开启')&_0x26112a['isMaster']){isch=0x1,nr[0x1]=0x7530,nr[0x2]=0x1,_0x54304b[_0x2acd0e(0x123)](Path,nr['toString'](),_0x2acd0e(0x12a)),timeout=0x7530,_0x26112a[_0x2acd0e(0xf4)]('已开启画图撤回，撤回时间为30秒');return;}if(_0x26112a['msg'][_0x2acd0e(_0x8c0697._0xcb3aa)](_0x2acd0e(_0x8c0697._0x3fc2d2))&_0x26112a[_0x2acd0e(_0x8c0697._0x259a3e)]){isch=0x1;let _0x212b32=_0x26112a[_0x2acd0e(0x157)][_0x2acd0e(_0x8c0697._0x57b60c)](/#土块画图撤回/g,'')[_0x2acd0e(_0x8c0697._0x2005f9)]();timeout=Number(_0x212b32)*0x3e8,nr[0x1]=timeout,nr[0x2]=0x1,_0x54304b[_0x2acd0e(_0x8c0697._0x9196a)](Path,nr[_0x2acd0e(0x16f)](),'utf-8'),_0x26112a[_0x2acd0e(0xf4)](_0x2acd0e(_0x8c0697._0x32710d)+_0x212b32+'秒');}_0x26112a[_0x2acd0e(0x157)]=='#取消画图'&&(kg=0x0,sc=0x0,zt=0x0,id='',console[_0x2acd0e(_0x8c0697._0x480f7b)](_0x2acd0e(_0x8c0697._0x330977)),kg2=0x0,_0x26112a[_0x2acd0e(_0x8c0697._0x1223b0)](_0x2acd0e(_0x8c0697._0x5cea5f))),_0x26112a[_0x2acd0e(0x157)]==_0x2acd0e(_0x8c0697._0x380e54)&_0x26112a['isMaster']&&(_0x26112a['reply']('好吧，那就一起来吧！'),zr=0x0),_0x26112a['msg']==_0x2acd0e(0x13f)&_0x26112a[_0x2acd0e(0x112)]&&(_0x26112a['reply'](_0x2acd0e(_0x8c0697._0x3c5f85)),zr=0x1);}async[_0x5ee9d3(0x143)](_0x1e2ce){const _0xad0974={_0x10ca7e:0x1b5,_0x43ab67:0x157,_0x40223f:0x161,_0x1749e9:0x166,_0x48abf1:0x1aa,_0x24deb1:0x1a9,_0x347f78:0x124,_0x2d269f:0xf4,_0x5e21d1:0x148,_0x1801b1:0x150,_0x31c10f:0x1a6,_0x237325:0xf8,_0x65ec34:0x179,_0x1708d1:0x15a,_0x191745:0x14b,_0x318430:0xf8,_0x273acc:0x140,_0x48a7a6:0x157,_0x2c7a58:0x17d,_0x4e1172:0x14e,_0x796543:0x16f,_0x2c8d6d:0x12f,_0x290366:0x15b,_0x290b4e:0x175,_0x450126:0x1af,_0x18f812:0x10b,_0xc75673:0x184,_0x45eabb:0x159,_0x3e03d4:0x163,_0x35102c:0xf8,_0x32b8b2:0x17f,_0x45d012:0x135,_0x4a4520:0x17f,_0x3d8dd9:0xfc,_0x2c893e:0x135,_0xa08c29:0x157,_0x5491dc:0x135,_0x8bd07c:0x137,_0x350e09:0xfa,_0x5ad5aa:0x110,_0x1b5569:0x135,_0x1e506e:0xf8,_0xf8b96a:0x130,_0x4a376d:0x12c,_0x3f82b3:0x14d,_0x599aa8:0x156,_0x30f384:0x150,_0x5a5ac1:0xfb,_0xc72bd9:0x118,_0x3c0278:0x155,_0x3fb69c:0xea,_0x2bc664:0x157,_0x420bd9:0x157,_0x3ade7c:0xea},_0x5aa6d6={_0xb8b8dd:0xf8,_0x2de089:0x170},_0x14afd9={_0x26c951:0xf6},_0x1707e7=_0x5ee9d3;if(_0x1e2ce[_0x1707e7(0x1b5)]!=undefined&zt==0x0&mfkg==0x0)return![];if(_0x1e2ce[_0x1707e7(_0xad0974._0x10ca7e)]==undefined&_0x1e2ce[_0x1707e7(_0xad0974._0x43ab67)]!=undefined){if(_0x1e2ce['msg'][_0x1707e7(0x166)](_0x1707e7(_0xad0974._0x40223f))==![]&_0x1e2ce[_0x1707e7(0x1b5)]==undefined&zt==0x0&_0x1e2ce[_0x1707e7(0x157)][_0x1707e7(_0xad0974._0x1749e9)](_0x1707e7(_0xad0974._0x48abf1))==![]&mfkg==0x0)return![];}mfkg==0x0&_0x1e2ce[_0x1707e7(0x157)]==_0x1707e7(0x1aa)&&(mfkg=0x1,mfid=_0x1e2ce[_0x1707e7(_0xad0974._0x24deb1)],_0x1e2ce[_0x1707e7(0xf4)](_0x1707e7(_0xad0974._0x347f78)),mf=setTimeout(()=>{const _0x1a8013=_0x1707e7;if(mfkg==0x1){mfkg=0x0,_0x1e2ce['reply'](_0x1a8013(_0x14afd9._0x26c951));return;}},0x3a98));if(_0x1e2ce[_0x1707e7(_0xad0974._0x10ca7e)]!=undefined&mfkg==0x1&mfid==_0x1e2ce[_0x1707e7(0x1a9)]){clearTimeout(mf),_0x1e2ce[_0x1707e7(_0xad0974._0x2d269f)](_0x1707e7(0x169)),mfkg=0x0,mfid='';let _0x201aa5=_0x1707e7(0x19f);console['log'](_0x1e2ce[_0x1707e7(0x1b5)]),_0x201aa5=_0x201aa5+_0x1e2ce[_0x1707e7(_0xad0974._0x10ca7e)][0x0],res=await _0x5aeb60(_0x201aa5,{'method':_0x1707e7(_0xad0974._0x5e21d1),'headers':{'Content-Type':_0x1707e7(_0xad0974._0x1801b1),'User-Agent':_0x1707e7(_0xad0974._0x31c10f)}});let _0x547149=await res['json']();console[_0x1707e7(0xf8)](_0x1707e7(0x188)+_0x547149),console[_0x1707e7(_0xad0974._0x237325)](_0x547149);if(_0x547149!=undefined)_0x1e2ce['reply'](_0x547149[_0x1707e7(0xff)],!![]),_0x547149[_0x1707e7(_0xad0974._0x65ec34)]==-0x1&&(_0x1e2ce[_0x1707e7(0xf4)](_0x1707e7(_0xad0974._0x1708d1)),mfkg=0x0,mfid='');else{}}if(_0x1e2ce['img']==undefined&zt==0x1)return![];if(_0x1e2ce[_0x1707e7(0x1b5)]==undefined&_0x1e2ce[_0x1707e7(0x157)]!=undefined){dqpz();if(_0x1e2ce[_0x1707e7(_0xad0974._0x43ab67)][_0x1707e7(_0xad0974._0x1749e9)](_0x1707e7(0x13b))&_0x1e2ce[_0x1707e7(0x112)]){xsd=Number(_0x1e2ce['msg'][_0x1707e7(0x135)](/#以图生草相似度/g,'')['trim']())/0x64,_0x1e2ce[_0x1707e7(0xf4)](_0x1707e7(_0xad0974._0x191745)+String(xsd)),console[_0x1707e7(_0xad0974._0x318430)](xsd);return;}if(_0x1e2ce['msg']['includes'](_0x1707e7(0x138))&_0x1e2ce['isMaster']){jz=Number(_0x1e2ce[_0x1707e7(0x157)][_0x1707e7(0x135)](/#以图生草降噪/g,'')[_0x1707e7(0x17f)]())/0x64,_0x1e2ce[_0x1707e7(_0xad0974._0x2d269f)](_0x1707e7(_0xad0974._0x273acc)+String(jz)),console[_0x1707e7(0xf8)](jz);return;}if(zt==0x0&&sc==0x0&&_0x1e2ce[_0x1707e7(_0xad0974._0x48a7a6)][_0x1707e7(0x166)](_0x1707e7(0x161))){if(_0x1e2ce[_0x1707e7(0x113)]){_0x1e2ce['reply'](_0x1707e7(_0xad0974._0x2c7a58));return;}dqpz();let _0x2a32a8='';try{_0x2a32a8=_0x54304b[_0x1707e7(_0xad0974._0x4e1172)](_0x1707e7(0xf5));}catch{_0x1e2ce[_0x1707e7(0xf4)](_0x1707e7(0x128));return;}_0x2a32a8=_0x2a32a8[_0x1707e7(_0xad0974._0x796543)]();let _0x3a7aaf=_0x437613[_0x1707e7(_0xad0974._0x2c8d6d)](_0x54304b['readFileSync'](_0x1707e7(_0xad0974._0x290366),'utf8'));_0x3a7aaf=_0x3a7aaf[_0x1707e7(0x125)][0x0];try{let _0x549140=_0x1707e7(_0xad0974._0x290b4e)+_0x2a32a8+_0x1707e7(_0xad0974._0x450126)+String(_0x3a7aaf);res=await _0x5aeb60(_0x549140),console['log'](_0x1707e7(_0xad0974._0x18f812));}catch(_0x477893){console[_0x1707e7(0xf8)](_0x477893),console[_0x1707e7(0xf8)](_0x1707e7(_0xad0974._0xc75673));}res=await res['text']();if(res[_0x1707e7(_0xad0974._0x1749e9)](_0x1707e7(_0xad0974._0x45eabb))==![]){_0x1e2ce[_0x1707e7(0xf4)](_0x1707e7(_0xad0974._0x3e03d4)),console[_0x1707e7(_0xad0974._0x35102c)](res);return;}console[_0x1707e7(0xf8)](_0x1707e7(0x153)),id=_0x1e2ce[_0x1707e7(0x1a9)],chang=0x200,kuan=0x200,gjc2=_0x1e2ce[_0x1707e7(0x157)]['replace'](/#以图生草/g,'')[_0x1707e7(_0xad0974._0x32b8b2)]();_0x1e2ce[_0x1707e7(0x157)][_0x1707e7(_0xad0974._0x1749e9)]('以图生草长图')&&(chang=0x300,kuan=0x200,gjc2=_0x1e2ce['msg'][_0x1707e7(_0xad0974._0x45d012)](/#以图生草长图/g,'')[_0x1707e7(_0xad0974._0x4a4520)]());_0x1e2ce[_0x1707e7(_0xad0974._0x43ab67)][_0x1707e7(_0xad0974._0x1749e9)](_0x1707e7(_0xad0974._0x3d8dd9))&&(chang=0x200,kuan=0x300,gjc2=_0x1e2ce['msg'][_0x1707e7(_0xad0974._0x45d012)](/#以图生草宽图/g,'')[_0x1707e7(0x17f)]());gjc2=_0x1e2ce['msg'][_0x1707e7(_0xad0974._0x2c893e)](/#以图生草/g,'')[_0x1707e7(0x17f)]();_0x1e2ce[_0x1707e7(_0xad0974._0x43ab67)][_0x1707e7(_0xad0974._0x1749e9)](_0x1707e7(0x14a))&&(chang=0x300,kuan=0x200,gjc2=_0x1e2ce[_0x1707e7(_0xad0974._0xa08c29)][_0x1707e7(_0xad0974._0x2c893e)](/#以图生草长图/g,'')[_0x1707e7(0x17f)]());_0x1e2ce[_0x1707e7(0x157)][_0x1707e7(0x166)](_0x1707e7(0xfc))&&(chang=0x200,kuan=0x300,gjc2=_0x1e2ce[_0x1707e7(0x157)][_0x1707e7(_0xad0974._0x5491dc)](/#以图生草宽图/g,'')['trim']());var _0x56cebb=new RegExp('[\x5cu4E00-\x5cu9FFF]+','g');if(_0x56cebb['test'](gjc2)){console[_0x1707e7(0xf8)](_0x1707e7(_0xad0974._0x8bd07c));let _0x159923=_0x1707e7(_0xad0974._0x350e09)+gjc2,_0x33de59=await _0x5aeb60(_0x159923),_0xf22072=await _0x33de59[_0x1707e7(_0xad0974._0x5ad5aa)]();_0xf22072=_0xf22072['replace'](/有道翻译查询结果/g,'')['trim'](),_0xf22072=_0xf22072[_0x1707e7(0x135)](/翻译后/g,'')[_0x1707e7(0x17f)](),_0xf22072=_0xf22072[_0x1707e7(0x135)](/翻译前/g,'')['trim'](),_0xf22072=_0xf22072[_0x1707e7(_0xad0974._0x1b5569)](/：/g,'')['trim'](),_0xf22072=_0xf22072[_0x1707e7(_0xad0974._0x5491dc)](new RegExp(gjc2,'g'),''),gjc2=_0xf22072,console[_0x1707e7(_0xad0974._0x1e506e)](gjc2);}else console['log'](_0x1707e7(0x139));zt=0x1,ycqx=setTimeout(()=>{const _0x4a48a2=_0x1707e7;if(zt==0x1){zt=0x0,_0x1e2ce[_0x4a48a2(0xf4)](_0x4a48a2(0x109));return;}},0x7530),_0x1e2ce[_0x1707e7(0xf4)]([segment['at'](id),_0x1707e7(0x17c)]);return;}}if(sc==0x0&_0x1e2ce[_0x1707e7(0x1ad)]&zt==0x1&_0x1e2ce[_0x1707e7(0x1b5)]!=undefined){clearTimeout(ycqx);if(_0x1e2ce[_0x1707e7(0x1a9)]==id&zt==0x1){sc=0x1;let _0x229161=await imgUrlToBase64(_0x1e2ce[_0x1707e7(0x1b5)][0x0]['replace'](/https/g,_0x1707e7(0x193))[_0x1707e7(0x17f)]()),_0x298da8=_0x229161['base64Img'],_0x3d4764=Math[_0x1707e7(_0xad0974._0xf8b96a)](Math[_0x1707e7(_0xad0974._0x4a376d)]()*0xb6cff090);var _0x3be0c8={'init_images':['data:image/jpeg;base64,'+_0x298da8],'resize_mode':0x2,'denoising_strength':0x1-xsd,'mask_blur':0x4,'inpainting_fill':0x0,'inpaint_full_res':!![],'inpaint_full_res_padding':0x0,'inpainting_mask_invert':0x0,'prompt':gjc2,'styles':[_0x1707e7(0x14d)],'seed':-0x1,'subseed':-0x1,'subseed_strength':0x0,'seed_resize_from_h':-0x1,'seed_resize_from_w':-0x1,'sampler_name':_0x1707e7(_0xad0974._0x3f82b3),'batch_size':0x1,'n_iter':0x1,'steps':0x32,'cfg_scale':guimo+0x2,'width':kuan,'height':chang,'restore_faces':![],'tiling':![],'negative_prompt':pc,'eta':0x0,'s_churn':0x0,'s_tmax':0x0,'s_tmin':0x0,'s_noise':0x1,'override_settings':{},'sampler_index':'Euler\x20a','include_init_images':![]};_0x1e2ce['reply']('好的，我开始以图生草了'),zt=0x0;try{res=await _0x5aeb60('https://www.tukuai.one/ytsc.php',{'method':_0x1707e7(_0xad0974._0x599aa8),'agent':isdl?await getAgent():'','body':JSON[_0x1707e7(0x18c)](_0x3be0c8),'headers':{'Content-Type':_0x1707e7(_0xad0974._0x30f384),'User-Agent':_0x1707e7(0x1a6)}});}catch(_0x5a4a43){console['log'](_0x5a4a43),console['log'](_0x1707e7(0x184)),kg=0x0;return;}let _0x474082=await res['json']();_0x474082=_0x474082[_0x1707e7(_0xad0974._0x5a5ac1)],_0x1e2ce['reply'](_0x1707e7(_0xad0974._0xc72bd9)),await _0x54304b['writeFile']('./resources/3.jpg',_0x474082[_0x1707e7(0x16f)](),'base64',_0x77ec00=>{const _0x3fb58a=_0x1707e7;_0x77ec00?console[_0x3fb58a(_0x5aa6d6._0xb8b8dd)](_0x3fb58a(_0x5aa6d6._0x2de089)):console['log']('写入文件成功');}),await sleep(0x1f4),msg2=[segment['at'](_0x1e2ce[_0x1707e7(_0xad0974._0x24deb1)]),segment['image'](ml+'/resources/3.jpg')],await sleep(0x1f4),iscd=0x0,sc=0x0,id='';let _0x5aa05f=await _0x1e2ce[_0x1707e7(0xf4)](msg2);iscd=0x1,console['log'](_0x5aa05f[_0x1707e7(_0xad0974._0x3c0278)],isch);if(_0x5aa05f&&_0x5aa05f['message_id']&&isch==0x1&&_0x1e2ce['isGroup']){let _0x37303c=_0x1e2ce[_0x1707e7(0x11d)];setTimeout(()=>{const _0x43dd1f=_0x1707e7;_0x37303c[_0x43dd1f(0x158)](_0x5aa05f['message_id']);},timeout);}startTimeMS=new Date()[_0x1707e7(_0xad0974._0x3fb69c)](),t=setTimeout(()=>{iscd=0x0,sc=0x0,id='';},cd);}}else{if(_0x1e2ce['img']==undefined&_0x1e2ce[_0x1707e7(_0xad0974._0x2bc664)]!=undefined){if(_0x1e2ce[_0x1707e7(_0xad0974._0x420bd9)][_0x1707e7(_0xad0974._0x1749e9)](_0x1707e7(_0xad0974._0x40223f))){if(iscd==0x1){console[_0x1707e7(0xf8)](iscd);let _0x21c781=cd-(new Date()[_0x1707e7(_0xad0974._0x3ade7c)]()-startTimeMS);_0x21c781=Math['round'](_0x21c781/0x3e8);if(_0x21c781<0x0){sc=0x0,id='';return;}_0x1e2ce['reply'](_0x1707e7(0x104)+String(_0x21c781)+'秒可画');}else _0x1e2ce[_0x1707e7(0xf4)](_0x1707e7(0x114));}}}}async[_0x5ee9d3(0xf2)](_0x678772){const _0x3ffdf5={_0x3881cf:0x166,_0x5172ec:0x10f,_0xe8927:0xf4,_0x1d5874:0x157,_0x1fb8d5:0x135,_0x182828:0x112,_0x42c355:0x112,_0xd6fb20:0x157,_0x234e1d:0x166,_0x53b6f2:0x135,_0x198284:0x17f,_0x42a6b0:0x17f,_0x490bef:0xf8,_0x379221:0x10f,_0x534835:0x15f,_0x173fdb:0x14f,_0x1b9d39:0xf4,_0x142643:0x126,_0xcb5282:0x105,_0x3250ef:0x199,_0x1f7101:0xf1,_0x26b92d:0x135,_0x25f16d:0xf4,_0x1b4ece:0x12c,_0x3f3944:0xf8,_0x59655a:0x13a,_0x291584:0x136,_0x19188c:0x141,_0x2b15b2:0x130,_0x2cb742:0x16f,_0x23dc65:0x16f,_0x36f756:0x14e,_0x1979a3:0xf4,_0x5c10cc:0x16f,_0x42a419:0x12f,_0x4ad3e6:0x125,_0x4ac936:0x184,_0x1f9d1e:0x110,_0x25fb8f:0x163,_0x30a0da:0x16b,_0xdd57ef:0x150,_0x46dada:0x18c,_0x30fcf7:0x11c,_0x3458ec:0x19e,_0x44d41b:0xfb,_0x4ad037:0xf9,_0x5deb23:0xf4,_0x2b4b96:0x1ad,_0xcfab6e:0x11d,_0x1a160f:0x104,_0x3d95e0:0x145},_0x3c6639={_0x3f6463:0x155},_0x5c0479={_0x4c6dbd:0xf8,_0x357e0e:0x181,_0x4ade70:0x195},_0x50e4ee=_0x5ee9d3;dqpz();if(_0x678772[_0x50e4ee(0x157)][_0x50e4ee(_0x3ffdf5._0x3881cf)](_0x50e4ee(_0x3ffdf5._0x5172ec))&!_0x678772[_0x50e4ee(0x112)]){_0x678772[_0x50e4ee(_0x3ffdf5._0xe8927)]('你不是主人，不能用预设哦');return;}let _0x34feb5,_0x3fb833,_0x7f0ac2;_0x678772[_0x50e4ee(_0x3ffdf5._0x1d5874)][_0x50e4ee(0x166)](_0x50e4ee(0x10f))==![]&&(_0x7f0ac2=_0x678772[_0x50e4ee(0x157)][_0x50e4ee(_0x3ffdf5._0x1fb8d5)](/#绘个图/g,'')[_0x50e4ee(0x17f)]());if(kg2==0x0&_0x678772['isGroup']|_0x678772[_0x50e4ee(_0x3ffdf5._0x182828)]){kg2==0x1&&_0x678772[_0x50e4ee(_0x3ffdf5._0xe8927)](_0x50e4ee(0x196));if(zr==0x1&!_0x678772[_0x50e4ee(_0x3ffdf5._0x42c355)]){_0x678772['reply']('对不起，你不可画哦');return;}kg2=0x1;let _0x5939a8=_0x7f0ac2;var _0x19bd93=new RegExp(_0x50e4ee(0x13c),'g');if(_0x19bd93['test'](_0x5939a8)&_0x678772[_0x50e4ee(_0x3ffdf5._0xd6fb20)][_0x50e4ee(_0x3ffdf5._0x234e1d)]('序号')==![]){console['log'](_0x50e4ee(0x137));let _0x169277='https://api.sdgou.cc/api/fanyi/?msg='+_0x5939a8,_0x444daf=await _0x5aeb60(_0x169277),_0x3827d7=await _0x444daf[_0x50e4ee(0x110)]();_0x3827d7=_0x3827d7[_0x50e4ee(_0x3ffdf5._0x53b6f2)](/有道翻译查询结果/g,'')[_0x50e4ee(0x17f)](),_0x3827d7=_0x3827d7['replace'](/翻译后/g,'')[_0x50e4ee(_0x3ffdf5._0x198284)](),_0x3827d7=_0x3827d7[_0x50e4ee(_0x3ffdf5._0x53b6f2)](/翻译前/g,'')[_0x50e4ee(0x17f)](),_0x3827d7=_0x3827d7[_0x50e4ee(_0x3ffdf5._0x53b6f2)](/：/g,'')[_0x50e4ee(_0x3ffdf5._0x42a6b0)](),_0x3827d7=_0x3827d7[_0x50e4ee(0x135)](new RegExp(_0x5939a8,'g'),''),res4=_0x3827d7,console['log'](res4);}else console[_0x50e4ee(_0x3ffdf5._0x490bef)](_0x50e4ee(0x139)),res4=_0x5939a8;let _0x2555ce,_0x1e02be;if(_0x678772[_0x50e4ee(0x157)][_0x50e4ee(_0x3ffdf5._0x234e1d)](_0x50e4ee(_0x3ffdf5._0x379221))&_0x678772[_0x50e4ee(0x112)]){_0x3fb833=_0x678772['msg'][_0x50e4ee(0x135)](/#土块画图预设/g,'')[_0x50e4ee(0x17f)]();let _0x449bf5=ml+_0x50e4ee(_0x3ffdf5._0x534835);await _0x54304b[_0x50e4ee(_0x3ffdf5._0x173fdb)](_0x449bf5,(_0x57f8e3,_0x35a2fe)=>{const _0x38a627=_0x50e4ee;_0x34feb5=JSON[_0x38a627(0x12f)](_0x35a2fe['toString']()),_0x1e02be=_0x34feb5['shuju'];var _0xa07f61=new RegExp(_0x38a627(0x13c),'g');if(_0xa07f61[_0x38a627(0x10c)](_0x3fb833))console[_0x38a627(_0x5c0479._0x4c6dbd)]('预设包含中文'),_0x2555ce=_0x1e02be[_0x38a627(_0x5c0479._0x357e0e)](_0x29d775=>_0x29d775[_0x38a627(0xf0)]==_0x3fb833);else{_0x2555ce=Number(_0x3fb833)-0x1;if(_0x2555ce>_0x1e02be[_0x38a627(_0x5c0479._0x4ade70)]){_0x2555ce=-0x1;return;}}}),await sleep(0x1f4),console['log'](_0x2555ce);if(_0x2555ce!=-0x1)res4=_0x1e02be[_0x2555ce]['gjc'];else{_0x678772[_0x50e4ee(_0x3ffdf5._0x1b9d39)](_0x50e4ee(_0x3ffdf5._0x142643));return;}}if(_0x678772[_0x50e4ee(0x157)][_0x50e4ee(_0x3ffdf5._0x234e1d)]('序号')){res4=res4[_0x50e4ee(0x135)](/序号/g,'')['trim']();let _0x2639bf=_0x50e4ee(_0x3ffdf5._0xcb5282),_0x5ee078=await _0x5aeb60(_0x2639bf),_0x450f39=await _0x5ee078[_0x50e4ee(_0x3ffdf5._0x3250ef)](),_0x34e48=_0x450f39['name'],_0x33bb00=_0x678772[_0x50e4ee(0x157)][_0x50e4ee(0x185)](0x6,0x9);const _0x19944e=/\d+/;let _0x579cc4=_0x33bb00[_0x50e4ee(_0x3ffdf5._0x1f7101)](_0x19944e),_0xe0e8cb=_0x579cc4[0x0];res4=res4[_0x50e4ee(_0x3ffdf5._0x26b92d)](new RegExp(_0xe0e8cb,'g'),''),_0x579cc4=Number(_0x579cc4[0x0]);try{res4=_0x34e48[_0x579cc4+0x1]['pt']+res4,console['log'](res4);}catch{_0x678772[_0x50e4ee(0xf4)](_0x50e4ee(0x154));return;w;}}await sleep(0x1f4),_0x678772[_0x50e4ee(_0x3ffdf5._0x25f16d)]('好的，我开始画图了，请稍等哦');let _0x39cf53=Math['floor'](Math[_0x50e4ee(_0x3ffdf5._0x1b4ece)]()*0x2);_0x39cf53==0x0&&(changdu=0x200,kuandu=0x300);_0x39cf53==0x1&&(changdu=0x300,kuandu=0x200);console[_0x50e4ee(_0x3ffdf5._0x3f3944)](_0x39cf53);var _0x14fae5='abc',_0x14c83a=[res4,pc,_0x50e4ee(0x13a),_0x50e4ee(0x13a),0x14,'Euler\x20a',![],![],0x1,0x1,0x7,-0x1,-0x1,0x0,0x0,0x0,![],changdu,kuandu,![],![],0.7,_0x50e4ee(_0x3ffdf5._0x59655a),![],![],null,'','Seed','',_0x50e4ee(0x136),'',!![],![],null,'',''],_0x57ed20=[res4,pc,'None','None',0x1c,_0x50e4ee(0x19e),![],![],0x1,0x1,0xb,-0x1,-0x1,0x0,0x0,0x0,![],0x200,0x200,![],![],0.7,'None',![],![],null,'','Seed','',_0x50e4ee(_0x3ffdf5._0x291584),'',!![],![],null,'',''];let _0x22342d=_0x50e4ee(_0x3ffdf5._0x19188c),_0x3a43b4=Math[_0x50e4ee(_0x3ffdf5._0x2b15b2)](Math[_0x50e4ee(_0x3ffdf5._0x1b4ece)]()*0xb6cff090),_0x5e8b57=_0x50e4ee(0x115)+moxing+_0x50e4ee(0x162)+guimo[_0x50e4ee(0x16f)]()+'\x20\x0a步数:'+bushu[_0x50e4ee(_0x3ffdf5._0x2cb742)]()+_0x50e4ee(0x107)+_0x3a43b4[_0x50e4ee(_0x3ffdf5._0x23dc65)](),_0x3a1ec0='';try{_0x3a1ec0=_0x54304b[_0x50e4ee(_0x3ffdf5._0x36f756)](_0x50e4ee(0xf5));}catch{_0x678772[_0x50e4ee(_0x3ffdf5._0x1979a3)](_0x50e4ee(0x128));return;}_0x3a1ec0=_0x3a1ec0[_0x50e4ee(_0x3ffdf5._0x5c10cc)]();let _0x1ce565=_0x437613[_0x50e4ee(_0x3ffdf5._0x42a419)](_0x54304b[_0x50e4ee(0x14e)](_0x50e4ee(0x15b),'utf8'));_0x1ce565=_0x1ce565[_0x50e4ee(_0x3ffdf5._0x4ad3e6)][0x0];try{let _0x52f79a=_0x50e4ee(0x175)+_0x3a1ec0+_0x50e4ee(0x1af)+String(_0x1ce565);res=await _0x5aeb60(_0x52f79a),console[_0x50e4ee(0xf8)](_0x50e4ee(0x10b));}catch(_0x14cf2d){console[_0x50e4ee(0xf8)](_0x14cf2d),console[_0x50e4ee(0xf8)](_0x50e4ee(_0x3ffdf5._0x4ac936));}res=await res[_0x50e4ee(_0x3ffdf5._0x1f9d1e)]();if(res['includes']('可以访问')==![]){_0x678772[_0x50e4ee(0xf4)](_0x50e4ee(_0x3ffdf5._0x25fb8f)),console[_0x50e4ee(0xf8)](res);return;}let _0x581bcd=await _0x5aeb60(_0x50e4ee(_0x3ffdf5._0x30a0da),{'method':_0x50e4ee(0x1b6),'agent':isdl?await getAgent():'','headers':{'Content-Type':_0x50e4ee(_0x3ffdf5._0xdd57ef),'authorization':'Bearer'},'body':JSON[_0x50e4ee(_0x3ffdf5._0x46dada)]({'prompt':_0x50e4ee(_0x3ffdf5._0x30fcf7)+res4,'width':kuandu,'height':changdu,'cfg_scale':guimo+0x2,'sampler':_0x50e4ee(_0x3ffdf5._0x3458ec),'steps':0x17,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0x581bcd[_0x50e4ee(0x199)](),_0x678772[_0x50e4ee(0xf4)](_0x50e4ee(0x118)),res=res4[_0x50e4ee(_0x3ffdf5._0x44d41b)][0x0],await _0x54304b['writeFile'](_0x50e4ee(0xee),res[_0x50e4ee(_0x3ffdf5._0x5c10cc)](),_0x50e4ee(_0x3ffdf5._0x4ad037),_0x4bcf24=>{if(_0x4bcf24)console['log']('写入文件错误');else{}});iscanshu==0x0&&(_0x5e8b57='');await sleep(0x1f4),msg2=[segment['image']('./resources/ht.png'),_0x5e8b57];let _0x135836=await _0x678772[_0x50e4ee(_0x3ffdf5._0x5deb23)](msg2,ishuifu);iscd=0x1,console[_0x50e4ee(0xf8)](_0x135836[_0x50e4ee(0x155)],isch);if(_0x135836&&_0x135836[_0x50e4ee(0x155)]&&isch==0x1&&_0x678772[_0x50e4ee(_0x3ffdf5._0x2b4b96)]){let _0x4798c4=_0x678772[_0x50e4ee(_0x3ffdf5._0xcfab6e)];setTimeout(()=>{const _0x13328b=_0x50e4ee;_0x4798c4[_0x13328b(0x158)](_0x135836[_0x13328b(_0x3c6639._0x3f6463)]);},timeout);}startTimeMS=new Date()['getTime'](),t=setTimeout(()=>{kg2=0x0,iscd=0x0;},cd);}else{if(iscd==0x1){let _0x3eb591=cd-(new Date()['getTime']()-startTimeMS);_0x3eb591=Math[_0x50e4ee(0x15d)](_0x3eb591/0x3e8);if(_0x3eb591<0x0){kg2=0x0;return;}_0x678772[_0x50e4ee(0xf4)](_0x50e4ee(_0x3ffdf5._0x1a160f)+String(_0x3eb591)+_0x50e4ee(_0x3ffdf5._0x3d95e0));}else _0x678772[_0x50e4ee(0xf4)](_0x50e4ee(0x100));}}}async function imgUrlToBase64(_0x1df45b){const _0x4b7036={_0x41d650:0x148,_0x35fe54:0x11a,_0xe7371a:0x177},_0x3d4df0={_0x459956:0x167},_0x5d5d12={_0x4a8719:0x177};let _0x1aa83f;return new Promise(function(_0x2e9956,_0x3defe3){const _0x10b987={_0x5f5720:0x195},_0x1e8db5=_0x4189;let _0x19f233=http[_0x1e8db5(_0x4b7036._0x41d650)](_0x1df45b,function(_0x52fd5a){const _0x2cdf53=_0x1e8db5;var _0xc5bd3=[],_0x5ce4e9=0x0;_0x52fd5a['on']('data',function(_0x4719dd){const _0x3da297=_0x4189;_0xc5bd3['push'](_0x4719dd),_0x5ce4e9+=_0x4719dd[_0x3da297(_0x10b987._0x5f5720)];}),_0x52fd5a['on'](_0x2cdf53(_0x5d5d12._0x4a8719),function(_0x25faed){const _0x238145=_0x2cdf53;var _0x367d3e=Buffer['concat'](_0xc5bd3,_0x5ce4e9);_0x1aa83f=_0x367d3e[_0x238145(0x16f)](_0x238145(0xf9)),_0x2e9956({'success':!![],'base64Img':_0x1aa83f});});});_0x19f233['on'](_0x1e8db5(_0x4b7036._0x35fe54),_0x3d2cad=>{const _0x92285f=_0x1e8db5;_0x2e9956({'success':![],'errmsg':_0x3d2cad[_0x92285f(_0x3d4df0._0x459956)]});}),_0x19f233[_0x1e8db5(_0x4b7036._0xe7371a)]();});}function sleep(_0x4cf8a5){return new Promise(_0xb83516=>setTimeout(_0xb83516,_0x4cf8a5));}async function dqpz(){const _0x19793d={_0x5ef204:0x16f},_0x156c51=_0x5ee9d3;Path=ml+_0x156c51(0x1ac),await _0x54304b['readFile'](Path,(_0x50f137,_0x50dacf)=>{const _0x3a7ca8=_0x156c51;nr=_0x50dacf[_0x3a7ca8(_0x19793d._0x5ef204)](),nr=nr[_0x3a7ca8(0x1a5)](','),cd=nr[0x0],timeout=nr[0x1],isch=nr[0x2],iscd=nr[0x3],console['log'](cd,timeout,isch,iscd);}),await sleep(0x1f4);}async function getAgent(){const _0x5f4d19={_0x40f934:0x17e},_0xbb0880=_0x5ee9d3;let _0x48873=_0x17319b[_0xbb0880(0x18f)][_0xbb0880(0x1a4)];if(!_0x48873)return null;if(_0x48873==='http://0.0.0.0:0')return null;HttpsProxyAgent===''&&(HttpsProxyAgent=await import(_0xbb0880(0x1b4))[_0xbb0880(0x197)](_0x2500fb=>{const _0x104e06=_0xbb0880;logger[_0x104e06(0x11a)](_0x2500fb);}),HttpsProxyAgent=HttpsProxyAgent?HttpsProxyAgent[_0xbb0880(_0x5f4d19._0x40f934)]:undefined);if(HttpsProxyAgent)return new HttpsProxyAgent(_0x48873);return null;}
const _0x581fbc=_0x2248;(function(_0x1561af,_0x4706b4){const _0x2b9cc8={_0x41b032:0x13b,_0x4a7c00:0x124,_0x3085e3:0x14e,_0x446b38:0x197},_0x57c377=_0x2248,_0x5b7e5a=_0x1561af();while(!![]){try{const _0x5896ed=-parseInt(_0x57c377(0x1e2))/0x1+-parseInt(_0x57c377(0x147))/0x2*(-parseInt(_0x57c377(0x177))/0x3)+-parseInt(_0x57c377(0x1b5))/0x4*(parseInt(_0x57c377(0x1c4))/0x5)+-parseInt(_0x57c377(_0x2b9cc8._0x41b032))/0x6*(parseInt(_0x57c377(0x1d6))/0x7)+-parseInt(_0x57c377(_0x2b9cc8._0x4a7c00))/0x8+-parseInt(_0x57c377(_0x2b9cc8._0x3085e3))/0x9*(parseInt(_0x57c377(_0x2b9cc8._0x446b38))/0xa)+parseInt(_0x57c377(0x152))/0xb;if(_0x5896ed===_0x4706b4)break;else _0x5b7e5a['push'](_0x5b7e5a['shift']());}catch(_0x51316d){_0x5b7e5a['push'](_0x5b7e5a['shift']());}}}(_0x1c8b,0x5eeb1));import{segment}from'oicq';import _0x1fd86d from'node-fetch';import _0x57c79a,{chownSync}from'fs';import _0x217078 from'../../../lib/config/config.js';import _0x361bae from'../../../lib/puppeteer/puppeteer.js';let data1={};import{createRequire}from'module';import _0x4e20b6 from'yaml';const require=createRequire(import.meta[_0x581fbc(0x129)]);let ysct,mf,mfkg=0x0,ml=process[_0x581fbc(0x134)]();var http=require(_0x581fbc(0x167));import _0x278b22 from'lodash';function _0x2248(_0x219c29,_0x395f04){const _0x1c8b7f=_0x1c8b();return _0x2248=function(_0x22484b,_0x5c3a82){_0x22484b=_0x22484b-0x111;let _0x410d7d=_0x1c8b7f[_0x22484b];return _0x410d7d;},_0x2248(_0x219c29,_0x395f04);}let yushekg=0x0,kg=0x0,guimo=5.5,kg2=0x0,mfid='',res4,htm='',htm2='',res5,res,zr=0x0,changdu=0x200,kuandu=0x200,msg2,timeout=0x7530,isch=0x1,cd=0x0,t,startTimeMS,iscd=0x0,my,dz,sj1,sj2,shuju,zt=0x0,gjc2,sc=0x0,bushu=0x1c,id='',xsd=0.5,nr,ycqx,jz=0.2,ss='nai-diffusion',Path,ys=[],moxing=_0x581fbc(0x13e),isdl=0x0,iscanshu=0x1,ishuifu=!![],HttpsProxyAgent='',chang,kuan,pc='lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry';export class aiht extends plugin{constructor(){const _0xc005c5={_0x1bfa61:0x19b,_0x1310d0:0x19b,_0x22a1d7:0x186,_0x1fe30f:0x164,_0x55969a:0x13c,_0x2d8042:0x122,_0x1a5993:0x1d5,_0x257265:0x1b8,_0x30fef6:0x15d,_0xd91886:0x1cb},_0x4e4458=_0x581fbc;super({'name':_0x4e4458(_0xc005c5._0x1bfa61),'dsc':_0x4e4458(_0xc005c5._0x1310d0),'event':'message','priority':0x479,'rule':[{'reg':'^#绘个图(.*)$|#土块画图预设(.*)$','fnc':'huatu2'},{'reg':_0x4e4458(_0xc005c5._0x22a1d7),'fnc':_0x4e4458(0x11b)},{'reg':_0x4e4458(0x1be),'fnc':'pbc'},{'reg':'^#以图生草(.*)$|(.*)','fnc':'huatu3','log':![]},{'reg':'^#查看所有预设$|#新增预设(.*)|(.*)','fnc':_0x4e4458(_0xc005c5._0x1fe30f),'log':![]},{'reg':_0x4e4458(_0xc005c5._0x55969a),'fnc':_0x4e4458(0x179)},{'reg':'^#土块画图模型(.*)|^#查看所有模型','fnc':_0x4e4458(0x178)},{'reg':_0x4e4458(_0xc005c5._0x2d8042),'fnc':'szbs'},{'reg':'^#开启代理|^#关闭代理|^#开启参数显示|^#关闭参数显示|^#开启词条回复|^#关闭词条回复','fnc':_0x4e4458(_0xc005c5._0x1a5993)},{'reg':_0x4e4458(_0xc005c5._0x257265),'fnc':'tianxie'},{'reg':_0x4e4458(_0xc005c5._0x30fef6),'fnc':_0x4e4458(_0xc005c5._0xd91886)}]});}async[_0x581fbc(0x1cb)](_0x34aee7){const _0x25bb3d={_0x5459e2:0x17b},_0x467f5b=_0x581fbc;let _0x33554f=_0x467f5b(_0x25bb3d._0x5459e2),_0x473c18=await _0x1fd86d(_0x33554f),_0x513478=await _0x473c18['json'](),_0x954f29=_0x513478[_0x467f5b(0x1c1)];data1={'tplFile':_0x467f5b(0x1bd),'dz':ml,'lb':_0x954f29};let _0x158ea8=await _0x361bae[_0x467f5b(0x18b)]('123',{...data1});_0x34aee7[_0x467f5b(0x16c)](_0x158ea8);}async[_0x581fbc(0x119)](_0x25dc20){const _0x254074={_0x401cf5:0x19e,_0x41d9bd:0x161,_0x4a6186:0x1a3,_0x3e84c1:0x13d,_0x458460:0x120,_0x287b56:0x113,_0x594c50:0x191,_0x4e81bb:0x144,_0x45730c:0x142,_0x1fd2ae:0x18a,_0x30703b:0x189,_0xfb09a9:0x16c,_0x4dc517:0x133},_0xcf1515=_0x581fbc;if(_0x25dc20[_0xcf1515(_0x254074._0x401cf5)]){let _0x14a500=_0x4e20b6['parse'](_0x57c79a['readFileSync']('./config/config/other.yaml',_0xcf1515(_0x254074._0x41d9bd)));_0x14a500=_0x14a500[_0xcf1515(_0x254074._0x4a6186)][0x0],console[_0xcf1515(_0x254074._0x3e84c1)](_0x14a500);let _0x2ee6f5=_0x25dc20[_0xcf1515(_0x254074._0x458460)]['replace'](/#填写密钥/g,'')[_0xcf1515(0x1cd)](),_0x24b7d3=_0xcf1515(0x150)+_0x2ee6f5+_0xcf1515(0x194)+String(_0x25dc20['user_id']),_0x545568=await _0x1fd86d(_0x24b7d3),_0x1f3699=await _0x545568['text']();if(_0x1f3699[_0xcf1515(0x153)](_0xcf1515(0x14f))){_0x25dc20['reply'](_0xcf1515(0x1d7));return;}if(_0x1f3699['includes'](_0xcf1515(_0x254074._0x287b56))){_0x25dc20['reply']('你好号主，成功再次激活'),await _0x57c79a[_0xcf1515(0x18a)]('./resources/th2.txt',_0x2ee6f5[_0xcf1515(_0x254074._0x594c50)](),_0xcf1515(_0x254074._0x4e81bb),_0x21c75e=>{const _0x4c633c=_0xcf1515;if(_0x21c75e)console[_0x4c633c(0x13d)]('写入文件错误');else{}});return;}_0x1f3699[_0xcf1515(0x153)](_0xcf1515(_0x254074._0x45730c))&&(_0x25dc20[_0xcf1515(0x16c)]('已激活密钥，号主为'+String(_0x25dc20[_0xcf1515(0x18e)])),await _0x57c79a[_0xcf1515(_0x254074._0x1fd2ae)](_0xcf1515(_0x254074._0x30703b),_0x2ee6f5['toString'](),_0xcf1515(_0x254074._0x4e81bb),_0x52c869=>{const _0x300103=_0xcf1515;if(_0x52c869)console[_0x300103(0x13d)]('写入文件错误');else{}})),_0x1f3699[_0xcf1515(0x153)]('该密钥已被激活')&&_0x25dc20[_0xcf1515(_0x254074._0xfb09a9)](_0xcf1515(_0x254074._0x4dc517));}}async['kqdl'](_0x48b52e){const _0x1205b5={_0x5c6e39:0x162,_0x270e37:0x118,_0x1b54f0:0x19e,_0x301350:0x16c,_0x3badd2:0x132,_0x32c8cb:0x154},_0x313ab3=_0x581fbc;_0x48b52e[_0x313ab3(0x120)]=='#开启代理'&_0x48b52e[_0x313ab3(0x19e)]&&(isdl=0x1,_0x48b52e[_0x313ab3(0x16c)]('开启代理成功')),_0x48b52e['msg']=='#关闭代理'&_0x48b52e[_0x313ab3(0x19e)]&&(isdl=0x0,_0x48b52e[_0x313ab3(0x16c)](_0x313ab3(0x12c))),_0x48b52e['msg']=='#开启参数显示'&_0x48b52e['isMaster']&&(iscanshu=0x1,_0x48b52e['reply'](_0x313ab3(_0x1205b5._0x5c6e39))),_0x48b52e[_0x313ab3(0x120)]==_0x313ab3(_0x1205b5._0x270e37)&_0x48b52e[_0x313ab3(_0x1205b5._0x1b54f0)]&&(iscanshu=0x0,_0x48b52e[_0x313ab3(0x16c)]('已关闭参数显示')),_0x48b52e[_0x313ab3(0x120)]==_0x313ab3(0x1df)&_0x48b52e[_0x313ab3(0x19e)]&&(ishuifu=!![],_0x48b52e[_0x313ab3(_0x1205b5._0x301350)]('已开启词条回复')),_0x48b52e['msg']==_0x313ab3(_0x1205b5._0x3badd2)&_0x48b52e[_0x313ab3(_0x1205b5._0x1b54f0)]&&(ishuifu=![],_0x48b52e['reply'](_0x313ab3(_0x1205b5._0x32c8cb)));}async[_0x581fbc(0x170)](_0x40388e){const _0x1920f3={_0x3330f7:0x18c,_0x42f30a:0x1a8,_0x3ca2d6:0x120,_0x138f9d:0x1cd},_0x3c6a3e=_0x581fbc;if(_0x40388e['msg']=='#查看画图设置'){console['log'](guimo);let _0x554268=['模型：',moxing,_0x3c6a3e(_0x1920f3._0x3330f7),guimo['toString'](),_0x3c6a3e(_0x1920f3._0x42f30a),bushu['toString'](),'\x0a相似度：',xsd['toString'](),_0x3c6a3e(0x131),jz[_0x3c6a3e(0x191)]()];_0x40388e[_0x3c6a3e(0x16c)](_0x554268);return;}bushu=_0x40388e[_0x3c6a3e(_0x1920f3._0x3ca2d6)]['replace'](/#土块画图步数/g,'')[_0x3c6a3e(_0x1920f3._0x138f9d)](),bushu=Number(bushu);if(bushu<0x0|bushu>0x1c){bushu=0x1c,_0x40388e[_0x3c6a3e(0x16c)](_0x3c6a3e(0x12a));return;}else _0x40388e[_0x3c6a3e(0x16c)](_0x3c6a3e(0x1a9)+String(bushu));}async['szmx'](_0x5c4cc0){const _0x3eb801={_0x81e810:0x158,_0x6f0a77:0x1d2,_0x484fb7:0x16c,_0x2a730d:0x127},_0x36e4e0=_0x581fbc;if(_0x5c4cc0[_0x36e4e0(0x120)]=='#查看所有模型'){let _0xfbf25f=[_0x36e4e0(0x140)];_0x5c4cc0['reply'](_0xfbf25f);return;}moxing=_0x5c4cc0['msg'][_0x36e4e0(0x15c)](/#土块画图模型/g,'')[_0x36e4e0(0x1cd)](),moxing=Number(moxing);if(moxing<0x0|moxing>0x5){_0x5c4cc0['reply'](_0x36e4e0(_0x3eb801._0x81e810)),moxing=0x2;return;}moxing==0x1&&(moxing=_0x36e4e0(_0x3eb801._0x6f0a77),_0x5c4cc0['reply'](_0x36e4e0(0x184))),moxing==0x2&&(moxing=_0x36e4e0(0x13e),_0x5c4cc0[_0x36e4e0(_0x3eb801._0x484fb7)](_0x36e4e0(0x15a))),moxing==0x3&&(moxing=_0x36e4e0(0x17a),_0x5c4cc0[_0x36e4e0(0x16c)](_0x36e4e0(0x126))),moxing==0x4&&(moxing=_0x36e4e0(_0x3eb801._0x2a730d),_0x5c4cc0[_0x36e4e0(_0x3eb801._0x484fb7)](_0x36e4e0(0x1d0))),moxing==0x5&&(moxing=_0x36e4e0(0x1c0),_0x5c4cc0[_0x36e4e0(_0x3eb801._0x484fb7)]('模型已设置为ddim'));}async[_0x581fbc(0x179)](_0x5451f5){const _0x300f38={_0x3afc72:0x120,_0x3dd012:0x168},_0x4000e5=_0x581fbc;guimo=_0x5451f5[_0x4000e5(_0x300f38._0x3afc72)][_0x4000e5(0x15c)](/#土块画图规模/g,'')[_0x4000e5(0x1cd)](),guimo=Number(guimo);if(guimo<0x3|guimo>0xc){_0x5451f5[_0x4000e5(0x16c)](_0x4000e5(_0x300f38._0x3dd012)),guimo=5.5;return;}else _0x5451f5[_0x4000e5(0x16c)]('规模已设置为'+String(guimo));}async[_0x581fbc(0x164)](_0x29ea9e){const _0x42b634={_0x264f90:0x120,_0x3b9092:0x153,_0x2e9758:0x16a,_0x26c19c:0x18f,_0x38305a:0x1cd,_0x13d09a:0x19c,_0x11dbc6:0x1bf,_0x45bc2c:0x120,_0xee8bde:0x160,_0x5e6faf:0x15b,_0x51aadb:0x1b1,_0x431175:0x120,_0x40e547:0x1ca,_0x4a9a3f:0x153,_0x4676fc:0x15c,_0x1fda43:0x16c,_0x1337f6:0x19e,_0x4d1525:0x120,_0x525266:0x175,_0x432402:0x13d},_0x2d04a={_0x2264be:0x16c},_0x336ceb={_0x3c2155:0x182},_0x9fc4c9={_0x24b10:0x191,_0x4464f2:0x145},_0x1165be=_0x581fbc;if(_0x29ea9e[_0x1165be(0x1bc)]!=undefined)return![];if(yushekg==0x0&_0x29ea9e[_0x1165be(0x120)]['includes'](_0x1165be(0x18d))==![]&_0x29ea9e[_0x1165be(_0x42b634._0x264f90)][_0x1165be(0x153)](_0x1165be(0x136))==![]&_0x29ea9e[_0x1165be(0x120)][_0x1165be(_0x42b634._0x3b9092)]('#删除预设')==![]&_0x29ea9e[_0x1165be(0x120)][_0x1165be(0x153)](_0x1165be(0x174))==![])return![];let _0x2917ba=ml+_0x1165be(_0x42b634._0x2e9758),_0xad70d9='';await _0x57c79a[_0x1165be(_0x42b634._0x26c19c)](_0x2917ba,(_0x382bd0,_0x511c02)=>{const _0x206068=_0x1165be;if(_0x382bd0)throw _0x382bd0;var _0x357bdf=_0x511c02[_0x206068(_0x9fc4c9._0x24b10)]()!=''?JSON[_0x206068(0x163)](_0x511c02['toString']()):[];ysct='',_0xad70d9='',shuju=_0x357bdf;for(let _0x26271=0x0;_0x26271<shuju[_0x206068(0x172)][_0x206068(_0x9fc4c9._0x4464f2)];_0x26271++){_0xad70d9=_0xad70d9+shuju['shuju'][_0x26271]['name']+',',ysct=ysct+shuju['shuju'][_0x26271]['gjc']+'++';}}),await sleep(0x1f4);if(_0x29ea9e['msg'][_0x1165be(_0x42b634._0x3b9092)](_0x1165be(0x174))&_0x29ea9e[_0x1165be(0x19e)]){let _0x5f33b7=_0x29ea9e[_0x1165be(_0x42b634._0x264f90)]['replace'](/#查看预设词条/g,'')[_0x1165be(_0x42b634._0x38305a)]();_0x5f33b7=Number(_0x5f33b7),ysct=ysct[_0x1165be(_0x42b634._0x13d09a)]('++'),_0xad70d9=_0xad70d9['split'](',');if(_0x5f33b7>ysct[_0x1165be(0x145)]|_0x5f33b7<0x0){_0x29ea9e[_0x1165be(0x16c)](_0x1165be(_0x42b634._0x11dbc6));return;}_0x29ea9e[_0x1165be(0x16c)]([_0xad70d9[_0x5f33b7-0x1],':',ysct[_0x5f33b7-0x1]]),ysct='',_0xad70d9='';}if(_0x29ea9e[_0x1165be(_0x42b634._0x45bc2c)]==_0x1165be(0x18d)&_0x29ea9e[_0x1165be(0x19e)]){_0xad70d9=_0xad70d9[_0x1165be(_0x42b634._0x13d09a)](','),data1={'tplFile':_0x1165be(_0x42b634._0xee8bde),'dz':ml,'lb':_0xad70d9,'qsid':0x0};let _0x770a31=await _0x361bae[_0x1165be(0x18b)](_0x1165be(_0x42b634._0x5e6faf),{...data1});_0x29ea9e[_0x1165be(0x16c)](_0x770a31);return;_0x29ea9e['reply'](_0x1165be(_0x42b634._0x51aadb)+_0xad70d9);}if(_0x29ea9e[_0x1165be(0x120)][_0x1165be(0x153)]('#删除预设')&_0x29ea9e[_0x1165be(0x19e)]){let _0x239bf8=_0x29ea9e[_0x1165be(_0x42b634._0x431175)][_0x1165be(0x15c)](/#删除预设/g,'')[_0x1165be(0x1cd)]();_0x239bf8=Number(_0x239bf8);if(_0x239bf8<shuju[_0x1165be(0x172)]['length']+0x1){shuju['shuju']['splice'](_0x239bf8-0x1,0x1);var _0x4ff3a8=JSON[_0x1165be(_0x42b634._0x40e547)](shuju);}_0x57c79a[_0x1165be(0x18a)](_0x2917ba,_0x4ff3a8,function(_0x1b1ae7){const _0x3903c4=_0x1165be;_0x1b1ae7&&console[_0x3903c4(_0x336ceb._0x3c2155)](_0x1b1ae7),_0x29ea9e[_0x3903c4(0x16c)](_0x3903c4(0x1ae));});}if(_0x29ea9e['msg'][_0x1165be(_0x42b634._0x4a9a3f)](_0x1165be(0x136))&_0x29ea9e[_0x1165be(0x19e)]&yushekg==0x0){yushekg=0x1,ys[0x0]=_0x29ea9e[_0x1165be(0x120)][_0x1165be(_0x42b634._0x4676fc)](/#新增预设/g,'')['trim'](),_0x29ea9e[_0x1165be(_0x42b634._0x1fda43)](_0x1165be(0x1e1));return;}if(yushekg==0x1&_0x29ea9e[_0x1165be(_0x42b634._0x1337f6)]){yushekg=0x0,ys[0x1]=_0x29ea9e[_0x1165be(_0x42b634._0x4d1525)];let _0x42297d={'name':ys[0x0],'gjc':ys[0x1]};shuju['shuju'][_0x1165be(_0x42b634._0x525266)](_0x42297d),console[_0x1165be(_0x42b634._0x432402)](shuju);var _0x4ff3a8=JSON[_0x1165be(0x1ca)](shuju);_0x57c79a['writeFile'](_0x2917ba,_0x4ff3a8,_0x3dabf1=>{const _0x2f9c2f=_0x1165be;if(_0x3dabf1)throw _0x3dabf1;console['log']('文件写入成功！'),_0x29ea9e[_0x2f9c2f(_0x2d04a._0x2264be)](_0x2f9c2f(0x143));});return;}}async[_0x581fbc(0x176)](_0x15a944){const _0x2615a6={_0x4bb884:0x19e,_0x172c79:0x16c,_0x370e3c:0x120,_0x171506:0x116,_0xd4f72f:0x153,_0x2d79e2:0x198,_0x183c3f:0x19e,_0x4c8bf1:0x137},_0x24e521=_0x581fbc;_0x15a944[_0x24e521(0x120)]['includes'](_0x24e521(0x14a))&_0x15a944[_0x24e521(_0x2615a6._0x4bb884)]&&(_0x15a944[_0x24e521(_0x2615a6._0x172c79)](_0x24e521(0x1e7)),pc=_0x15a944[_0x24e521(_0x2615a6._0x370e3c)][_0x24e521(0x15c)](/#新增屏蔽词/g,'')['trim']()),_0x15a944[_0x24e521(0x120)]==_0x24e521(_0x2615a6._0x171506)&_0x15a944['isMaster']&&_0x15a944[_0x24e521(0x16c)](['当前屏蔽词有：',pc]),_0x15a944[_0x24e521(0x120)][_0x24e521(_0x2615a6._0xd4f72f)](_0x24e521(_0x2615a6._0x2d79e2))&_0x15a944[_0x24e521(_0x2615a6._0x183c3f)]&&(_0x15a944['reply'](_0x24e521(0x19d)+_0x24e521(0x1c6)),pc=''),_0x15a944[_0x24e521(0x120)][_0x24e521(_0x2615a6._0xd4f72f)](_0x24e521(0x1ba))&_0x15a944[_0x24e521(0x19e)]&&(_0x15a944[_0x24e521(0x16c)]('已经开启默认屏蔽词'),pc=_0x24e521(_0x2615a6._0x4c8bf1));}async[_0x581fbc(0x11b)](_0x3dcca1){const _0x1a172f={_0x1574eb:0x120,_0x43bc9d:0x19e,_0x1b58b0:0x120,_0x2ebf81:0x16c,_0x18b596:0x11f,_0x351555:0x188,_0x3b877d:0x19e,_0x515e1:0x15e,_0x42486c:0x191,_0x20f5d5:0x144,_0x4666ab:0x153,_0x4462c4:0x1a0,_0xfb949e:0x19e,_0x4da86b:0x16c,_0xc8dbcd:0x155,_0x8e453:0x15e,_0x582420:0x1dd,_0x4619d6:0x144,_0x3bbfa0:0x12f,_0x211258:0x15c,_0x107753:0x1d4,_0x5b1196:0x183,_0x5be3a1:0x1e0,_0x2a9c60:0x19e,_0x28a80c:0x135},_0x2bac3b=_0x581fbc;_0x3dcca1[_0x2bac3b(_0x1a172f._0x1574eb)]==_0x2bac3b(0x1c2)&_0x3dcca1[_0x2bac3b(_0x1a172f._0x43bc9d)]&&(_0x3dcca1[_0x2bac3b(0x16c)](_0x2bac3b(0x1cf)),ss='nai-diffusion');_0x3dcca1[_0x2bac3b(_0x1a172f._0x1b58b0)]=='#土块画图涩涩关闭'&_0x3dcca1[_0x2bac3b(0x19e)]&&(_0x3dcca1[_0x2bac3b(_0x1a172f._0x2ebf81)](_0x2bac3b(_0x1a172f._0x18b596)),ss='safe-diffusion');await dqpz();if(_0x3dcca1['msg'][_0x2bac3b(0x153)](_0x2bac3b(_0x1a172f._0x351555))&_0x3dcca1[_0x2bac3b(_0x1a172f._0x3b877d)]){nr[0x3]=0x0,nr[0x0]=0x0,_0x57c79a[_0x2bac3b(_0x1a172f._0x515e1)](Path,nr[_0x2bac3b(_0x1a172f._0x42486c)](),_0x2bac3b(_0x1a172f._0x20f5d5)),cd=0x0,kg2=0x0,kg=0x0,sc=0x0,iscd=0x0,_0x3dcca1[_0x2bac3b(_0x1a172f._0x2ebf81)]('已关闭画图冷却');return;}if(_0x3dcca1[_0x2bac3b(0x120)][_0x2bac3b(_0x1a172f._0x4666ab)]('#土块画图冷却开启')&_0x3dcca1[_0x2bac3b(_0x1a172f._0x3b877d)]){nr[0x0]=0x7530,nr[0x3]=0x1,_0x57c79a[_0x2bac3b(0x15e)](Path,nr[_0x2bac3b(_0x1a172f._0x42486c)](),_0x2bac3b(0x144)),cd=0x7530,_0x3dcca1[_0x2bac3b(_0x1a172f._0x2ebf81)](_0x2bac3b(_0x1a172f._0x4462c4));return;}if(_0x3dcca1[_0x2bac3b(0x120)]['includes'](_0x2bac3b(0x146))&_0x3dcca1[_0x2bac3b(_0x1a172f._0xfb949e)]){let _0x2b81d8=_0x3dcca1['msg']['replace'](/#土块画图冷却/g,'')[_0x2bac3b(0x1cd)]();cd=Number(_0x2b81d8)*0x3e8,nr[0x0]=cd,nr[0x3]=0x1,_0x57c79a[_0x2bac3b(_0x1a172f._0x515e1)](Path,nr[_0x2bac3b(0x191)](),_0x2bac3b(0x144)),_0x3dcca1[_0x2bac3b(_0x1a172f._0x4da86b)](_0x2bac3b(_0x1a172f._0xc8dbcd)+_0x2b81d8+'秒');}if(_0x3dcca1[_0x2bac3b(0x120)][_0x2bac3b(0x153)]('#土块画图撤回关闭')&_0x3dcca1[_0x2bac3b(_0x1a172f._0xfb949e)]){nr[0x2]=0x0,_0x57c79a[_0x2bac3b(_0x1a172f._0x8e453)](Path,nr[_0x2bac3b(_0x1a172f._0x42486c)](),_0x2bac3b(_0x1a172f._0x20f5d5)),isch=0x0,_0x3dcca1['reply'](_0x2bac3b(0x13a));return;}if(_0x3dcca1['msg'][_0x2bac3b(0x153)](_0x2bac3b(_0x1a172f._0x582420))&_0x3dcca1['isMaster']){isch=0x1,nr[0x1]=0x7530,nr[0x2]=0x1,_0x57c79a[_0x2bac3b(_0x1a172f._0x8e453)](Path,nr['toString'](),_0x2bac3b(_0x1a172f._0x4619d6)),timeout=0x7530,_0x3dcca1[_0x2bac3b(0x16c)](_0x2bac3b(_0x1a172f._0x3bbfa0));return;}if(_0x3dcca1[_0x2bac3b(0x120)][_0x2bac3b(0x153)](_0x2bac3b(0x14b))&_0x3dcca1[_0x2bac3b(0x19e)]){isch=0x1;let _0x5eb55e=_0x3dcca1[_0x2bac3b(_0x1a172f._0x1b58b0)][_0x2bac3b(_0x1a172f._0x211258)](/#土块画图撤回/g,'')['trim']();timeout=Number(_0x5eb55e)*0x3e8,nr[0x1]=timeout,nr[0x2]=0x1,_0x57c79a[_0x2bac3b(0x15e)](Path,nr['toString'](),_0x2bac3b(0x144)),_0x3dcca1[_0x2bac3b(0x16c)]('已设置撤回时间为'+_0x5eb55e+'秒');}_0x3dcca1['msg']==_0x2bac3b(_0x1a172f._0x107753)&&(kg=0x0,sc=0x0,zt=0x0,id='',console['log'](_0x2bac3b(_0x1a172f._0x5b1196)),kg2=0x0,_0x3dcca1['reply']('已取消当前画图')),_0x3dcca1[_0x2bac3b(_0x1a172f._0x1574eb)]==_0x2bac3b(_0x1a172f._0x5be3a1)&_0x3dcca1[_0x2bac3b(_0x1a172f._0x2a9c60)]&&(_0x3dcca1['reply'](_0x2bac3b(0x165)),zr=0x0),_0x3dcca1[_0x2bac3b(_0x1a172f._0x1574eb)]==_0x2bac3b(0x193)&_0x3dcca1[_0x2bac3b(0x19e)]&&(_0x3dcca1[_0x2bac3b(0x16c)](_0x2bac3b(_0x1a172f._0x28a80c)),zr=0x1);}async[_0x581fbc(0x15f)](_0x532d3d){const _0x2b2b50={_0x47caba:0x120,_0x50b130:0x1bc,_0x1c6e54:0x18e,_0x450d5a:0x16c,_0x4802e0:0x1ad,_0x391d47:0x1bc,_0x36819e:0x17e,_0x308bbb:0x12d,_0x6eceac:0x1e3,_0xa02c51:0x1bb,_0x1bd198:0x17d,_0x228c37:0x153,_0x57caa5:0x16c,_0x3dbe7b:0x153,_0x1b8279:0x120,_0x1c67d9:0x1cd,_0x498c82:0x1aa,_0x4b8d6f:0x16c,_0x192640:0x1a5,_0x2da8d8:0x194,_0x379b91:0x13d,_0x3710f0:0x13d,_0x41802b:0x199,_0xcefb4:0x125,_0xe29e87:0x15c,_0x293dc0:0x1cd,_0x1a54bc:0x1cd,_0x25a390:0x15c,_0x3a0615:0x120,_0x5e20c9:0x120,_0x41be32:0x15c,_0x407f76:0x1cd,_0x5b9107:0x120,_0x543bc6:0x1b2,_0x31fbd0:0x171,_0x1c0000:0x1cd,_0x2573c0:0x1cd,_0x1615f5:0x15c,_0x5e51d6:0x13d,_0x52b540:0x16c,_0x4d6d07:0x1b6,_0x4c1a9c:0x12e,_0x74537e:0x18e,_0x3c88d7:0x15c,_0x18fdb2:0x1e5,_0x114d22:0x1b0,_0x4b288b:0x1d9,_0x1d7607:0x16c,_0x1b8262:0x19f,_0x1ac4e6:0x185,_0x3b8f35:0x157,_0x256c59:0x1c5,_0x314f64:0x11d,_0xddce84:0x18a,_0x622aff:0x1af,_0x4bade7:0x16c,_0x12b73a:0x151,_0x2074a7:0x151,_0x1ba9da:0x159,_0x107f93:0x1b7,_0x1debfa:0x195},_0x1bef9c={_0x2c9b5c:0x13d,_0x14508d:0x1e6},_0xee785f={_0x4d1990:0x16c,_0x15973c:0x19a},_0x2ada48={_0x5c720e:0x1de},_0xd01f93=_0x581fbc;if(_0x532d3d['img']!=undefined&zt==0x0&mfkg==0x0)return![];if(_0x532d3d[_0xd01f93(0x1bc)]==undefined&_0x532d3d[_0xd01f93(_0x2b2b50._0x47caba)]!=undefined){if(_0x532d3d[_0xd01f93(0x120)]['includes'](_0xd01f93(0x1dc))==![]&_0x532d3d[_0xd01f93(_0x2b2b50._0x50b130)]==undefined&zt==0x0&_0x532d3d[_0xd01f93(0x120)][_0xd01f93(0x153)]('#查看魔法')==![]&mfkg==0x0)return![];}mfkg==0x0&_0x532d3d[_0xd01f93(0x120)]=='#查看魔法'&&(mfkg=0x1,mfid=_0x532d3d[_0xd01f93(_0x2b2b50._0x1c6e54)],_0x532d3d[_0xd01f93(_0x2b2b50._0x450d5a)](_0xd01f93(_0x2b2b50._0x4802e0)),mf=setTimeout(()=>{const _0x2f390c=_0xd01f93;if(mfkg==0x1){mfkg=0x0,_0x532d3d[_0x2f390c(0x16c)](_0x2f390c(_0x2ada48._0x5c720e));return;}},0x3a98));if(_0x532d3d[_0xd01f93(_0x2b2b50._0x391d47)]!=undefined&mfkg==0x1&mfid==_0x532d3d['user_id']){clearTimeout(mf),_0x532d3d[_0xd01f93(0x16c)](_0xd01f93(_0x2b2b50._0x36819e)),mfkg=0x0,mfid='';let _0x18183c=_0xd01f93(0x121);console['log'](_0x532d3d['img']),_0x18183c=_0x18183c+_0x532d3d['img'][0x0],res=await _0x1fd86d(_0x18183c,{'method':'get','headers':{'Content-Type':_0xd01f93(0x157),'User-Agent':_0xd01f93(_0x2b2b50._0x308bbb)}});let _0x33d158=await res[_0xd01f93(_0x2b2b50._0x6eceac)]();console[_0xd01f93(0x13d)](_0xd01f93(_0x2b2b50._0xa02c51)+_0x33d158),console[_0xd01f93(0x13d)](_0x33d158);if(_0x33d158!=undefined)_0x532d3d['reply'](_0x33d158[_0xd01f93(0x17f)],!![]),_0x33d158[_0xd01f93(0x11e)]==-0x1&&(_0x532d3d[_0xd01f93(0x16c)](_0xd01f93(_0x2b2b50._0x1bd198)),mfkg=0x0,mfid='');else{}}if(_0x532d3d['img']==undefined&zt==0x1)return![];if(_0x532d3d[_0xd01f93(0x1bc)]==undefined&_0x532d3d[_0xd01f93(_0x2b2b50._0x47caba)]!=undefined){dqpz();if(_0x532d3d['msg'][_0xd01f93(_0x2b2b50._0x228c37)]('#以图生草相似度')&_0x532d3d[_0xd01f93(0x19e)]){xsd=Number(_0x532d3d['msg'][_0xd01f93(0x15c)](/#以图生草相似度/g,'')[_0xd01f93(0x1cd)]())/0x64,_0x532d3d[_0xd01f93(_0x2b2b50._0x57caa5)](_0xd01f93(0x1e4)+String(xsd)),console['log'](xsd);return;}if(_0x532d3d[_0xd01f93(0x120)][_0xd01f93(_0x2b2b50._0x3dbe7b)](_0xd01f93(0x196))&_0x532d3d[_0xd01f93(0x19e)]){jz=Number(_0x532d3d[_0xd01f93(_0x2b2b50._0x1b8279)][_0xd01f93(0x15c)](/#以图生草降噪/g,'')[_0xd01f93(_0x2b2b50._0x1c67d9)]())/0x64,_0x532d3d[_0xd01f93(_0x2b2b50._0x450d5a)](_0xd01f93(_0x2b2b50._0x498c82)+String(jz)),console['log'](jz);return;}if(zt==0x0&&sc==0x0&&_0x532d3d['msg'][_0xd01f93(_0x2b2b50._0x228c37)]('#以图生草')){if(_0x532d3d['isPrivate']){_0x532d3d[_0xd01f93(_0x2b2b50._0x4b8d6f)](_0xd01f93(0x190));return;}dqpz();let _0x52ed6a='';try{_0x52ed6a=_0x57c79a[_0xd01f93(0x114)](_0xd01f93(0x189));}catch{_0x532d3d['reply'](_0xd01f93(_0x2b2b50._0x192640));return;}_0x52ed6a=_0x52ed6a[_0xd01f93(0x191)]();let _0x193162=_0x4e20b6[_0xd01f93(0x163)](_0x57c79a[_0xd01f93(0x114)](_0xd01f93(0x1d1),_0xd01f93(0x161)));_0x193162=_0x193162['masterQQ'][0x0];try{let _0x365904=_0xd01f93(0x112)+_0x52ed6a+_0xd01f93(_0x2b2b50._0x2da8d8)+String(_0x193162);res=await _0x1fd86d(_0x365904),console[_0xd01f93(_0x2b2b50._0x379b91)]('访问成功了');}catch(_0x4c454a){console[_0xd01f93(_0x2b2b50._0x3710f0)](_0x4c454a),console[_0xd01f93(_0x2b2b50._0x3710f0)](_0xd01f93(0x1c5));}res=await res[_0xd01f93(_0x2b2b50._0x41802b)]();if(res[_0xd01f93(0x153)](_0xd01f93(_0x2b2b50._0xcefb4))==![]){_0x532d3d[_0xd01f93(_0x2b2b50._0x450d5a)](_0xd01f93(0x139)),console['log'](res);return;}console['log'](_0xd01f93(0x166)),id=_0x532d3d[_0xd01f93(0x18e)],chang=0x200,kuan=0x200,gjc2=_0x532d3d[_0xd01f93(0x120)][_0xd01f93(_0x2b2b50._0xe29e87)](/#以图生草/g,'')[_0xd01f93(_0x2b2b50._0x293dc0)]();_0x532d3d[_0xd01f93(0x120)][_0xd01f93(0x153)]('以图生草长图')&&(chang=0x300,kuan=0x200,gjc2=_0x532d3d[_0xd01f93(0x120)]['replace'](/#以图生草长图/g,'')[_0xd01f93(_0x2b2b50._0x1a54bc)]());_0x532d3d[_0xd01f93(0x120)]['includes']('以图生草宽图')&&(chang=0x200,kuan=0x300,gjc2=_0x532d3d['msg'][_0xd01f93(_0x2b2b50._0x25a390)](/#以图生草宽图/g,'')[_0xd01f93(_0x2b2b50._0x293dc0)]());gjc2=_0x532d3d[_0xd01f93(_0x2b2b50._0x3a0615)][_0xd01f93(_0x2b2b50._0xe29e87)](/#以图生草/g,'')[_0xd01f93(0x1cd)]();_0x532d3d[_0xd01f93(_0x2b2b50._0x47caba)]['includes']('以图生草长图')&&(chang=0x300,kuan=0x200,gjc2=_0x532d3d[_0xd01f93(_0x2b2b50._0x5e20c9)][_0xd01f93(_0x2b2b50._0x41be32)](/#以图生草长图/g,'')[_0xd01f93(_0x2b2b50._0x407f76)]());_0x532d3d[_0xd01f93(0x120)][_0xd01f93(_0x2b2b50._0x3dbe7b)](_0xd01f93(0x1a1))&&(chang=0x200,kuan=0x300,gjc2=_0x532d3d[_0xd01f93(_0x2b2b50._0x5b9107)][_0xd01f93(0x15c)](/#以图生草宽图/g,'')['trim']());var _0x333472=new RegExp(_0xd01f93(0x17c),'g');if(_0x333472[_0xd01f93(0x1d3)](gjc2)){console[_0xd01f93(0x13d)](_0xd01f93(_0x2b2b50._0x543bc6));let _0x11be30=_0xd01f93(_0x2b2b50._0x31fbd0)+gjc2,_0x346fba=await _0x1fd86d(_0x11be30),_0x5b82d3=await _0x346fba['text']();_0x5b82d3=_0x5b82d3['replace'](/有道翻译查询结果/g,'')[_0xd01f93(_0x2b2b50._0x1c0000)](),_0x5b82d3=_0x5b82d3[_0xd01f93(0x15c)](/翻译后/g,'')[_0xd01f93(0x1cd)](),_0x5b82d3=_0x5b82d3[_0xd01f93(0x15c)](/翻译前/g,'')[_0xd01f93(_0x2b2b50._0x2573c0)](),_0x5b82d3=_0x5b82d3['replace'](/：/g,'')['trim'](),_0x5b82d3=_0x5b82d3[_0xd01f93(_0x2b2b50._0x1615f5)](new RegExp(gjc2,'g'),''),gjc2=_0x5b82d3,console[_0xd01f93(0x13d)](gjc2);}else console[_0xd01f93(_0x2b2b50._0x5e51d6)](_0xd01f93(0x187));zt=0x1,ycqx=setTimeout(()=>{const _0x6ad04=_0xd01f93;if(zt==0x1){zt=0x0,_0x532d3d[_0x6ad04(_0xee785f._0x4d1990)](_0x6ad04(_0xee785f._0x15973c));return;}},0x7530),_0x532d3d[_0xd01f93(_0x2b2b50._0x52b540)]([segment['at'](id),_0xd01f93(_0x2b2b50._0x4d6d07)]);return;}}if(sc==0x0&_0x532d3d[_0xd01f93(_0x2b2b50._0x4c1a9c)]&zt==0x1&_0x532d3d[_0xd01f93(0x1bc)]!=undefined){clearTimeout(ycqx);if(_0x532d3d[_0xd01f93(_0x2b2b50._0x74537e)]==id&zt==0x1){sc=0x1;let _0x58498c=await imgUrlToBase64(_0x532d3d[_0xd01f93(_0x2b2b50._0x50b130)][0x0][_0xd01f93(_0x2b2b50._0x3c88d7)](/https/g,_0xd01f93(0x167))[_0xd01f93(_0x2b2b50._0x1c0000)]()),_0x5a3e4d=_0x58498c[_0xd01f93(_0x2b2b50._0x18fdb2)],_0x170b71=Math[_0xd01f93(0x1b9)](Math[_0xd01f93(_0x2b2b50._0x114d22)]()*0xb6cff090);var _0x2b0d46={'init_images':[_0xd01f93(0x181)+_0x5a3e4d],'resize_mode':0x2,'denoising_strength':0x1-xsd,'mask_blur':0x4,'inpainting_fill':0x0,'inpaint_full_res':!![],'inpaint_full_res_padding':0x0,'inpainting_mask_invert':0x0,'prompt':gjc2,'styles':[_0xd01f93(0x1d9)],'seed':-0x1,'subseed':-0x1,'subseed_strength':0x0,'seed_resize_from_h':-0x1,'seed_resize_from_w':-0x1,'sampler_name':_0xd01f93(_0x2b2b50._0x4b288b),'batch_size':0x1,'n_iter':0x1,'steps':0x32,'cfg_scale':guimo+0x2,'width':kuan,'height':chang,'restore_faces':![],'tiling':![],'negative_prompt':pc,'eta':0x0,'s_churn':0x0,'s_tmax':0x0,'s_tmin':0x0,'s_noise':0x1,'override_settings':{},'sampler_index':_0xd01f93(0x1b3),'include_init_images':![]};_0x532d3d[_0xd01f93(_0x2b2b50._0x1d7607)]('好的，我开始以图生草了'),zt=0x0;try{res=await _0x1fd86d(_0xd01f93(_0x2b2b50._0x1b8262),{'method':_0xd01f93(_0x2b2b50._0x1ac4e6),'body':JSON['stringify'](_0x2b0d46),'headers':{'Content-Type':_0xd01f93(_0x2b2b50._0x3b8f35),'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36'}});}catch(_0x217fe4){console['log'](_0x217fe4),console['log'](_0xd01f93(_0x2b2b50._0x256c59)),kg=0x0;return;}let _0x44d72d=await res[_0xd01f93(_0x2b2b50._0x6eceac)]();_0x44d72d=_0x44d72d[_0xd01f93(_0x2b2b50._0x314f64)],_0x532d3d[_0xd01f93(_0x2b2b50._0x57caa5)]('成功了！'),await _0x57c79a[_0xd01f93(_0x2b2b50._0xddce84)](_0xd01f93(0x14c),_0x44d72d[_0xd01f93(0x191)](),'base64',_0x2402da=>{const _0x5e9a14=_0xd01f93;_0x2402da?console[_0x5e9a14(_0x1bef9c._0x2c9b5c)]('写入文件错误'):console[_0x5e9a14(0x13d)](_0x5e9a14(_0x1bef9c._0x14508d));}),await sleep(0x1f4),msg2=[segment['at'](_0x532d3d[_0xd01f93(0x18e)]),segment[_0xd01f93(0x138)](ml+_0xd01f93(_0x2b2b50._0x622aff))],await sleep(0x1f4),iscd=0x0,sc=0x0,id='';let _0x3d25fb=await _0x532d3d[_0xd01f93(_0x2b2b50._0x4bade7)](msg2);iscd=0x1,console['log'](_0x3d25fb[_0xd01f93(_0x2b2b50._0x12b73a)],isch);if(_0x3d25fb&&_0x3d25fb[_0xd01f93(_0x2b2b50._0x2074a7)]&&isch==0x1&&_0x532d3d[_0xd01f93(0x12e)]){let _0x4cd0d3=_0x532d3d[_0xd01f93(_0x2b2b50._0x1ba9da)];setTimeout(()=>{const _0x1ae3a4=_0xd01f93;_0x4cd0d3[_0x1ae3a4(0x1d8)](_0x3d25fb['message_id']);},timeout);}startTimeMS=new Date()[_0xd01f93(0x16b)](),t=setTimeout(()=>{iscd=0x0,sc=0x0,id='';},cd);}}else{if(_0x532d3d['img']==undefined&_0x532d3d[_0xd01f93(0x120)]!=undefined){if(_0x532d3d['msg']['includes']('#以图生草')){if(iscd==0x1){console[_0xd01f93(0x13d)](iscd);let _0x3b3f4d=cd-(new Date()[_0xd01f93(0x16b)]()-startTimeMS);_0x3b3f4d=Math[_0xd01f93(_0x2b2b50._0x107f93)](_0x3b3f4d/0x3e8);if(_0x3b3f4d<0x0){sc=0x0,id='';return;}_0x532d3d[_0xd01f93(0x16c)](_0xd01f93(_0x2b2b50._0x1debfa)+String(_0x3b3f4d)+'秒可画');}else _0x532d3d[_0xd01f93(_0x2b2b50._0x1d7607)]('正在生草中，我知道你很急，先别急');}}}}async[_0x581fbc(0x1c9)](_0x304172){const _0x54caf6={_0x16a404:0x120,_0x49246a:0x16c,_0x323b30:0x16f,_0x25379a:0x153,_0x2bc9f4:0x15c,_0x3b1b5e:0x1cd,_0x510f3c:0x12e,_0x540e3a:0x19e,_0x2ba83c:0x1a7,_0x5b4f60:0x120,_0x1ae627:0x199,_0xf6fc1d:0x15c,_0x2c3227:0x1cd,_0x576a73:0x15c,_0x43235c:0x1cd,_0x2ac3a1:0x13d,_0x576cce:0x120,_0x50cf32:0x1cd,_0x316837:0x115,_0x4ac6df:0x16c,_0x1f48d5:0x13f,_0x43d7a5:0x1c1,_0x28d234:0x120,_0x5014f1:0x111,_0x2bae5a:0x141,_0x211bae:0x141,_0x1d2ac9:0x148,_0x2f007d:0x141,_0xf1de86:0x1b3,_0x20889f:0x1a2,_0x5440b6:0x148,_0x4c1708:0x1db,_0x11d604:0x189,_0x14142b:0x1d1,_0x3908b7:0x1c5,_0x204409:0x125,_0x2fad8f:0x1b4,_0x59dae0:0x156,_0x48fa76:0x1ca,_0x38175e:0x192,_0x4b22dd:0x180,_0x1b5e8f:0x13d,_0x3e340f:0x151,_0x563656:0x159,_0x1191d8:0x195},_0x5c49a4={_0x40ebcf:0x1d8},_0x131cd1={_0x428303:0x128},_0x32305f={_0x1d8c5d:0x163,_0x161464:0x1d3},_0x16ee2c=_0x581fbc;dqpz();if(_0x304172[_0x16ee2c(_0x54caf6._0x16a404)]['includes'](_0x16ee2c(0x173))&!_0x304172['isMaster']){_0x304172[_0x16ee2c(_0x54caf6._0x49246a)](_0x16ee2c(_0x54caf6._0x323b30));return;}let _0x42fa0c,_0xbc10df,_0x3f2518;_0x304172[_0x16ee2c(0x120)][_0x16ee2c(_0x54caf6._0x25379a)](_0x16ee2c(0x173))==![]&&(_0x3f2518=_0x304172['msg'][_0x16ee2c(_0x54caf6._0x2bc9f4)](/#绘个图/g,'')[_0x16ee2c(_0x54caf6._0x3b1b5e)]());if(kg2==0x0&_0x304172[_0x16ee2c(_0x54caf6._0x510f3c)]|_0x304172[_0x16ee2c(_0x54caf6._0x540e3a)]){kg2==0x1&&_0x304172['reply'](_0x16ee2c(_0x54caf6._0x2ba83c));if(zr==0x1&!_0x304172[_0x16ee2c(0x19e)]){_0x304172[_0x16ee2c(0x16c)](_0x16ee2c(0x1cc));return;}kg2=0x1;let _0x198a2c=_0x3f2518;var _0x42aa11=new RegExp(_0x16ee2c(0x17c),'g');if(_0x42aa11[_0x16ee2c(0x1d3)](_0x198a2c)&_0x304172[_0x16ee2c(_0x54caf6._0x5b4f60)][_0x16ee2c(_0x54caf6._0x25379a)]('序号')==![]){console['log'](_0x16ee2c(0x1b2));let _0x53f49e='https://api.sdgou.cc/api/fanyi/?msg='+_0x198a2c,_0x34d3ad=await _0x1fd86d(_0x53f49e),_0x234d0b=await _0x34d3ad[_0x16ee2c(_0x54caf6._0x1ae627)]();_0x234d0b=_0x234d0b[_0x16ee2c(_0x54caf6._0xf6fc1d)](/有道翻译查询结果/g,'')[_0x16ee2c(0x1cd)](),_0x234d0b=_0x234d0b[_0x16ee2c(0x15c)](/翻译后/g,'')[_0x16ee2c(_0x54caf6._0x2c3227)](),_0x234d0b=_0x234d0b[_0x16ee2c(0x15c)](/翻译前/g,'')['trim'](),_0x234d0b=_0x234d0b[_0x16ee2c(_0x54caf6._0x576a73)](/：/g,'')[_0x16ee2c(_0x54caf6._0x43235c)](),_0x234d0b=_0x234d0b['replace'](new RegExp(_0x198a2c,'g'),''),res4=_0x234d0b,console[_0x16ee2c(_0x54caf6._0x2ac3a1)](res4);}else console[_0x16ee2c(0x13d)]('是英文'),res4=_0x198a2c;let _0xba273c,_0x5e4944;if(_0x304172[_0x16ee2c(0x120)]['includes'](_0x16ee2c(0x173))&_0x304172[_0x16ee2c(_0x54caf6._0x540e3a)]){_0xbc10df=_0x304172[_0x16ee2c(_0x54caf6._0x576cce)][_0x16ee2c(_0x54caf6._0x576a73)](/#土块画图预设/g,'')[_0x16ee2c(_0x54caf6._0x50cf32)]();let _0x1b0f32=ml+'/plugins/earth-k-plugin/resources/htys/ys.json';await _0x57c79a[_0x16ee2c(0x18f)](_0x1b0f32,(_0x44c671,_0xebfe64)=>{const _0x4f426d=_0x16ee2c;_0x42fa0c=JSON[_0x4f426d(_0x32305f._0x1d8c5d)](_0xebfe64['toString']()),_0x5e4944=_0x42fa0c[_0x4f426d(0x172)];var _0x278cf9=new RegExp('[\x5cu4E00-\x5cu9FFF]+','g');if(_0x278cf9[_0x4f426d(_0x32305f._0x161464)](_0xbc10df))console['log'](_0x4f426d(0x169)),_0xba273c=_0x5e4944[_0x4f426d(0x149)](_0x25fd57=>_0x25fd57[_0x4f426d(0x1c1)]==_0xbc10df);else{_0xba273c=Number(_0xbc10df)-0x1;if(_0xba273c>_0x5e4944['length']){_0xba273c=-0x1;return;}}}),await sleep(0x1f4),console['log'](_0xba273c);if(_0xba273c!=-0x1)res4=_0x5e4944[_0xba273c][_0x16ee2c(_0x54caf6._0x316837)];else{_0x304172[_0x16ee2c(_0x54caf6._0x4ac6df)](_0x16ee2c(_0x54caf6._0x1f48d5));return;}}if(_0x304172[_0x16ee2c(0x120)]['includes']('序号')){res4=res4[_0x16ee2c(0x15c)](/序号/g,'')['trim']();let _0x5bfde8=_0x16ee2c(0x17b),_0x3b0364=await _0x1fd86d(_0x5bfde8),_0x2ae717=await _0x3b0364['json'](),_0x37eb9b=_0x2ae717[_0x16ee2c(_0x54caf6._0x43d7a5)],_0x5269a1=_0x304172[_0x16ee2c(_0x54caf6._0x28d234)]['substring'](0x6,0x9);const _0x44b366=/\d+/;let _0x294bc3=_0x5269a1[_0x16ee2c(0x14d)](_0x44b366),_0xa6d6d=_0x294bc3[0x0];res4=res4[_0x16ee2c(0x15c)](new RegExp(_0xa6d6d,'g'),''),_0x294bc3=Number(_0x294bc3[0x0]);try{res4=_0x37eb9b[_0x294bc3+0x1]['pt']+res4,console['log'](res4);}catch{_0x304172[_0x16ee2c(0x16c)](_0x16ee2c(0x1da));return;w;}}await sleep(0x1f4),_0x304172[_0x16ee2c(_0x54caf6._0x4ac6df)](_0x16ee2c(_0x54caf6._0x5014f1));let _0x28acb9=Math[_0x16ee2c(0x1b9)](Math[_0x16ee2c(0x1b0)]()*0x2);_0x28acb9==0x0&&(changdu=0x200,kuandu=0x300);_0x28acb9==0x1&&(changdu=0x300,kuandu=0x200);console[_0x16ee2c(0x13d)](_0x28acb9);var _0x35e397=_0x16ee2c(0x1ac),_0x48cc85=[res4,pc,_0x16ee2c(_0x54caf6._0x2bae5a),_0x16ee2c(_0x54caf6._0x2bae5a),0x14,_0x16ee2c(0x1b3),![],![],0x1,0x1,0x7,-0x1,-0x1,0x0,0x0,0x0,![],changdu,kuandu,![],![],0.7,_0x16ee2c(_0x54caf6._0x211bae),![],![],null,'','Seed','',_0x16ee2c(_0x54caf6._0x1d2ac9),'',!![],![],null,'',''],_0x4c9fac=[res4,pc,_0x16ee2c(_0x54caf6._0x2f007d),'None',0x1c,_0x16ee2c(_0x54caf6._0xf1de86),![],![],0x1,0x1,0xb,-0x1,-0x1,0x0,0x0,0x0,![],0x200,0x200,![],![],0.7,_0x16ee2c(0x141),![],![],null,'',_0x16ee2c(_0x54caf6._0x20889f),'',_0x16ee2c(_0x54caf6._0x5440b6),'',!![],![],null,'',''];let _0xabb43='https://api.novelai.net/ai/generate-image\x20',_0x27f8ed=Math[_0x16ee2c(0x1b9)](Math['random']()*0xb6cff090),_0x32df90=_0x16ee2c(0x1a6)+moxing+_0x16ee2c(0x1ab)+guimo[_0x16ee2c(0x191)]()+'\x20\x0a步数:'+bushu[_0x16ee2c(0x191)]()+_0x16ee2c(_0x54caf6._0x4c1708)+_0x27f8ed[_0x16ee2c(0x191)](),_0x49466d='';try{_0x49466d=_0x57c79a[_0x16ee2c(0x114)](_0x16ee2c(_0x54caf6._0x11d604));}catch{_0x304172[_0x16ee2c(_0x54caf6._0x4ac6df)]('你还没有填写密钥哦。');return;}_0x49466d=_0x49466d[_0x16ee2c(0x191)]();let _0x1146f7=_0x4e20b6['parse'](_0x57c79a['readFileSync'](_0x16ee2c(_0x54caf6._0x14142b),'utf8'));_0x1146f7=_0x1146f7['masterQQ'][0x0];try{let _0x4a5ac6='https://www.tukuai.one//qx.php?tk='+_0x49466d+_0x16ee2c(0x194)+String(_0x1146f7);res=await _0x1fd86d(_0x4a5ac6),console[_0x16ee2c(0x13d)]('访问成功了');}catch(_0x4994d1){console[_0x16ee2c(_0x54caf6._0x2ac3a1)](_0x4994d1),console['log'](_0x16ee2c(_0x54caf6._0x3908b7));}res=await res['text']();if(res['includes'](_0x16ee2c(_0x54caf6._0x204409))==![]){_0x304172[_0x16ee2c(0x16c)]('很抱歉，你的密钥错误，不能生草'),console['log'](res);return;}let _0x317b51=await _0x1fd86d('https://www.tukuai.one//ht.php',{'method':_0x16ee2c(_0x54caf6._0x2fad8f),'headers':{'Content-Type':'application/json','authorization':_0x16ee2c(_0x54caf6._0x59dae0)},'body':JSON[_0x16ee2c(_0x54caf6._0x48fa76)]({'prompt':_0x16ee2c(0x130)+res4,'width':kuandu,'height':changdu,'cfg_scale':guimo+0x2,'sampler':_0x16ee2c(_0x54caf6._0xf1de86),'steps':0x17,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0x317b51['json'](),_0x304172['reply']('成功了！'),res=res4['images'][0x0],await _0x57c79a[_0x16ee2c(0x18a)](_0x16ee2c(0x180),res[_0x16ee2c(0x191)](),_0x16ee2c(_0x54caf6._0x38175e),_0x2cc6a1=>{const _0x49f6ad=_0x16ee2c;if(_0x2cc6a1)console[_0x49f6ad(0x13d)](_0x49f6ad(_0x131cd1._0x428303));else{}});iscanshu==0x0&&(_0x32df90='');await sleep(0x1f4),msg2=[segment[_0x16ee2c(0x138)](_0x16ee2c(_0x54caf6._0x4b22dd)),_0x32df90];let _0x5ab6fd=await _0x304172['reply'](msg2,ishuifu);iscd=0x1,console[_0x16ee2c(_0x54caf6._0x1b5e8f)](_0x5ab6fd[_0x16ee2c(_0x54caf6._0x3e340f)],isch);if(_0x5ab6fd&&_0x5ab6fd[_0x16ee2c(_0x54caf6._0x3e340f)]&&isch==0x1&&_0x304172[_0x16ee2c(0x12e)]){let _0x4e2ead=_0x304172[_0x16ee2c(_0x54caf6._0x563656)];setTimeout(()=>{const _0x1d601f=_0x16ee2c;_0x4e2ead[_0x1d601f(_0x5c49a4._0x40ebcf)](_0x5ab6fd['message_id']);},timeout);}startTimeMS=new Date()[_0x16ee2c(0x16b)](),t=setTimeout(()=>{kg2=0x0,iscd=0x0;},cd);}else{if(iscd==0x1){let _0x540b83=cd-(new Date()[_0x16ee2c(0x16b)]()-startTimeMS);_0x540b83=Math[_0x16ee2c(0x1b7)](_0x540b83/0x3e8);if(_0x540b83<0x0){kg2=0x0;return;}_0x304172['reply'](_0x16ee2c(_0x54caf6._0x1191d8)+String(_0x540b83)+_0x16ee2c(0x1c8));}else _0x304172[_0x16ee2c(0x16c)]('正在画图中，我知道你很急，但是你先别急。');}}}async function imgUrlToBase64(_0x492d7e){const _0x2fd220={_0x3ba71b:0x182},_0x204461={_0x5a4110:0x1ce};let _0x547a46;return new Promise(function(_0x387090,_0x4180dd){const _0x554692={_0x7d4f8b:0x145},_0x4c85a2=_0x2248;let _0x2e7505=http[_0x4c85a2(0x117)](_0x492d7e,function(_0x5453bc){const _0x5c4d2e={_0x4664f5:0x11c,_0x554dc2:0x191},_0x21ecc5=_0x4c85a2;var _0x222179=[],_0x1acf3b=0x0;_0x5453bc['on'](_0x21ecc5(_0x204461._0x5a4110),function(_0x383f72){const _0x5ce061=_0x21ecc5;_0x222179[_0x5ce061(0x175)](_0x383f72),_0x1acf3b+=_0x383f72[_0x5ce061(_0x554692._0x7d4f8b)];}),_0x5453bc['on'](_0x21ecc5(0x1c7),function(_0x1c5652){const _0x5ddbd2=_0x21ecc5;var _0x42610c=Buffer[_0x5ddbd2(_0x5c4d2e._0x4664f5)](_0x222179,_0x1acf3b);_0x547a46=_0x42610c[_0x5ddbd2(_0x5c4d2e._0x554dc2)]('base64'),_0x387090({'success':!![],'base64Img':_0x547a46});});});_0x2e7505['on'](_0x4c85a2(_0x2fd220._0x3ba71b),_0x35c1a1=>{const _0x1cc994=_0x4c85a2;_0x387090({'success':![],'errmsg':_0x35c1a1[_0x1cc994(0x11a)]});}),_0x2e7505['end']();});}function sleep(_0x59b175){return new Promise(_0x2dcf37=>setTimeout(_0x2dcf37,_0x59b175));}function _0x1c8b(){const _0x18ff3d=['ckmx','对不起，你不可画哦','trim','data','好的，已开启，请注意身体哦','模型已设置为plms','./config/config/other.yaml','k_euler_ancestral','test','#取消画图','kqdl','28xkvupK','密钥不存在！不能乱输入哦','recallMsg','Resize\x20and\x20fill','没有这个序号哦','\x20\x20\x20\x20\x20\x20\x20\x20|seed:','#以图生草','#土块画图撤回开启','15秒还未发图，查看魔法已取消','#开启词条回复','#所有人可画','请添加预设关键词','449841tAVzZi','json','当前相似度','base64Img','写入文件成功','新增屏蔽词成功','好的，我开始画图了，请稍等哦','https://www.tukuai.one//qx.php?tk=','你好号主','readFileSync','gjc','#查看屏蔽词','get','#关闭参数显示','tianxie','message','qvht','concat','images','code','好的，已关闭了','msg','https://xiaobapi.top/api/xb/api/upload_image_tags.php?url=','^#土块画图步数(.*)|^#查看画图设置','/plugins/earth-k-plugin/resources/pz/pz.txt','2523056sLxdph','可以访问','模型已设置为k_lms','plms','写入文件错误','url','步数不在合理范围内，28以下为合理范围','https-proxy-agent','已关闭代理','Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36','isGroup','已开启画图撤回，撤回时间为30秒','masterpiece,\x20best\x20quality,','\x0a降噪：','#关闭词条回复','这个密钥已经被激活了，你想干嘛！','cwd','好的，权限已经关闭，只有你能画了','#新增预设','lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','image','很抱歉，你的密钥错误，不能生草','已关闭画图撤回','167748JEfkym','^#土块画图规模(.*)','log','k_euler','没有这个预设哦','1：k_euler_ancestral,\x0a2：k_euler,\x0a3：k_lms,\x0a4：plms,\x0a5：ddim','None','已激活该密钥','新增预设成功','utf-8','length','#土块画图冷却','57910KpNjUD','Steps','findIndex','#新增屏蔽词','#土块画图撤回','./resources/3.jpg','match','142902oiSRZh','密钥不存在','https://www.tukuai.one//diqiu.php?tk=','message_id','21312731lAqcVe','includes','已关闭词条回复','已设置冷却时间为','Bearer','application/json','模型不在合理范围内，1-5为合理范围','group','模型已设置为k_euler','123','replace','^#查看模型','writeFileSync','huatu3','./plugins/earth-k-plugin/resources/aiht/ml.html','utf8','已开启参数显示','parse','ysgn','好吧，那就一起来吧！','以图生草','http','规模不在合理范围内，3-12为合理范围','预设包含中文','/plugins/earth-k-plugin/resources/htys/ys.json','getTime','reply','default','bot','你不是主人，不能用预设哦','szbs','https://api.sdgou.cc/api/fanyi/?msg=','shuju','#土块画图预设','#查看预设词条','push','pbc','3GDxhSX','szmx','szgm','k_lms','https://www.tukuai.one/wj.php','[\x5cu4E00-\x5cu9FFF]+','访问失败了,QAQ,TvT','正在查看魔法，请稍后啊，0v0','tags','./resources/ht.png','data:image/jpeg;base64,','error','已经取消','模型已设置为k_euler_ancestral','post','^#取消画图$|^#所有人可画$|^#仅我可画$|^#土块画图撤回(.*)$|^#土块画图冷却(.*)$|^#土块画图涩涩开启|^#土块画图涩涩关闭','是英文','#土块画图冷却关闭','./resources/th2.txt','writeFile','screenshot','\x0a规模：','#查看预设','user_id','readFile','以图生草暂不支持私聊','toString','base64','#仅我可画','&qq=','我在cd中，还有','#以图生草降噪','60gLKiss','#删除屏蔽词','text','30秒还未发图，以图生草已取消','土块AI画图','split','删除屏蔽词成功','isMaster','https://www.tukuai.one/ytsc.php','已开启画图冷却，冷却时间为30秒','以图生草宽图','Seed','masterQQ','proxyAddress','你还没有填写密钥哦。','模型:','你是主人，没有cd，欸嘿','\x0a步数：','步数已设置为','当前降噪','\x20\x20\x20|规模:','abc','请发送要查看魔法的图片,0.0','删除预设成功','/resources/3.jpg','random','当前预设有：\x0a','包含中文','Euler\x20a','POST','302684dLtckG','请发送图片','round','^#填写密钥(.*)','floor','#开启默认屏蔽词','魔法是：','img','./plugins/earth-k-plugin/resources/aiht/mx.html','^#新增屏蔽词(.*)$|#查看屏蔽词$|#删除屏蔽词$|#开启默认屏蔽词$','数字超过了预设个数','ddim','name','#土块画图涩涩开启','http://0.0.0.0:0','40UqInoZ','没有访问成功','我知道你要干嘛！注意身体！','end','秒可画','huatu2','stringify'];_0x1c8b=function(){return _0x18ff3d;};return _0x1c8b();}async function dqpz(){const _0x6658bf={_0x1c7fdb:0x18f},_0x158301={_0x19938c:0x191,_0x43bf5e:0x13d},_0x14cc04=_0x581fbc;Path=ml+_0x14cc04(0x123),await _0x57c79a[_0x14cc04(_0x6658bf._0x1c7fdb)](Path,(_0x27865a,_0x2d85c3)=>{const _0x5598aa=_0x14cc04;nr=_0x2d85c3[_0x5598aa(_0x158301._0x19938c)](),nr=nr[_0x5598aa(0x19c)](','),cd=nr[0x0],timeout=nr[0x1],isch=nr[0x2],iscd=nr[0x3],console[_0x5598aa(_0x158301._0x43bf5e)](cd,timeout,isch,iscd);}),await sleep(0x1f4);}async function getAgent(){const _0x2811da={_0x5684ac:0x1a4,_0x6f859f:0x1c3,_0xbd4eac:0x12b},_0xe84a3c={_0xae5389:0x182},_0x8d8c06=_0x581fbc;let _0x208628=_0x217078[_0x8d8c06(0x16e)][_0x8d8c06(_0x2811da._0x5684ac)];if(!_0x208628)return null;if(_0x208628===_0x8d8c06(_0x2811da._0x6f859f))return null;HttpsProxyAgent===''&&(HttpsProxyAgent=await import(_0x8d8c06(_0x2811da._0xbd4eac))['catch'](_0x3dd998=>{const _0x1c274b=_0x8d8c06;logger[_0x1c274b(_0xe84a3c._0xae5389)](_0x3dd998);}),HttpsProxyAgent=HttpsProxyAgent?HttpsProxyAgent[_0x8d8c06(0x16d)]:undefined);if(HttpsProxyAgent)return new HttpsProxyAgent(_0x208628);return null;}
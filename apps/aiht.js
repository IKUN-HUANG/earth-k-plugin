const _0x2c9d14=_0x1b5d;(function(_0x29d63c,_0x515e4e){const _0x151bea={_0x537f6a:0x20e,_0x153c14:0x289,_0x3fef42:0x267,_0x3d7487:0x23f,_0x3ca7d5:0x27a},_0xa92b4d=_0x1b5d,_0x146d49=_0x29d63c();while(!![]){try{const _0x200b8f=parseInt(_0xa92b4d(_0x151bea._0x537f6a))/0x1+parseInt(_0xa92b4d(0x28a))/0x2+parseInt(_0xa92b4d(0x203))/0x3*(parseInt(_0xa92b4d(0x208))/0x4)+parseInt(_0xa92b4d(_0x151bea._0x153c14))/0x5+-parseInt(_0xa92b4d(_0x151bea._0x3fef42))/0x6+parseInt(_0xa92b4d(_0x151bea._0x3d7487))/0x7*(-parseInt(_0xa92b4d(0x210))/0x8)+-parseInt(_0xa92b4d(_0x151bea._0x3ca7d5))/0x9;if(_0x200b8f===_0x515e4e)break;else _0x146d49['push'](_0x146d49['shift']());}catch(_0x225011){_0x146d49['push'](_0x146d49['shift']());}}}(_0x2930,0x1c48e));import{segment}from'oicq';import _0x459eca from'node-fetch';import _0x378cd5,{chownSync}from'fs';import _0x3c7ce7 from'../../../lib/config/config.js';import _0x5db1f9 from'../../../lib/puppeteer/puppeteer.js';let data1={};import{createRequire}from'module';import _0xb00d65 from'yaml';const require=createRequire(import.meta[_0x2c9d14(0x230)]);let ysct,mf,mfkg=0x0,ml=process['cwd']();function _0x2930(){const _0x526be8=['result','成功了！','已激活密钥，号主为','./config/config/other.yaml','已取消当前画图','#查看魔法','^#填写密钥(.*)','我知道你要干嘛！注意身体！','已开启画图冷却，冷却时间为30秒','已激活该密钥','\x0a降噪：','readFile','qvht','模型不在合理范围内，1-5为合理范围','已设置冷却时间为','&moxing=','json','314796xHTTps','&width=','请发送要查看魔法的图片,0.0','#土块画图冷却开启','#土块画图冷却','^#以图生草(.*)$|(.*)','#查看屏蔽词','includes','https-proxy-agent','./resources/th2.txt','#删除预设','k_euler_ancestral','^#绘个图(.*)$|#土块画图预设(.*)$','你是主人，没有cd，欸嘿','length','message_id','error','img','group','3228930SqYiGX','\x20\x0a步数:','已关闭参数显示','post','text','模型已设置为k_lms','split','当前相似度','screenshot','findIndex','image','data','你还没有填写密钥哦。','已关闭画图冷却','lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','329360UfiODC','429402PUgaHt','#查看画图设置','Resize\x20and\x20fill','当前降噪','stringify','http','123','utf8','isMaster','base64','&uc=','toString','szgm','test','#查看预设','包含中文','&tk=','images','#以图生草相似度','密钥不存在！不能乱输入哦','\x20\x20\x20|规模:','^#土块画图步数(.*)|^#查看画图设置','random','\x0a规模：','删除预设成功','预设包含中文','&steps=','get','tags','readFileSync','trans_result','#以图生草降噪','/resources/3.jpg','huatu2','replace','/plugins/earth-k-plugin/resources/pz/pz.txt','http://0.0.0.0:0','数字超过了预设个数','写入文件成功','开启代理成功','是英文','当前屏蔽词有：','writeFile','/plugins/earth-k-plugin/resources/htys/ys.json','reply','#土块画图冷却关闭','None','#开启参数显示','trim','tianxie','dst','请发送图片','好的，已关闭了','密钥错误，或者遇上问题了','getTime','&scale=','#土块画图涩涩开启','没有这个预设哦','xx1,xx2','访问失败了,QAQ,TvT','\x0a步数：','当前预设有：\x0a','https://api.sdgou.cc/api/fanyi/?msg=','以图生草暂不支持私聊','https://aip.baidubce.com/rpc/2.0/mt/texttrans/v1?access_token=','plms','已开启参数显示','请添加预设关键词','#土块画图撤回关闭','Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36','Euler\x20a','kqdl','已关闭代理','&qq=','#查看预设词条','code','30秒还未发图，以图生草已取消','已经取消','删除屏蔽词成功','24.bb43e6c404453da8265249acbc3f0570.2592000.1672395081.282335-28746916','https://api.novelai.net/ai/generate-image\x20','12JYcxgu','isGroup','catch','我在cd中，还有','szbs','165028hXRJBd','好的，我开始以图生草了','#土块画图撤回','规模不在合理范围内，3-12为合理范围','user_id','application/json','191659WZKKch','[\x5cu4E00-\x5cu9FFF]+','3832SEqogm','ysgn','message','k_euler','proxyAddress','end','utf-8','recallMsg','#开启代理','规模已设置为','{\x22error\x22:\x22unknown\x20error\x22}','该密钥已被激活','正在画图中，我知道你很急，但是你先别急。','#关闭代理','#土块画图预设','msg','&height=','文件写入成功！','已开启画图撤回，撤回时间为30秒','parse','没有访问成功','Bearer\x20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImlRWFFJd1N1TVhsNGp6ZHVQN0J4OCIsIm5jIjoiSm1Ba0wtcWFidkF0YzRpTXZRQUROIiwiaWF0IjoxNjY4MzkxODQ0LCJleHAiOjE2NzA5ODM4NDR9.hlnDHc0oN6kUXcPX37RSydvuduQME7rifex2nuzbqbM','round','^#查看所有预设$|#新增预设(.*)|(.*)','default','abc','https://www.tukuai.one//dq.php?gjc=','秒可画','name','./resources/ht.png','gjc','masterQQ','url','\x20\x20\x20\x20\x20\x20\x20\x20|seed:','很抱歉，你的密钥错误，不能生草','safe-diffusion','writeFileSync','Steps','shuju','push','nai-diffusion','#以图生草','k_lms','服务器压力大，等等吧','#关闭参数显示','huatu3','^#开启代理|^#关闭代理|^#开启参数显示|^#关闭参数显示|^#开启词条回复|^#关闭词条回复','1610dSCtUZ','#删除屏蔽词','floor','我没画成功，再来一次吧。','你好号主，成功再次激活','base64Img','以图生草','写入文件错误','#取消画图','土块AI画图','以图生草长图','#关闭词条回复','已关闭词条回复','密钥不存在','#新增预设','步数不在合理范围内，28以下为合理范围','已开启词条回复','新增预设成功','log','已经开启默认屏蔽词','^#取消画图$|^#所有人可画$|^#仅我可画$|^#土块画图撤回(.*)$|^#土块画图冷却(.*)$|^#土块画图涩涩开启|^#土块画图涩涩关闭','https://xiaobapi.top/api/xb/api/upload_image_tags.php?url=','好的，已开启，请注意身体哦'];_0x2930=function(){return _0x526be8;};return _0x2930();}var http=require(_0x2c9d14(0x28f));function _0x1b5d(_0x2ae379,_0x15bb2d){const _0x2930a1=_0x2930();return _0x1b5d=function(_0x1b5da4,_0x35a10d){_0x1b5da4=_0x1b5da4-0x1b8;let _0x11594c=_0x2930a1[_0x1b5da4];return _0x11594c;},_0x1b5d(_0x2ae379,_0x15bb2d);}import _0x33154e from'lodash';let yushekg=0x0,kg=0x0,guimo=5.5,kg2=0x0,mfid='',res4,htm='',htm2='',res5,res,zr=0x0,changdu=0x200,kuandu=0x200,msg2,timeout=0x7530,isch=0x1,cd=0x0,t,startTimeMS,iscd=0x0,my,dz,sj1,sj2,shuju,zt=0x0,gjc2,sc=0x0,bushu=0x1c,id='',xsd=0.5,nr,ycqx,jz=0.2,ss=_0x2c9d14(0x238),Path,ys=[],moxing=_0x2c9d14(0x213),isdl=0x0,iscanshu=0x1,ishuifu=!![],HttpsProxyAgent='',chang,kuan,pc=_0x2c9d14(0x288);export class aiht extends plugin{constructor(){const _0xa0a8f2={_0x239bdc:0x248,_0x344f8f:0x212,_0x3a9515:0x273,_0x3f8cc3:0x253,_0xb65916:0x262,_0x22056f:0x26c,_0x1db37b:0x227,_0xfd9df8:0x207,_0x42e738:0x23e,_0x40b857:0x25c,_0x10d34e:0x1e3},_0x56ca88=_0x2c9d14;super({'name':_0x56ca88(_0xa0a8f2._0x239bdc),'dsc':_0x56ca88(_0xa0a8f2._0x239bdc),'event':_0x56ca88(_0xa0a8f2._0x344f8f),'priority':0x221,'rule':[{'reg':_0x56ca88(_0xa0a8f2._0x3a9515),'fnc':'huatu2'},{'reg':_0x56ca88(_0xa0a8f2._0x3f8cc3),'fnc':_0x56ca88(_0xa0a8f2._0xb65916)},{'reg':'^#新增屏蔽词(.*)$|#查看屏蔽词$|#删除屏蔽词$|#开启默认屏蔽词$','fnc':'pbc'},{'reg':_0x56ca88(_0xa0a8f2._0x22056f),'fnc':_0x56ca88(0x23d),'log':![]},{'reg':_0x56ca88(_0xa0a8f2._0x1db37b),'fnc':'ysgn','log':![]},{'reg':'^#土块画图规模(.*)','fnc':_0x56ca88(0x1be)},{'reg':'^#土块画图模型(.*)|^#查看所有模型','fnc':'szmx'},{'reg':_0x56ca88(0x1c7),'fnc':_0x56ca88(_0xa0a8f2._0xfd9df8)},{'reg':_0x56ca88(_0xa0a8f2._0x42e738),'fnc':_0x56ca88(0x1f9)},{'reg':_0x56ca88(_0xa0a8f2._0x40b857),'fnc':_0x56ca88(_0xa0a8f2._0x10d34e)}]});}async['tianxie'](_0x111c3a){const _0x184bcc={_0x21ae25:0x1cf,_0x486eea:0x1d4,_0x22a8a3:0x1fb,_0x43eedc:0x26e,_0x577cef:0x24c,_0x26fa4e:0x1c5,_0x4ceb38:0x243,_0x6e08aa:0x1bd,_0x51da99:0x216,_0x5042a0:0x20c,_0x5c0e32:0x21b},_0x4efbc9={_0x162264:0x251,_0x5d4237:0x246},_0x147138={_0x360691:0x246},_0x1443b5=_0x2c9d14;if(_0x111c3a[_0x1443b5(0x1ba)]){let _0xd403ae=_0xb00d65['parse'](_0x378cd5[_0x1443b5(_0x184bcc._0x21ae25)]('./config/config/other.yaml','utf8'));_0xd403ae=_0xd403ae[_0x1443b5(0x22f)][0x0],console['log'](_0xd403ae);let _0x1ebd9d=_0x111c3a[_0x1443b5(0x21f)][_0x1443b5(_0x184bcc._0x486eea)](/#填写密钥/g,'')[_0x1443b5(0x1e2)](),_0x5db84d='https://www.tukuai.one//diqiu.php?tk='+_0x1ebd9d+_0x1443b5(_0x184bcc._0x22a8a3)+String(_0x111c3a['user_id']),_0x3db52e=await _0x459eca(_0x5db84d),_0x5d3134=await _0x3db52e['text']();if(_0x5d3134[_0x1443b5(_0x184bcc._0x43eedc)](_0x1443b5(_0x184bcc._0x577cef))){_0x111c3a[_0x1443b5(0x1de)](_0x1443b5(_0x184bcc._0x26fa4e));return;}if(_0x5d3134[_0x1443b5(_0x184bcc._0x43eedc)]('你好号主')){_0x111c3a['reply'](_0x1443b5(_0x184bcc._0x4ceb38)),await _0x378cd5['writeFile']('./resources/th2.txt',_0x1ebd9d[_0x1443b5(_0x184bcc._0x6e08aa)](),_0x1443b5(_0x184bcc._0x51da99),_0x53cbf0=>{const _0x20bdfe=_0x1443b5;if(_0x53cbf0)console[_0x20bdfe(0x251)](_0x20bdfe(_0x147138._0x360691));else{}});return;}_0x5d3134['includes'](_0x1443b5(0x25f))&&(_0x111c3a['reply'](_0x1443b5(0x258)+String(_0x111c3a[_0x1443b5(_0x184bcc._0x5042a0)])),await _0x378cd5['writeFile'](_0x1443b5(0x270),_0x1ebd9d[_0x1443b5(0x1bd)](),_0x1443b5(_0x184bcc._0x51da99),_0x57dead=>{const _0x23a46f=_0x1443b5;if(_0x57dead)console[_0x23a46f(_0x4efbc9._0x162264)](_0x23a46f(_0x4efbc9._0x5d4237));else{}})),_0x5d3134[_0x1443b5(0x26e)](_0x1443b5(_0x184bcc._0x5c0e32))&&_0x111c3a['reply']('这个密钥已经被激活了，你想干嘛！');}}async[_0x2c9d14(0x1f9)](_0xeec5d7){const _0x6e3632={_0x36dd32:0x218,_0x337c28:0x1ba,_0x40db19:0x1fa,_0x299f3a:0x21f,_0x8b10d1:0x23c,_0x102054:0x1ba,_0x1ba20e:0x1de,_0x1718f2:0x27c,_0x5a8183:0x21f,_0x12a8a2:0x1de,_0x5c367b:0x24a},_0xfb7a5f=_0x2c9d14;_0xeec5d7['msg']==_0xfb7a5f(_0x6e3632._0x36dd32)&_0xeec5d7[_0xfb7a5f(_0x6e3632._0x337c28)]&&(isdl=0x1,_0xeec5d7['reply'](_0xfb7a5f(0x1d9))),_0xeec5d7[_0xfb7a5f(0x21f)]==_0xfb7a5f(0x21d)&_0xeec5d7['isMaster']&&(isdl=0x0,_0xeec5d7['reply'](_0xfb7a5f(_0x6e3632._0x40db19))),_0xeec5d7['msg']==_0xfb7a5f(0x1e1)&_0xeec5d7[_0xfb7a5f(0x1ba)]&&(iscanshu=0x1,_0xeec5d7[_0xfb7a5f(0x1de)](_0xfb7a5f(0x1f4))),_0xeec5d7[_0xfb7a5f(_0x6e3632._0x299f3a)]==_0xfb7a5f(_0x6e3632._0x8b10d1)&_0xeec5d7[_0xfb7a5f(_0x6e3632._0x102054)]&&(iscanshu=0x0,_0xeec5d7[_0xfb7a5f(_0x6e3632._0x1ba20e)](_0xfb7a5f(_0x6e3632._0x1718f2))),_0xeec5d7[_0xfb7a5f(_0x6e3632._0x5a8183)]=='#开启词条回复'&_0xeec5d7[_0xfb7a5f(_0x6e3632._0x102054)]&&(ishuifu=!![],_0xeec5d7[_0xfb7a5f(_0x6e3632._0x12a8a2)](_0xfb7a5f(0x24f))),_0xeec5d7[_0xfb7a5f(0x21f)]==_0xfb7a5f(_0x6e3632._0x5c367b)&_0xeec5d7['isMaster']&&(ishuifu=![],_0xeec5d7[_0xfb7a5f(_0x6e3632._0x12a8a2)](_0xfb7a5f(0x24b)));}async[_0x2c9d14(0x207)](_0x5e188d){const _0x2b8549={_0x1961d2:0x28b,_0x1743b7:0x1c9,_0x579d5e:0x260,_0x385f3a:0x1bd,_0x57a8e5:0x21f,_0x55d4a0:0x1e2},_0x4be2a8=_0x2c9d14;if(_0x5e188d[_0x4be2a8(0x21f)]==_0x4be2a8(_0x2b8549._0x1961d2)){console['log'](guimo);let _0x6197d3=['模型：',moxing,_0x4be2a8(_0x2b8549._0x1743b7),guimo['toString'](),_0x4be2a8(0x1ee),bushu['toString'](),'\x0a相似度：',xsd['toString'](),_0x4be2a8(_0x2b8549._0x579d5e),jz[_0x4be2a8(_0x2b8549._0x385f3a)]()];_0x5e188d[_0x4be2a8(0x1de)](_0x6197d3);return;}bushu=_0x5e188d[_0x4be2a8(_0x2b8549._0x57a8e5)]['replace'](/#土块画图步数/g,'')[_0x4be2a8(_0x2b8549._0x55d4a0)](),bushu=Number(bushu);if(bushu<0x0|bushu>0x1c){bushu=0x1c,_0x5e188d[_0x4be2a8(0x1de)](_0x4be2a8(0x24e));return;}else _0x5e188d[_0x4be2a8(0x1de)]('步数已设置为'+String(bushu));}async['szmx'](_0x51741d){const _0x1239a0={_0x529f5c:0x1de,_0x26cbb1:0x263,_0x3cf884:0x23a},_0x47873a=_0x2c9d14;if(_0x51741d['msg']=='#查看所有模型'){let _0x173d35=['1：k_euler_ancestral,\x0a2：k_euler,\x0a3：k_lms,\x0a4：plms,\x0a5：ddim'];_0x51741d[_0x47873a(_0x1239a0._0x529f5c)](_0x173d35);return;}moxing=_0x51741d['msg']['replace'](/#土块画图模型/g,'')['trim'](),moxing=Number(moxing);if(moxing<0x0|moxing>0x5){_0x51741d[_0x47873a(0x1de)](_0x47873a(_0x1239a0._0x26cbb1)),moxing=0x2;return;}moxing==0x1&&(moxing=_0x47873a(0x272),_0x51741d['reply']('模型已设置为k_euler_ancestral')),moxing==0x2&&(moxing=_0x47873a(0x213),_0x51741d[_0x47873a(_0x1239a0._0x529f5c)]('模型已设置为k_euler')),moxing==0x3&&(moxing=_0x47873a(_0x1239a0._0x3cf884),_0x51741d[_0x47873a(_0x1239a0._0x529f5c)](_0x47873a(0x27f))),moxing==0x4&&(moxing=_0x47873a(0x1f3),_0x51741d['reply']('模型已设置为plms')),moxing==0x5&&(moxing='ddim',_0x51741d[_0x47873a(0x1de)]('模型已设置为ddim'));}async[_0x2c9d14(0x1be)](_0x14c24f){const _0x1b829a={_0x7b7020:0x1d4,_0x2d0a68:0x1e2,_0x53b289:0x219},_0x2b9f84=_0x2c9d14;guimo=_0x14c24f['msg'][_0x2b9f84(_0x1b829a._0x7b7020)](/#土块画图规模/g,'')[_0x2b9f84(_0x1b829a._0x2d0a68)](),guimo=Number(guimo);if(guimo<0x3|guimo>0xc){_0x14c24f['reply'](_0x2b9f84(0x20b)),guimo=5.5;return;}else _0x14c24f[_0x2b9f84(0x1de)](_0x2b9f84(_0x1b829a._0x53b289)+String(guimo));}async[_0x2c9d14(0x211)](_0x809ce8){const _0x558e21={_0x5ed3f3:0x26e,_0x325694:0x271,_0x3b06f8:0x1dd,_0x1f7e76:0x21f,_0x2f34bb:0x26e,_0x439c20:0x1fc,_0x15514c:0x1ba,_0x122952:0x280,_0x149bf0:0x1de,_0x3b5637:0x1d7,_0x434293:0x1c0,_0x47c329:0x1b8,_0x36db9f:0x236,_0xa110b7:0x1dc,_0x3630c0:0x24d,_0x14cc42:0x1d4,_0x1100e4:0x1e2},_0x5b4fcd={_0x4675be:0x250},_0x74911f={_0x3a9c78:0x223,_0x3290c0:0x236,_0x3a408f:0x236,_0x3081e4:0x22c},_0x38db7b=_0x2c9d14;if(_0x809ce8['img']!=undefined)return![];if(yushekg==0x0&_0x809ce8['msg']['includes']('#查看预设')==![]&_0x809ce8[_0x38db7b(0x21f)][_0x38db7b(0x26e)]('#新增预设')==![]&_0x809ce8['msg'][_0x38db7b(_0x558e21._0x5ed3f3)](_0x38db7b(_0x558e21._0x325694))==![]&_0x809ce8[_0x38db7b(0x21f)][_0x38db7b(0x26e)](_0x38db7b(0x1fc))==![])return![];let _0x5eaf06=ml+_0x38db7b(_0x558e21._0x3b06f8),_0x491137='';await _0x378cd5[_0x38db7b(0x261)](_0x5eaf06,(_0x49385e,_0xa6682e)=>{const _0x46f50a=_0x38db7b;if(_0x49385e)throw _0x49385e;var _0x41e8d7=_0xa6682e[_0x46f50a(0x1bd)]()!=''?JSON[_0x46f50a(_0x74911f._0x3a9c78)](_0xa6682e['toString']()):[];ysct='',_0x491137='',shuju=_0x41e8d7;for(let _0x1d86da=0x0;_0x1d86da<shuju[_0x46f50a(_0x74911f._0x3290c0)][_0x46f50a(0x275)];_0x1d86da++){_0x491137=_0x491137+shuju[_0x46f50a(_0x74911f._0x3a408f)][_0x1d86da][_0x46f50a(_0x74911f._0x3081e4)]+',',ysct=ysct+shuju[_0x46f50a(0x236)][_0x1d86da]['gjc']+'++';}}),await sleep(0x1f4);if(_0x809ce8[_0x38db7b(_0x558e21._0x1f7e76)][_0x38db7b(_0x558e21._0x2f34bb)](_0x38db7b(_0x558e21._0x439c20))&_0x809ce8[_0x38db7b(_0x558e21._0x15514c)]){let _0x42f8f7=_0x809ce8[_0x38db7b(0x21f)][_0x38db7b(0x1d4)](/#查看预设词条/g,'')['trim']();_0x42f8f7=Number(_0x42f8f7),ysct=ysct[_0x38db7b(_0x558e21._0x122952)]('++'),_0x491137=_0x491137[_0x38db7b(_0x558e21._0x122952)](',');if(_0x42f8f7>ysct[_0x38db7b(0x275)]|_0x42f8f7<0x0){_0x809ce8[_0x38db7b(_0x558e21._0x149bf0)](_0x38db7b(_0x558e21._0x3b5637));return;}_0x809ce8['reply']([_0x491137[_0x42f8f7-0x1],':',ysct[_0x42f8f7-0x1]]),ysct='',_0x491137='';}if(_0x809ce8[_0x38db7b(0x21f)]==_0x38db7b(_0x558e21._0x434293)&_0x809ce8[_0x38db7b(0x1ba)]){_0x491137=_0x491137[_0x38db7b(0x280)](','),data1={'tplFile':'./plugins/earth-k-plugin/resources/aiht/ml.html','dz':ml,'lb':_0x491137,'qsid':0x0};let _0x3fddde=await _0x5db1f9[_0x38db7b(0x282)](_0x38db7b(_0x558e21._0x47c329),{...data1});_0x809ce8[_0x38db7b(0x1de)](_0x3fddde);return;_0x809ce8[_0x38db7b(0x1de)](_0x38db7b(0x1ef)+_0x491137);}if(_0x809ce8['msg'][_0x38db7b(0x26e)]('#删除预设')&_0x809ce8['isMaster']){let _0x5bcbbf=_0x809ce8['msg'][_0x38db7b(0x1d4)](/#删除预设/g,'')[_0x38db7b(0x1e2)]();_0x5bcbbf=Number(_0x5bcbbf);if(_0x5bcbbf<shuju[_0x38db7b(_0x558e21._0x36db9f)]['length']+0x1){shuju[_0x38db7b(0x236)]['splice'](_0x5bcbbf-0x1,0x1);var _0x58d59d=JSON[_0x38db7b(0x28e)](shuju);}_0x378cd5[_0x38db7b(_0x558e21._0xa110b7)](_0x5eaf06,_0x58d59d,function(_0x12db2c){const _0x11019e=_0x38db7b;_0x12db2c&&console[_0x11019e(0x277)](_0x12db2c),_0x809ce8['reply'](_0x11019e(0x1ca));});}if(_0x809ce8['msg']['includes'](_0x38db7b(_0x558e21._0x3630c0))&_0x809ce8[_0x38db7b(_0x558e21._0x15514c)]&yushekg==0x0){yushekg=0x1,ys[0x0]=_0x809ce8[_0x38db7b(0x21f)][_0x38db7b(_0x558e21._0x14cc42)](/#新增预设/g,'')[_0x38db7b(_0x558e21._0x1100e4)](),_0x809ce8[_0x38db7b(0x1de)](_0x38db7b(0x1f5));return;}if(yushekg==0x1&_0x809ce8[_0x38db7b(_0x558e21._0x15514c)]){yushekg=0x0,ys[0x1]=_0x809ce8[_0x38db7b(_0x558e21._0x1f7e76)];let _0x3c19cd={'name':ys[0x0],'gjc':ys[0x1]};shuju[_0x38db7b(0x236)][_0x38db7b(0x237)](_0x3c19cd),console['log'](shuju);var _0x58d59d=JSON['stringify'](shuju);_0x378cd5[_0x38db7b(0x1dc)](_0x5eaf06,_0x58d59d,_0x5d6276=>{const _0xa89bcd=_0x38db7b;if(_0x5d6276)throw _0x5d6276;console[_0xa89bcd(0x251)](_0xa89bcd(0x221)),_0x809ce8[_0xa89bcd(0x1de)](_0xa89bcd(_0x5b4fcd._0x4675be));});return;}}async['pbc'](_0x1e19af){const _0x37cea7={_0x3176a8:0x26e,_0x168e5b:0x1d4,_0x26f5f1:0x26d,_0x446013:0x26e,_0xcd61ee:0x240,_0x150f37:0x1ba,_0x1b6082:0x21f,_0x518ad4:0x1ba,_0xee490c:0x252},_0x5a58f0=_0x2c9d14;_0x1e19af['msg'][_0x5a58f0(_0x37cea7._0x3176a8)]('#新增屏蔽词')&_0x1e19af[_0x5a58f0(0x1ba)]&&(_0x1e19af[_0x5a58f0(0x1de)]('新增屏蔽词成功'),pc=_0x1e19af[_0x5a58f0(0x21f)][_0x5a58f0(_0x37cea7._0x168e5b)](/#新增屏蔽词/g,'')['trim']()),_0x1e19af[_0x5a58f0(0x21f)]==_0x5a58f0(_0x37cea7._0x26f5f1)&_0x1e19af[_0x5a58f0(0x1ba)]&&_0x1e19af['reply']([_0x5a58f0(0x1db),pc]),_0x1e19af[_0x5a58f0(0x21f)][_0x5a58f0(_0x37cea7._0x446013)](_0x5a58f0(_0x37cea7._0xcd61ee))&_0x1e19af[_0x5a58f0(_0x37cea7._0x150f37)]&&(_0x1e19af[_0x5a58f0(0x1de)](_0x5a58f0(0x200)+_0x5a58f0(0x25d)),pc=''),_0x1e19af[_0x5a58f0(_0x37cea7._0x1b6082)][_0x5a58f0(_0x37cea7._0x446013)]('#开启默认屏蔽词')&_0x1e19af[_0x5a58f0(_0x37cea7._0x518ad4)]&&(_0x1e19af[_0x5a58f0(0x1de)](_0x5a58f0(_0x37cea7._0xee490c)),pc='lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry');}async[_0x2c9d14(0x262)](_0x2fed48){const _0x7a2544={_0x3438b0:0x255,_0xa4684a:0x1e6,_0x75409c:0x21f,_0x28232b:0x26e,_0x59d3ff:0x1df,_0x2c134e:0x1ba,_0x51fe82:0x234,_0x30b998:0x1de,_0x24ab26:0x287,_0x279795:0x21f,_0x723277:0x26a,_0x3a79b0:0x216,_0x5a6b89:0x26b,_0x297708:0x1e2,_0x5db9a9:0x264,_0x3084a2:0x234,_0x5effca:0x1bd,_0x486fc6:0x21f,_0x379895:0x222,_0xef4dae:0x21f,_0x22b7d8:0x1ff,_0x49f133:0x1de},_0x3049ac=_0x2c9d14;_0x2fed48[_0x3049ac(0x21f)]==_0x3049ac(0x1ea)&_0x2fed48[_0x3049ac(0x1ba)]&&(_0x2fed48['reply'](_0x3049ac(_0x7a2544._0x3438b0)),ss=_0x3049ac(0x238));_0x2fed48['msg']=='#土块画图涩涩关闭'&_0x2fed48[_0x3049ac(0x1ba)]&&(_0x2fed48[_0x3049ac(0x1de)](_0x3049ac(_0x7a2544._0xa4684a)),ss=_0x3049ac(0x233));await dqpz();if(_0x2fed48[_0x3049ac(_0x7a2544._0x75409c)][_0x3049ac(_0x7a2544._0x28232b)](_0x3049ac(_0x7a2544._0x59d3ff))&_0x2fed48[_0x3049ac(_0x7a2544._0x2c134e)]){nr[0x3]=0x0,nr[0x0]=0x0,_0x378cd5[_0x3049ac(_0x7a2544._0x51fe82)](Path,nr['toString'](),'utf-8'),cd=0x0,kg2=0x0,kg=0x0,sc=0x0,iscd=0x0,_0x2fed48[_0x3049ac(_0x7a2544._0x30b998)](_0x3049ac(_0x7a2544._0x24ab26));return;}if(_0x2fed48[_0x3049ac(_0x7a2544._0x279795)]['includes'](_0x3049ac(_0x7a2544._0x723277))&_0x2fed48[_0x3049ac(0x1ba)]){nr[0x0]=0x7530,nr[0x3]=0x1,_0x378cd5[_0x3049ac(0x234)](Path,nr['toString'](),_0x3049ac(_0x7a2544._0x3a79b0)),cd=0x7530,_0x2fed48[_0x3049ac(0x1de)](_0x3049ac(0x25e));return;}if(_0x2fed48[_0x3049ac(0x21f)]['includes'](_0x3049ac(_0x7a2544._0x5a6b89))&_0x2fed48['isMaster']){let _0xb31faf=_0x2fed48[_0x3049ac(_0x7a2544._0x279795)]['replace'](/#土块画图冷却/g,'')[_0x3049ac(_0x7a2544._0x297708)]();cd=Number(_0xb31faf)*0x3e8,nr[0x0]=cd,nr[0x3]=0x1,_0x378cd5[_0x3049ac(_0x7a2544._0x51fe82)](Path,nr['toString'](),_0x3049ac(_0x7a2544._0x3a79b0)),_0x2fed48['reply'](_0x3049ac(_0x7a2544._0x5db9a9)+_0xb31faf+'秒');}if(_0x2fed48[_0x3049ac(_0x7a2544._0x75409c)][_0x3049ac(0x26e)](_0x3049ac(0x1f6))&_0x2fed48['isMaster']){nr[0x2]=0x0,_0x378cd5[_0x3049ac(_0x7a2544._0x3084a2)](Path,nr[_0x3049ac(_0x7a2544._0x5effca)](),_0x3049ac(0x216)),isch=0x0,_0x2fed48['reply']('已关闭画图撤回');return;}if(_0x2fed48[_0x3049ac(_0x7a2544._0x486fc6)][_0x3049ac(0x26e)]('#土块画图撤回开启')&_0x2fed48[_0x3049ac(0x1ba)]){isch=0x1,nr[0x1]=0x7530,nr[0x2]=0x1,_0x378cd5['writeFileSync'](Path,nr[_0x3049ac(0x1bd)](),_0x3049ac(_0x7a2544._0x3a79b0)),timeout=0x7530,_0x2fed48[_0x3049ac(0x1de)](_0x3049ac(_0x7a2544._0x379895));return;}if(_0x2fed48[_0x3049ac(_0x7a2544._0x75409c)][_0x3049ac(_0x7a2544._0x28232b)](_0x3049ac(0x20a))&_0x2fed48[_0x3049ac(_0x7a2544._0x2c134e)]){isch=0x1;let _0x2c0bd7=_0x2fed48[_0x3049ac(_0x7a2544._0xef4dae)][_0x3049ac(0x1d4)](/#土块画图撤回/g,'')[_0x3049ac(0x1e2)]();timeout=Number(_0x2c0bd7)*0x3e8,nr[0x1]=timeout,nr[0x2]=0x1,_0x378cd5[_0x3049ac(_0x7a2544._0x51fe82)](Path,nr[_0x3049ac(0x1bd)](),_0x3049ac(0x216)),_0x2fed48[_0x3049ac(0x1de)]('已设置撤回时间为'+_0x2c0bd7+'秒');}_0x2fed48[_0x3049ac(0x21f)]==_0x3049ac(0x247)&&(kg=0x0,sc=0x0,zt=0x0,id='',console['log'](_0x3049ac(_0x7a2544._0x22b7d8)),kg2=0x0,_0x2fed48[_0x3049ac(_0x7a2544._0x49f133)](_0x3049ac(0x25a))),_0x2fed48['msg']=='#所有人可画'&_0x2fed48[_0x3049ac(0x1ba)]&&(_0x2fed48['reply']('好吧，那就一起来吧！'),zr=0x0),_0x2fed48[_0x3049ac(_0x7a2544._0x279795)]=='#仅我可画'&_0x2fed48['isMaster']&&(_0x2fed48[_0x3049ac(0x1de)]('好的，权限已经关闭，只有你能画了'),zr=0x1);}async['huatu3'](_0x153f4e){const _0x2c72f1={_0x2206ae:0x278,_0x140039:0x21f,_0x15c57b:0x26e,_0x122b3b:0x26e,_0x5eb79f:0x1de,_0x10bf83:0x254,_0x372dd5:0x251,_0x37b51:0x1fd,_0x14aab0:0x1de,_0xd5194c:0x278,_0x3df619:0x26e,_0x3779bf:0x1c4,_0x51881f:0x21f,_0x136131:0x26e,_0x47b833:0x1d1,_0x2f5a12:0x1ba,_0x27108c:0x21f,_0x484867:0x1e2,_0x315004:0x1cf,_0x51a782:0x1bd,_0x37c90a:0x245,_0x29f275:0x20c,_0x4c0346:0x1d4,_0x91fdb6:0x1e2,_0x5182bf:0x21f,_0x54b66f:0x1e2,_0x192c4b:0x1d4,_0x4e99ec:0x1e2,_0x16bf4c:0x1d4,_0x4a3016:0x1c1,_0xfaf149:0x1d4,_0x29b260:0x1d4,_0x1ca45f:0x1d4,_0x39edca:0x1e2,_0x11db8a:0x27d,_0x28fda0:0x1ec,_0x1f8564:0x1e4,_0x1c437b:0x1de,_0x475237:0x1e5,_0x542c52:0x204,_0xda6781:0x28f,_0x55f353:0x1c8,_0x5d14d0:0x28c,_0x50cfdd:0x20d,_0x4e804d:0x1c3,_0xbdbd32:0x1dc,_0x29bfd0:0x1bb,_0x22cc10:0x1d2,_0x1066d2:0x251,_0x2fdffb:0x276,_0x2c7796:0x21f,_0x6bbe1f:0x251,_0x1b2710:0x226,_0x487a16:0x206,_0x2452e5:0x22b},_0x25c818={_0xbae09e:0x276},_0x4e27ff={_0x49f1ed:0x246,_0x24276f:0x251},_0x7ecba6={_0x2fab4b:0x1fe},_0x5e59a1=_0x2c9d14;if(_0x153f4e[_0x5e59a1(_0x2c72f1._0x2206ae)]!=undefined&zt==0x0&mfkg==0x0)return![];if(_0x153f4e[_0x5e59a1(_0x2c72f1._0x2206ae)]==undefined&_0x153f4e[_0x5e59a1(_0x2c72f1._0x140039)]!=undefined){if(_0x153f4e[_0x5e59a1(0x21f)][_0x5e59a1(_0x2c72f1._0x15c57b)](_0x5e59a1(0x239))==![]&_0x153f4e['img']==undefined&zt==0x0&_0x153f4e['msg'][_0x5e59a1(_0x2c72f1._0x122b3b)](_0x5e59a1(0x25b))==![]&mfkg==0x0)return![];}mfkg==0x0&_0x153f4e['msg']==_0x5e59a1(0x25b)&&(mfkg=0x1,mfid=_0x153f4e[_0x5e59a1(0x20c)],_0x153f4e[_0x5e59a1(_0x2c72f1._0x5eb79f)](_0x5e59a1(0x269)),mf=setTimeout(()=>{if(mfkg==0x1){mfkg=0x0,_0x153f4e['reply']('15秒还未发图，查看魔法已取消');return;}},0x3a98));if(_0x153f4e[_0x5e59a1(0x278)]!=undefined&mfkg==0x1&mfid==_0x153f4e['user_id']){clearTimeout(mf),_0x153f4e['reply']('正在查看魔法，请稍后啊，0v0'),mfkg=0x0,mfid='';let _0x447beb=_0x5e59a1(_0x2c72f1._0x10bf83);console[_0x5e59a1(_0x2c72f1._0x372dd5)](_0x153f4e[_0x5e59a1(0x278)]),_0x447beb=_0x447beb+_0x153f4e[_0x5e59a1(_0x2c72f1._0x2206ae)][0x0],res=await _0x459eca(_0x447beb,{'method':_0x5e59a1(0x1cd),'headers':{'Content-Type':'application/json','User-Agent':_0x5e59a1(0x1f7)}});let _0x277a7c=await res[_0x5e59a1(0x266)]();console[_0x5e59a1(_0x2c72f1._0x372dd5)]('魔法是：'+_0x277a7c),console['log'](_0x277a7c);if(_0x277a7c!=undefined)_0x153f4e[_0x5e59a1(_0x2c72f1._0x5eb79f)](_0x277a7c[_0x5e59a1(0x1ce)],!![]),_0x277a7c[_0x5e59a1(_0x2c72f1._0x37b51)]==-0x1&&(_0x153f4e[_0x5e59a1(_0x2c72f1._0x14aab0)](_0x5e59a1(0x1ed)),mfkg=0x0,mfid='');else{}}if(_0x153f4e[_0x5e59a1(_0x2c72f1._0xd5194c)]==undefined&zt==0x1)return![];if(_0x153f4e[_0x5e59a1(0x278)]==undefined&_0x153f4e[_0x5e59a1(0x21f)]!=undefined){dqpz();if(_0x153f4e['msg'][_0x5e59a1(_0x2c72f1._0x3df619)](_0x5e59a1(_0x2c72f1._0x3779bf))&_0x153f4e[_0x5e59a1(0x1ba)]){xsd=Number(_0x153f4e[_0x5e59a1(0x21f)]['replace'](/#以图生草相似度/g,'')['trim']())/0x64,_0x153f4e[_0x5e59a1(_0x2c72f1._0x14aab0)](_0x5e59a1(0x281)+String(xsd)),console[_0x5e59a1(0x251)](xsd);return;}if(_0x153f4e[_0x5e59a1(_0x2c72f1._0x51881f)][_0x5e59a1(_0x2c72f1._0x136131)](_0x5e59a1(_0x2c72f1._0x47b833))&_0x153f4e[_0x5e59a1(_0x2c72f1._0x2f5a12)]){jz=Number(_0x153f4e[_0x5e59a1(_0x2c72f1._0x27108c)]['replace'](/#以图生草降噪/g,'')[_0x5e59a1(_0x2c72f1._0x484867)]())/0x64,_0x153f4e['reply'](_0x5e59a1(0x28d)+String(jz)),console['log'](jz);return;}if(zt==0x0&&sc==0x0&&_0x153f4e['msg']['includes']('#以图生草')){if(_0x153f4e['isPrivate']){_0x153f4e[_0x5e59a1(0x1de)](_0x5e59a1(0x1f1));return;}dqpz();let _0x2dd253='';try{_0x2dd253=_0x378cd5[_0x5e59a1(_0x2c72f1._0x315004)](_0x5e59a1(0x270));}catch{_0x153f4e[_0x5e59a1(0x1de)]('你还没有填写密钥哦。');return;}_0x2dd253=_0x2dd253[_0x5e59a1(_0x2c72f1._0x51a782)]();let _0x36fd7c=_0xb00d65['parse'](_0x378cd5['readFileSync'](_0x5e59a1(0x259),'utf8'));_0x36fd7c=_0x36fd7c[_0x5e59a1(0x22f)][0x0];try{let _0x1d931e='https://www.tukuai.one//qx.php?tk='+_0x2dd253+_0x5e59a1(0x1fb)+String(_0x36fd7c);res=await _0x459eca(_0x1d931e),console[_0x5e59a1(0x251)]('访问成功了');}catch(_0x1341f4){console[_0x5e59a1(0x251)](_0x1341f4),console[_0x5e59a1(0x251)](_0x5e59a1(0x224));}res=await res['text']();if(res[_0x5e59a1(_0x2c72f1._0x136131)]('可以访问')==![]){_0x153f4e[_0x5e59a1(0x1de)](_0x5e59a1(0x232)),console[_0x5e59a1(0x251)](res);return;}console[_0x5e59a1(0x251)](_0x5e59a1(_0x2c72f1._0x37c90a)),id=_0x153f4e[_0x5e59a1(_0x2c72f1._0x29f275)],chang=0x200,kuan=0x200,gjc2=_0x153f4e[_0x5e59a1(0x21f)][_0x5e59a1(_0x2c72f1._0x4c0346)](/#以图生草/g,'')[_0x5e59a1(_0x2c72f1._0x91fdb6)]();_0x153f4e[_0x5e59a1(_0x2c72f1._0x5182bf)][_0x5e59a1(_0x2c72f1._0x15c57b)](_0x5e59a1(0x249))&&(chang=0x300,kuan=0x200,gjc2=_0x153f4e[_0x5e59a1(_0x2c72f1._0x27108c)]['replace'](/#以图生草长图/g,'')[_0x5e59a1(0x1e2)]());_0x153f4e['msg'][_0x5e59a1(0x26e)]('以图生草宽图')&&(chang=0x200,kuan=0x300,gjc2=_0x153f4e['msg'][_0x5e59a1(_0x2c72f1._0x4c0346)](/#以图生草宽图/g,'')[_0x5e59a1(0x1e2)]());gjc2=_0x153f4e['msg'][_0x5e59a1(0x1d4)](/#以图生草/g,'')[_0x5e59a1(_0x2c72f1._0x54b66f)]();_0x153f4e[_0x5e59a1(0x21f)][_0x5e59a1(_0x2c72f1._0x3df619)](_0x5e59a1(0x249))&&(chang=0x300,kuan=0x200,gjc2=_0x153f4e[_0x5e59a1(0x21f)][_0x5e59a1(_0x2c72f1._0x192c4b)](/#以图生草长图/g,'')[_0x5e59a1(_0x2c72f1._0x4e99ec)]());_0x153f4e[_0x5e59a1(_0x2c72f1._0x5182bf)][_0x5e59a1(_0x2c72f1._0x15c57b)]('以图生草宽图')&&(chang=0x200,kuan=0x300,gjc2=_0x153f4e[_0x5e59a1(_0x2c72f1._0x140039)][_0x5e59a1(_0x2c72f1._0x16bf4c)](/#以图生草宽图/g,'')[_0x5e59a1(_0x2c72f1._0x484867)]());var _0x2cf96c=new RegExp(_0x5e59a1(0x20f),'g');if(_0x2cf96c['test'](gjc2)){console['log'](_0x5e59a1(_0x2c72f1._0x4a3016));let _0x1ba9b3=_0x5e59a1(0x1f0)+gjc2,_0x57acec=await _0x459eca(_0x1ba9b3),_0x352912=await _0x57acec[_0x5e59a1(0x27e)]();_0x352912=_0x352912[_0x5e59a1(_0x2c72f1._0xfaf149)](/有道翻译查询结果/g,'')['trim'](),_0x352912=_0x352912[_0x5e59a1(_0x2c72f1._0x29b260)](/翻译后/g,'')[_0x5e59a1(_0x2c72f1._0x91fdb6)](),_0x352912=_0x352912[_0x5e59a1(0x1d4)](/翻译前/g,'')['trim'](),_0x352912=_0x352912[_0x5e59a1(_0x2c72f1._0x1ca45f)](/：/g,'')[_0x5e59a1(_0x2c72f1._0x39edca)](),_0x352912=_0x352912['replace'](new RegExp(gjc2,'g'),''),gjc2=_0x352912,console[_0x5e59a1(0x251)](gjc2);if(gjc2==''){let _0x1bef0c='https://aip.baidubce.com/rpc/2.0/mt/texttrans/v1?access_token='+'24.bb43e6c404453da8265249acbc3f0570.2592000.1672395081.282335-28746916';res4=await _0x459eca(_0x1bef0c,{'method':_0x5e59a1(_0x2c72f1._0x11db8a),'headers':{'Content-Type':_0x5e59a1(0x20d)},'body':JSON[_0x5e59a1(0x28e)]({'q':data1,'from':'zh','to':'en','termIds':_0x5e59a1(_0x2c72f1._0x28fda0)})}),res4=await res4[_0x5e59a1(0x266)](),res4=res4[_0x5e59a1(0x256)][_0x5e59a1(0x1d0)][0x0][_0x5e59a1(_0x2c72f1._0x1f8564)];}}else console[_0x5e59a1(0x251)](_0x5e59a1(0x1da));zt=0x1,ycqx=setTimeout(()=>{const _0x26b000=_0x5e59a1;if(zt==0x1){zt=0x0,_0x153f4e['reply'](_0x26b000(_0x7ecba6._0x2fab4b));return;}},0x7530),_0x153f4e[_0x5e59a1(_0x2c72f1._0x1c437b)]([segment['at'](id),_0x5e59a1(_0x2c72f1._0x475237)]);return;}}if(sc==0x0&_0x153f4e[_0x5e59a1(_0x2c72f1._0x542c52)]&zt==0x1&_0x153f4e[_0x5e59a1(_0x2c72f1._0x2206ae)]!=undefined){clearTimeout(ycqx);if(_0x153f4e[_0x5e59a1(_0x2c72f1._0x29f275)]==id&zt==0x1){sc=0x1;let _0x4e4554=await imgUrlToBase64(_0x153f4e['img'][0x0]['replace'](/https/g,_0x5e59a1(_0x2c72f1._0xda6781))[_0x5e59a1(0x1e2)]()),_0x5306cf=_0x4e4554[_0x5e59a1(0x244)],_0x57f2bf=Math['floor'](Math[_0x5e59a1(_0x2c72f1._0x55f353)]()*0xb6cff090);var _0x5a47db={'init_images':['data:image/jpeg;base64,'+_0x5306cf],'resize_mode':0x0,'denoising_strength':0x1-xsd,'mask_blur':0x4,'inpainting_fill':0x0,'inpaint_full_res':!![],'inpaint_full_res_padding':0x0,'inpainting_mask_invert':0x0,'prompt':gjc2,'styles':['Resize\x20and\x20fill'],'seed':-0x1,'subseed':-0x1,'subseed_strength':0x0,'seed_resize_from_h':-0x1,'seed_resize_from_w':-0x1,'sampler_name':_0x5e59a1(_0x2c72f1._0x5d14d0),'batch_size':0x1,'n_iter':0x1,'steps':0x32,'cfg_scale':guimo+0x2,'width':kuan,'height':chang,'restore_faces':![],'tiling':![],'negative_prompt':pc,'eta':0x0,'s_churn':0x0,'s_tmax':0x0,'s_tmin':0x0,'s_noise':0x1,'override_settings':{},'sampler_index':_0x5e59a1(0x1f8),'include_init_images':![]};_0x153f4e['reply'](_0x5e59a1(0x209)),zt=0x0;try{res=await _0x459eca('https://www.tukuai.one/ytsc.php',{'method':_0x5e59a1(0x27d),'body':JSON[_0x5e59a1(0x28e)](_0x5a47db),'headers':{'Content-Type':_0x5e59a1(_0x2c72f1._0x50cfdd),'User-Agent':_0x5e59a1(0x1f7)}});}catch(_0x3c8a55){console[_0x5e59a1(0x251)](_0x3c8a55),console['log'](_0x5e59a1(0x224)),kg=0x0;return;}let _0x242c5b=await res['json']();_0x242c5b=_0x242c5b[_0x5e59a1(_0x2c72f1._0x4e804d)],_0x153f4e['reply'](_0x5e59a1(0x257)),await _0x378cd5[_0x5e59a1(_0x2c72f1._0xbdbd32)]('./resources/3.jpg',_0x242c5b[_0x5e59a1(0x1bd)](),_0x5e59a1(_0x2c72f1._0x29bfd0),_0x450030=>{const _0x14ec02=_0x5e59a1;_0x450030?console[_0x14ec02(0x251)](_0x14ec02(_0x4e27ff._0x49f1ed)):console[_0x14ec02(_0x4e27ff._0x24276f)](_0x14ec02(0x1d8));}),await sleep(0x1f4),msg2=[segment['at'](_0x153f4e[_0x5e59a1(0x20c)]),segment['image'](ml+_0x5e59a1(_0x2c72f1._0x22cc10))],await sleep(0x1f4),iscd=0x0,sc=0x0,id='';let _0x2b862e=await _0x153f4e[_0x5e59a1(0x1de)](msg2);iscd=0x1,console[_0x5e59a1(_0x2c72f1._0x1066d2)](_0x2b862e[_0x5e59a1(_0x2c72f1._0x2fdffb)],isch);if(_0x2b862e&&_0x2b862e[_0x5e59a1(_0x2c72f1._0x2fdffb)]&&isch==0x1&&_0x153f4e['isGroup']){let _0x10618a=_0x153f4e[_0x5e59a1(0x279)];setTimeout(()=>{const _0x4fcdf1=_0x5e59a1;_0x10618a['recallMsg'](_0x2b862e[_0x4fcdf1(_0x25c818._0xbae09e)]);},timeout);}startTimeMS=new Date()[_0x5e59a1(0x1e8)](),t=setTimeout(()=>{iscd=0x0,sc=0x0,id='';},cd);}}else{if(_0x153f4e['img']==undefined&_0x153f4e[_0x5e59a1(_0x2c72f1._0x27108c)]!=undefined){if(_0x153f4e[_0x5e59a1(_0x2c72f1._0x2c7796)]['includes'](_0x5e59a1(0x239))){if(iscd==0x1){console[_0x5e59a1(_0x2c72f1._0x6bbe1f)](iscd);let _0x597a5c=cd-(new Date()['getTime']()-startTimeMS);_0x597a5c=Math[_0x5e59a1(_0x2c72f1._0x1b2710)](_0x597a5c/0x3e8);if(_0x597a5c<0x0){sc=0x0,id='';return;}_0x153f4e[_0x5e59a1(0x1de)](_0x5e59a1(_0x2c72f1._0x487a16)+String(_0x597a5c)+_0x5e59a1(_0x2c72f1._0x2452e5));}else _0x153f4e[_0x5e59a1(0x1de)]('正在生草中，我知道你很急，先别急');}}}}async[_0x2c9d14(0x1d3)](_0x21e28a){const _0x4c6193={_0x19a59e:0x21e,_0x2df9fd:0x1de,_0x2aeaca:0x1e2,_0x5d296:0x1de,_0x5b2442:0x1bf,_0x4b4345:0x1d4,_0x1b1b8d:0x1d4,_0x1ec4cb:0x1f2,_0x489f89:0x201,_0x2a8111:0x28e,_0x1d73b0:0x1d0,_0xe38f70:0x26e,_0x2869c5:0x1ba,_0x1ad6b5:0x21f,_0x35daf7:0x1de,_0x2ce138:0x1eb,_0x52ec88:0x1de,_0x1c36a3:0x1c8,_0x273499:0x229,_0x24b1c2:0x1e0,_0xae8907:0x1e0,_0x221aeb:0x1e0,_0x308b1c:0x202,_0x452d9b:0x241,_0x3c243c:0x1c6,_0x54dd38:0x1bd,_0x3609d1:0x1bd,_0x26e705:0x231,_0x232e21:0x1de,_0x120af2:0x1b9,_0x549170:0x22a,_0x3a57c1:0x1c2,_0x569048:0x220,_0x39d7f6:0x1e9,_0x325160:0x1cc,_0x3d9b57:0x251,_0x17b603:0x224,_0x18e7ca:0x21a,_0x35115c:0x1e7,_0x14a8d5:0x225,_0x3ee653:0x1e2,_0x5e6105:0x1e2,_0x34960e:0x1dc,_0x4a2aa7:0x1bd,_0x206da3:0x22d,_0x209fc2:0x1e8,_0xa90a34:0x1e8,_0x11b9e1:0x1de,_0x4edb7e:0x21c},_0x251e3f={_0x4cde1c:0x217,_0x408e4e:0x276},_0x31bfc3={_0x2801cf:0x236,_0x588cb6:0x1bf,_0x355d1d:0x1cb,_0x2b50e3:0x283,_0x1d13e6:0x275},_0x4b6a1c=_0x2c9d14;dqpz();if(_0x21e28a['msg'][_0x4b6a1c(0x26e)](_0x4b6a1c(_0x4c6193._0x19a59e))&!_0x21e28a[_0x4b6a1c(0x1ba)]){_0x21e28a[_0x4b6a1c(_0x4c6193._0x2df9fd)]('你不是主人，不能用预设哦');return;}let _0x8d8dee,_0x5b7a96,_0x46957a;_0x21e28a['msg'][_0x4b6a1c(0x26e)](_0x4b6a1c(_0x4c6193._0x19a59e))==![]&&(_0x46957a=_0x21e28a['msg']['replace'](/#绘个图/g,'')[_0x4b6a1c(_0x4c6193._0x2aeaca)]());if(kg2==0x0&_0x21e28a[_0x4b6a1c(0x204)]|_0x21e28a[_0x4b6a1c(0x1ba)]){kg2==0x1&&_0x21e28a[_0x4b6a1c(0x1de)](_0x4b6a1c(0x274));if(zr==0x1&!_0x21e28a[_0x4b6a1c(0x1ba)]){_0x21e28a[_0x4b6a1c(_0x4c6193._0x5d296)]('对不起，你不可画哦');return;}kg2=0x1;let _0x4def7a=_0x46957a;var _0x1b45cc=new RegExp('[\x5cu4E00-\x5cu9FFF]+','g');if(_0x1b45cc[_0x4b6a1c(_0x4c6193._0x5b2442)](_0x4def7a)){console['log']('包含中文');let _0x4c4914=_0x4b6a1c(0x1f0)+_0x4def7a,_0x1470b2=await _0x459eca(_0x4c4914),_0x1ba183=await _0x1470b2[_0x4b6a1c(0x27e)]();_0x1ba183=_0x1ba183[_0x4b6a1c(0x1d4)](/有道翻译查询结果/g,'')['trim'](),_0x1ba183=_0x1ba183[_0x4b6a1c(_0x4c6193._0x4b4345)](/翻译后/g,'')['trim'](),_0x1ba183=_0x1ba183[_0x4b6a1c(_0x4c6193._0x1b1b8d)](/翻译前/g,'')[_0x4b6a1c(_0x4c6193._0x2aeaca)](),_0x1ba183=_0x1ba183['replace'](/：/g,'')['trim'](),_0x1ba183=_0x1ba183['replace'](new RegExp(_0x4def7a,'g'),''),res4=_0x1ba183;if(res4==''){let _0xdbf4c0=_0x4b6a1c(_0x4c6193._0x1ec4cb)+_0x4b6a1c(_0x4c6193._0x489f89);res4=await _0x459eca(_0xdbf4c0,{'method':_0x4b6a1c(0x27d),'headers':{'Content-Type':_0x4b6a1c(0x20d)},'body':JSON[_0x4b6a1c(_0x4c6193._0x2a8111)]({'q':_0x4def7a,'from':'zh','to':'en','termIds':'xx1,xx2'})}),res4=await res4[_0x4b6a1c(0x266)](),res4=res4[_0x4b6a1c(0x256)][_0x4b6a1c(_0x4c6193._0x1d73b0)][0x0]['dst'];}console['log'](res4);}else console[_0x4b6a1c(0x251)](_0x4b6a1c(0x1da)),res4=_0x4def7a;let _0x23f39d,_0x2bcaa6;if(_0x21e28a[_0x4b6a1c(0x21f)][_0x4b6a1c(_0x4c6193._0xe38f70)](_0x4b6a1c(0x21e))&_0x21e28a[_0x4b6a1c(_0x4c6193._0x2869c5)]){_0x5b7a96=_0x21e28a[_0x4b6a1c(_0x4c6193._0x1ad6b5)][_0x4b6a1c(_0x4c6193._0x1b1b8d)](/#土块画图预设/g,'')[_0x4b6a1c(_0x4c6193._0x2aeaca)]();let _0x46f115=ml+_0x4b6a1c(0x1dd);await _0x378cd5['readFile'](_0x46f115,(_0x53d325,_0x1d4b5b)=>{const _0x379644=_0x4b6a1c;_0x8d8dee=JSON[_0x379644(0x223)](_0x1d4b5b[_0x379644(0x1bd)]()),_0x2bcaa6=_0x8d8dee[_0x379644(_0x31bfc3._0x2801cf)];var _0x4e8aed=new RegExp('[\x5cu4E00-\x5cu9FFF]+','g');if(_0x4e8aed[_0x379644(_0x31bfc3._0x588cb6)](_0x5b7a96))console['log'](_0x379644(_0x31bfc3._0x355d1d)),_0x23f39d=_0x2bcaa6[_0x379644(_0x31bfc3._0x2b50e3)](_0x2cddf7=>_0x2cddf7[_0x379644(0x22c)]==_0x5b7a96);else{_0x23f39d=Number(_0x5b7a96)-0x1;if(_0x23f39d>_0x2bcaa6[_0x379644(_0x31bfc3._0x1d13e6)]){_0x23f39d=-0x1;return;}}}),await sleep(0x1f4),console['log'](_0x23f39d);if(_0x23f39d!=-0x1)res4=_0x2bcaa6[_0x23f39d][_0x4b6a1c(0x22e)];else{_0x21e28a[_0x4b6a1c(_0x4c6193._0x35daf7)](_0x4b6a1c(_0x4c6193._0x2ce138));return;}}await sleep(0x1f4),_0x21e28a[_0x4b6a1c(_0x4c6193._0x52ec88)]('好的，我开始画图了，请稍等哦');let _0x4b0e41=Math[_0x4b6a1c(0x241)](Math[_0x4b6a1c(_0x4c6193._0x1c36a3)]()*0x2);_0x4b0e41==0x0&&(changdu=0x200,kuandu=0x300);_0x4b0e41==0x1&&(changdu=0x300,kuandu=0x200);console['log'](_0x4b0e41);var _0x212f01=_0x4b6a1c(_0x4c6193._0x273499),_0x2f5538=[res4,pc,_0x4b6a1c(0x1e0),_0x4b6a1c(_0x4c6193._0x24b1c2),0x14,_0x4b6a1c(0x1f8),![],![],0x1,0x1,0x7,-0x1,-0x1,0x0,0x0,0x0,![],changdu,kuandu,![],![],0.7,_0x4b6a1c(_0x4c6193._0xae8907),![],![],null,'','Seed','',_0x4b6a1c(0x235),'',!![],![],null,'',''],_0x13f2a0=[res4,pc,_0x4b6a1c(0x1e0),_0x4b6a1c(_0x4c6193._0x221aeb),0x1c,_0x4b6a1c(0x1f8),![],![],0x1,0x1,0xb,-0x1,-0x1,0x0,0x0,0x0,![],0x200,0x200,![],![],0.7,_0x4b6a1c(0x1e0),![],![],null,'','Seed','',_0x4b6a1c(0x235),'',!![],![],null,'',''];let _0x5c22a5=_0x4b6a1c(_0x4c6193._0x308b1c),_0x264a1c=Math[_0x4b6a1c(_0x4c6193._0x452d9b)](Math[_0x4b6a1c(_0x4c6193._0x1c36a3)]()*0xb6cff090),_0xd270a0='模型:'+moxing+_0x4b6a1c(_0x4c6193._0x3c243c)+guimo[_0x4b6a1c(_0x4c6193._0x54dd38)]()+_0x4b6a1c(0x27b)+bushu[_0x4b6a1c(_0x4c6193._0x3609d1)]()+_0x4b6a1c(_0x4c6193._0x26e705)+_0x264a1c[_0x4b6a1c(_0x4c6193._0x3609d1)](),_0x29e16d='';try{_0x29e16d=_0x378cd5['readFileSync'](_0x4b6a1c(0x270));}catch{_0x21e28a[_0x4b6a1c(_0x4c6193._0x232e21)](_0x4b6a1c(0x286));return;}_0x29e16d=_0x29e16d[_0x4b6a1c(0x1bd)]();let _0x44c7e8=_0xb00d65['parse'](_0x378cd5['readFileSync']('./config/config/other.yaml',_0x4b6a1c(_0x4c6193._0x120af2)));_0x44c7e8=_0x44c7e8[_0x4b6a1c(0x22f)][0x0];try{_0x5c22a5=_0x4b6a1c(_0x4c6193._0x549170)+res4+_0x4b6a1c(_0x4c6193._0x3a57c1)+_0x29e16d+'&qq='+String(_0x44c7e8)+'&model='+ss+_0x4b6a1c(0x268)+kuandu+_0x4b6a1c(_0x4c6193._0x569048)+changdu+_0x4b6a1c(_0x4c6193._0x39d7f6)+guimo+_0x4b6a1c(0x265)+moxing+_0x4b6a1c(_0x4c6193._0x325160)+bushu+_0x4b6a1c(0x1bc)+pc,res=await _0x459eca(_0x5c22a5),console[_0x4b6a1c(0x251)]('访问成功了');}catch(_0xc70549){console[_0x4b6a1c(_0x4c6193._0x3d9b57)](_0xc70549),console[_0x4b6a1c(_0x4c6193._0x3d9b57)](_0x4b6a1c(_0x4c6193._0x17b603));}res=await res[_0x4b6a1c(0x27e)]();if(res==_0x4b6a1c(_0x4c6193._0x18e7ca)){console[_0x4b6a1c(_0x4c6193._0x3d9b57)](_0x4b6a1c(_0x4c6193._0x17b603)),_0x5c22a5=dz2;return;}if(res['includes']('不能访问')){_0x21e28a['reply'](_0x4b6a1c(_0x4c6193._0x35115c)),kg2=0x0;return;}if(!res['includes']('event:\x20newImage')){let _0x359b82='https://api.novelai.net/ai/generate-image\x20';try{res=await _0x459eca(_0x359b82,{'method':_0x4b6a1c(0x27d),'agent':isdl?await getAgent():'','headers':{'Content-Type':_0x4b6a1c(0x20d),'authorization':_0x4b6a1c(_0x4c6193._0x14a8d5)},'body':JSON['stringify']({'input':'masterpiece,\x20best\x20quality,\x20'+res4,'model':ss,'parameters':{'width':kuandu,'height':changdu,'scale':guimo,'sampler':moxing,'steps':bushu,'seed':_0x264a1c,'n_samples':0x1,'ucPreset':0x0,'uc':pc}})}),console[_0x4b6a1c(0x251)]('访问成功了');}catch(_0x3c80e0){console[_0x4b6a1c(0x251)](_0x3c80e0),_0x21e28a[_0x4b6a1c(_0x4c6193._0x35daf7)](_0x4b6a1c(0x23b)),kg2=0x0;return;}res=await res['text']();if(!res[_0x4b6a1c(0x26e)]('event:\x20newImage')){_0x21e28a[_0x4b6a1c(0x1de)](_0x4b6a1c(0x242)),kg2=0x0;return;}}res=res[_0x4b6a1c(0x1d4)](/id: 1/g,'')[_0x4b6a1c(_0x4c6193._0x3ee653)](),res=res[_0x4b6a1c(_0x4c6193._0x4b4345)](/event: newImage/g,'')['trim'](),res=res[_0x4b6a1c(0x1d4)](/data:/g,'')[_0x4b6a1c(_0x4c6193._0x5e6105)](),await _0x378cd5[_0x4b6a1c(_0x4c6193._0x34960e)](_0x4b6a1c(0x22d),res[_0x4b6a1c(_0x4c6193._0x4a2aa7)](),'base64',_0x17d9c6=>{const _0x5e66a0=_0x4b6a1c;if(_0x17d9c6)console['log'](_0x5e66a0(0x246));else{}});iscanshu==0x0&&(_0xd270a0='');await sleep(0x1f4),msg2=[segment[_0x4b6a1c(0x284)](_0x4b6a1c(_0x4c6193._0x206da3)),_0xd270a0];let _0xf535c1=await _0x21e28a[_0x4b6a1c(0x1de)](msg2,ishuifu);iscd=0x1,console['log'](_0xf535c1['message_id'],isch);if(_0xf535c1&&_0xf535c1[_0x4b6a1c(0x276)]&&isch==0x1&&_0x21e28a[_0x4b6a1c(0x204)]){let _0xb1607d=_0x21e28a[_0x4b6a1c(0x279)];setTimeout(()=>{const _0x335aa4=_0x4b6a1c;_0xb1607d[_0x335aa4(_0x251e3f._0x4cde1c)](_0xf535c1[_0x335aa4(_0x251e3f._0x408e4e)]);},timeout);}startTimeMS=new Date()[_0x4b6a1c(_0x4c6193._0x209fc2)](),t=setTimeout(()=>{kg2=0x0,iscd=0x0;},cd);}else{if(iscd==0x1){let _0x5caad0=cd-(new Date()[_0x4b6a1c(_0x4c6193._0xa90a34)]()-startTimeMS);_0x5caad0=Math['round'](_0x5caad0/0x3e8);if(_0x5caad0<0x0){kg2=0x0;return;}_0x21e28a[_0x4b6a1c(_0x4c6193._0x11b9e1)]('我在cd中，还有'+String(_0x5caad0)+_0x4b6a1c(0x22b));}else _0x21e28a[_0x4b6a1c(0x1de)](_0x4b6a1c(_0x4c6193._0x4edb7e));}}}async function imgUrlToBase64(_0x15c18a){const _0xc42b5={_0x5caab9:0x1cd,_0xdf8112:0x215};let _0x5ed430;return new Promise(function(_0x54aa84,_0x5b7a9f){const _0x1b5888={_0xee9e35:0x285},_0x1c1fdb=_0x1b5d;let _0x2841c=http[_0x1c1fdb(_0xc42b5._0x5caab9)](_0x15c18a,function(_0x338f82){const _0x485581={_0xe79592:0x275},_0x4a2de0=_0x1c1fdb;var _0x3393e0=[],_0x400975=0x0;_0x338f82['on'](_0x4a2de0(_0x1b5888._0xee9e35),function(_0x5d6503){const _0x2b8161=_0x4a2de0;_0x3393e0[_0x2b8161(0x237)](_0x5d6503),_0x400975+=_0x5d6503[_0x2b8161(_0x485581._0xe79592)];}),_0x338f82['on'](_0x4a2de0(0x215),function(_0x32a498){const _0x4a3ff1=_0x4a2de0;var _0x5523c9=Buffer['concat'](_0x3393e0,_0x400975);_0x5ed430=_0x5523c9['toString'](_0x4a3ff1(0x1bb)),_0x54aa84({'success':!![],'base64Img':_0x5ed430});});});_0x2841c['on'](_0x1c1fdb(0x277),_0x2dda51=>{const _0x3299ac=_0x1c1fdb;_0x54aa84({'success':![],'errmsg':_0x2dda51[_0x3299ac(0x212)]});}),_0x2841c[_0x1c1fdb(_0xc42b5._0xdf8112)]();});}function sleep(_0x3a2ca8){return new Promise(_0x3ed09a=>setTimeout(_0x3ed09a,_0x3a2ca8));}async function dqpz(){const _0x171e1e={_0x35cc38:0x280},_0x3e1da0=_0x2c9d14;Path=ml+_0x3e1da0(0x1d5),await _0x378cd5[_0x3e1da0(0x261)](Path,(_0x1bb452,_0x2838c4)=>{const _0x5dd380=_0x3e1da0;nr=_0x2838c4['toString'](),nr=nr[_0x5dd380(_0x171e1e._0x35cc38)](','),cd=nr[0x0],timeout=nr[0x1],isch=nr[0x2],iscd=nr[0x3],console[_0x5dd380(0x251)](cd,timeout,isch,iscd);}),await sleep(0x1f4);}async function getAgent(){const _0x26a6fb={_0x27d60e:0x205,_0x405843:0x228},_0x5c88f5={_0x474772:0x277},_0x6001ed=_0x2c9d14;let _0x4ca105=_0x3c7ce7['bot'][_0x6001ed(0x214)];if(!_0x4ca105)return null;if(_0x4ca105===_0x6001ed(0x1d6))return null;HttpsProxyAgent===''&&(HttpsProxyAgent=await import(_0x6001ed(0x26f))[_0x6001ed(_0x26a6fb._0x27d60e)](_0x5deef5=>{const _0x399ac8=_0x6001ed;logger[_0x399ac8(_0x5c88f5._0x474772)](_0x5deef5);}),HttpsProxyAgent=HttpsProxyAgent?HttpsProxyAgent[_0x6001ed(_0x26a6fb._0x405843)]:undefined);if(HttpsProxyAgent)return new HttpsProxyAgent(_0x4ca105);return null;}
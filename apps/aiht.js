const _0x165d04=_0x5e09;(function(_0x443fc5,_0x3f1bfe){const _0x3b7fe9={_0xfa5437:0x1d3,_0x3a017:0x18b,_0x33282e:0x1f2,_0xe54d9d:0x1af,_0x1e5bba:0x173,_0x30ca18:0x171,_0x32e16f:0x20f},_0x5706c4=_0x5e09,_0x2ed51a=_0x443fc5();while(!![]){try{const _0x275bb6=-parseInt(_0x5706c4(_0x3b7fe9._0xfa5437))/0x1+parseInt(_0x5706c4(0x16d))/0x2*(parseInt(_0x5706c4(_0x3b7fe9._0x3a017))/0x3)+-parseInt(_0x5706c4(_0x3b7fe9._0x33282e))/0x4+parseInt(_0x5706c4(_0x3b7fe9._0xe54d9d))/0x5*(-parseInt(_0x5706c4(0x210))/0x6)+-parseInt(_0x5706c4(_0x3b7fe9._0x1e5bba))/0x7+-parseInt(_0x5706c4(0x222))/0x8+parseInt(_0x5706c4(_0x3b7fe9._0x30ca18))/0x9*(parseInt(_0x5706c4(_0x3b7fe9._0x32e16f))/0xa);if(_0x275bb6===_0x3f1bfe)break;else _0x2ed51a['push'](_0x2ed51a['shift']());}catch(_0x50d301){_0x2ed51a['push'](_0x2ed51a['shift']());}}}(_0x5f05,0x1c5b5));import{segment}from'oicq';import _0x489916 from'node-fetch';import _0x403858,{chownSync}from'fs';import _0x4a0419 from'../../../lib/config/config.js';import _0x3748ec from'../../../lib/puppeteer/puppeteer.js';let data1={};import{createRequire}from'module';import _0x472209 from'yaml';function _0x5f05(){const _0x59c542=['https-proxy-agent','可以访问','Bearer','findIndex','https://www.tukuai.one//qx.php?tk=','^#开启代理|^#关闭代理|^#开启参数显示|^#关闭参数显示|^#开启词条回复|^#关闭词条回复','https://api.novelai.net/ai/generate-image\x20','^#查看所有预设$|#新增预设(.*)|(.*)','以图生草暂不支持私聊','writeFileSync','写入文件成功','已设置撤回时间为','length','正在画图中，我知道你很急，但是你先别急。','https://www.tukuai.one//diqiu.php?tk=','好的，已开启，请注意身体哦','Resize\x20and\x20fill','#以图生草','30秒还未发图，以图生草已取消','请发送图片','tags','huatu3','3RqCZoV','text','魔法是：','data:image/jpeg;base64,','很抱歉，你的密钥错误，不能生草','parse','没有这个预设哦','我知道你要干嘛！注意身体！','isMaster','以图生草','utf8','\x20\x0a步数:','对不起，你不可画哦','Euler\x20a','abc','已开启词条回复','Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36','^#以图生草(.*)$|(.*)','shuju','#土块画图撤回开启','[\x5cu4E00-\x5cu9FFF]+','szgm','密钥不存在','#删除屏蔽词','end','kqdl','模型已设置为ddim','#开启词条回复','gjc','safe-diffusion','utf-8','#关闭参数显示','stringify','#删除预设','没有访问成功','/resources/3.jpg','962510xZJvof','user_id','以图生草长图','是英文','json','reply','splice','#查看预设词条','#土块画图预设','#土块画图撤回关闭','步数已设置为','http','已关闭词条回复','./config/config/other.yaml','规模不在合理范围内，3-12为合理范围','已关闭画图冷却','pbc','\x20\x20\x20\x20\x20\x20\x20\x20|seed:','getTime','msg','删除预设成功','&qq=','Seed','includes','已关闭参数显示','土块AI画图','message_id','好的，我开始画图了，请稍等哦','当前屏蔽词有：','POST','http://0.0.0.0:0','访问成功了','readFile','已关闭代理','开启代理成功','base64','194220KEVRME','cwd','当前相似度','replace','ddim','get','image','已开启参数显示','成功了！','Steps','模型已设置为plms','#查看画图设置','isGroup','push','szbs','#查看所有模型','你还没有填写密钥哦。','#土块画图冷却开启','^#填写密钥(.*)','#开启代理','test','#开启参数显示','lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','ysgn','#土块画图涩涩开启','^#取消画图$|^#所有人可画$|^#仅我可画$|^#土块画图撤回(.*)$|^#土块画图冷却(.*)$|^#土块画图涩涩开启|^#土块画图涩涩关闭','qvht','请发送要查看魔法的图片,0.0','None','masterQQ','这个密钥已经被激活了，你想干嘛！','153280TaaOWH','#关闭代理','name','trim','k_euler','tianxie','concat','已经取消','isPrivate','已激活该密钥','好的，已关闭了','#新增预设','floor','你好号主','application/json','data','post','\x0a降噪：','步数不在合理范围内，28以下为合理范围','./resources/3.jpg','round','split','数字超过了预设个数','#土块画图撤回','模型不在合理范围内，1-5为合理范围','\x20\x20\x20|规模:','模型已设置为k_lms','szmx','已取消当前画图','20tuOCQX','6umxdqj','已设置冷却时间为','readFileSync','recallMsg','proxyAddress','k_euler_ancestral','https://api.sdgou.cc/api/fanyi/?msg=','default','#土块画图冷却','#所有人可画','密钥不存在！不能乱输入哦','以图生草宽图','./resources/ht.png','#查看魔法','已开启画图冷却，冷却时间为30秒','你不是主人，不能用预设哦','random','已经开启默认屏蔽词','991664XvUZJR','nai-diffusion','当前降噪','k_lms','url','images','好的，我开始以图生草了','/plugins/earth-k-plugin/resources/htys/ys.json','写入文件错误','你是主人，没有cd，欸嘿','./resources/th2.txt','^#土块画图规模(.*)','toString','code','https://www.tukuai.one/ytsc.php','15秒还未发图，查看魔法已取消','writeFile','^#土块画图步数(.*)|^#查看画图设置','group','文件写入成功！','message','img','正在查看魔法，请稍后啊，0v0','#取消画图','秒可画','huatu2','\x0a步数：','error','#查看预设','模型:','192030yYtabE','log','#开启默认屏蔽词','\x0a相似度：','3194820BUhblb','当前预设有：\x0a','985782wTZUEi','包含中文'];_0x5f05=function(){return _0x59c542;};return _0x5f05();}const require=createRequire(import.meta[_0x165d04(0x226)]);let ysct,mf,mfkg=0x0,ml=process[_0x165d04(0x1d4)]();var http=require(_0x165d04(0x1ba));import _0x4ae958 from'lodash';let yushekg=0x0,kg=0x0,guimo=5.5,kg2=0x0,mfid='',res4,htm='',htm2='',res5,res,zr=0x0,changdu=0x200,kuandu=0x200,msg2,timeout=0x7530,isch=0x1,cd=0x0,t,startTimeMS,iscd=0x0,my,dz,sj1,sj2,shuju,zt=0x0,gjc2,sc=0x0,bushu=0x1c,id='',xsd=0.5,nr,ycqx,jz=0.2,ss=_0x165d04(0x223),Path,ys=[],moxing=_0x165d04(0x1f6),isdl=0x0,iscanshu=0x1,ishuifu=!![],HttpsProxyAgent='',chang,kuan,pc=_0x165d04(0x1e9);function _0x5e09(_0xaa8e5b,_0x3fcfa1){const _0x5f0579=_0x5f05();return _0x5e09=function(_0x5e094e,_0x1ca38e){_0x5e094e=_0x5e094e-0x157;let _0x4c392f=_0x5f0579[_0x5e094e];return _0x4c392f;},_0x5e09(_0xaa8e5b,_0x3fcfa1);}export class aiht extends plugin{constructor(){const _0x5f36bc={_0x5cb11e:0x1c8,_0x4680e6:0x1c8,_0x5db5d6:0x1bf,_0x53cf10:0x18a,_0x4e54f3:0x15a,_0x31f979:0x1a0,_0x55b855:0x1e1,_0x26a83a:0x17a,_0x146577:0x1a4},_0x2317c4=_0x165d04;super({'name':_0x2317c4(_0x5f36bc._0x5cb11e),'dsc':_0x2317c4(_0x5f36bc._0x4680e6),'event':_0x2317c4(0x163),'priority':0x221,'rule':[{'reg':'^#绘个图(.*)$|#土块画图预设(.*)$','fnc':_0x2317c4(0x168)},{'reg':_0x2317c4(0x1ec),'fnc':_0x2317c4(0x1ed)},{'reg':'^#新增屏蔽词(.*)$|#查看屏蔽词$|#删除屏蔽词$|#开启默认屏蔽词$','fnc':_0x2317c4(_0x5f36bc._0x5db5d6)},{'reg':_0x2317c4(0x19c),'fnc':_0x2317c4(_0x5f36bc._0x53cf10),'log':![]},{'reg':_0x2317c4(0x17c),'fnc':'ysgn','log':![]},{'reg':_0x2317c4(_0x5f36bc._0x4e54f3),'fnc':_0x2317c4(_0x5f36bc._0x31f979)},{'reg':'^#土块画图模型(.*)|^#查看所有模型','fnc':'szmx'},{'reg':_0x2317c4(0x160),'fnc':_0x2317c4(_0x5f36bc._0x55b855)},{'reg':_0x2317c4(_0x5f36bc._0x26a83a),'fnc':_0x2317c4(_0x5f36bc._0x146577)},{'reg':_0x2317c4(0x1e5),'fnc':'tianxie'}]});}async[_0x165d04(0x1f7)](_0x1b5a66){const _0x19a233={_0x54e6c0:0x212,_0x4a6f1c:0x1f5,_0xcfea66:0x1b0,_0x34d387:0x18c,_0x563736:0x1b4,_0x4298b1:0x21a,_0x430a39:0x1ff,_0x558390:0x15f,_0x28147c:0x159,_0x501868:0x1c6,_0x1e56f6:0x1fb,_0x25a0c9:0x1a9,_0x73a777:0x1f1},_0x1d3c09={_0xf705fc:0x16e,_0x3f3df1:0x157},_0x5b8e65=_0x165d04;if(_0x1b5a66['isMaster']){let _0x3cad44=_0x472209[_0x5b8e65(0x190)](_0x403858[_0x5b8e65(_0x19a233._0x54e6c0)]('./config/config/other.yaml',_0x5b8e65(0x195)));_0x3cad44=_0x3cad44[_0x5b8e65(0x1f0)][0x0],console['log'](_0x3cad44);let _0x9378df=_0x1b5a66['msg']['replace'](/#填写密钥/g,'')[_0x5b8e65(_0x19a233._0x4a6f1c)](),_0x387076=_0x5b8e65(0x183)+_0x9378df+_0x5b8e65(0x1c4)+String(_0x1b5a66[_0x5b8e65(_0x19a233._0xcfea66)]),_0xd8e446=await _0x489916(_0x387076),_0x480190=await _0xd8e446[_0x5b8e65(_0x19a233._0x34d387)]();if(_0x480190[_0x5b8e65(0x1c6)](_0x5b8e65(0x1a1))){_0x1b5a66[_0x5b8e65(_0x19a233._0x563736)](_0x5b8e65(_0x19a233._0x4298b1));return;}if(_0x480190[_0x5b8e65(0x1c6)](_0x5b8e65(_0x19a233._0x430a39))){_0x1b5a66[_0x5b8e65(0x1b4)]('你好号主，成功再次激活'),await _0x403858[_0x5b8e65(_0x19a233._0x558390)](_0x5b8e65(_0x19a233._0x28147c),_0x9378df['toString'](),'utf-8',_0xa3520e=>{const _0x4d3ea9=_0x5b8e65;if(_0xa3520e)console['log'](_0x4d3ea9(0x157));else{}});return;}_0x480190[_0x5b8e65(_0x19a233._0x501868)](_0x5b8e65(_0x19a233._0x1e56f6))&&(_0x1b5a66[_0x5b8e65(0x1b4)]('已激活密钥，号主为'+String(_0x1b5a66[_0x5b8e65(_0x19a233._0xcfea66)])),await _0x403858[_0x5b8e65(0x15f)]('./resources/th2.txt',_0x9378df[_0x5b8e65(0x15b)](),_0x5b8e65(_0x19a233._0x25a0c9),_0x46ee12=>{const _0x5c0d3d=_0x5b8e65;if(_0x46ee12)console[_0x5c0d3d(_0x1d3c09._0xf705fc)](_0x5c0d3d(_0x1d3c09._0x3f3df1));else{}})),_0x480190[_0x5b8e65(_0x19a233._0x501868)]('该密钥已被激活')&&_0x1b5a66['reply'](_0x5b8e65(_0x19a233._0x73a777));}}async[_0x165d04(0x1a4)](_0xadaeb8){const _0x178333={_0x4c82a3:0x1d1,_0xf9ac7:0x1f3,_0x3e1a3f:0x193,_0x55940b:0x1d0,_0x36a600:0x1c2,_0x4ce9f3:0x1b4,_0x482978:0x1c7,_0x49fef5:0x19a},_0x36a8d8=_0x165d04;_0xadaeb8[_0x36a8d8(0x1c2)]==_0x36a8d8(0x1e6)&_0xadaeb8[_0x36a8d8(0x193)]&&(isdl=0x1,_0xadaeb8['reply'](_0x36a8d8(_0x178333._0x4c82a3))),_0xadaeb8['msg']==_0x36a8d8(_0x178333._0xf9ac7)&_0xadaeb8[_0x36a8d8(_0x178333._0x3e1a3f)]&&(isdl=0x0,_0xadaeb8[_0x36a8d8(0x1b4)](_0x36a8d8(_0x178333._0x55940b))),_0xadaeb8[_0x36a8d8(_0x178333._0x36a600)]==_0x36a8d8(0x1e8)&_0xadaeb8['isMaster']&&(iscanshu=0x1,_0xadaeb8[_0x36a8d8(0x1b4)](_0x36a8d8(0x1da))),_0xadaeb8[_0x36a8d8(_0x178333._0x36a600)]==_0x36a8d8(0x1aa)&_0xadaeb8[_0x36a8d8(0x193)]&&(iscanshu=0x0,_0xadaeb8[_0x36a8d8(_0x178333._0x4ce9f3)](_0x36a8d8(_0x178333._0x482978))),_0xadaeb8[_0x36a8d8(_0x178333._0x36a600)]==_0x36a8d8(0x1a6)&_0xadaeb8[_0x36a8d8(_0x178333._0x3e1a3f)]&&(ishuifu=!![],_0xadaeb8[_0x36a8d8(_0x178333._0x4ce9f3)](_0x36a8d8(_0x178333._0x49fef5))),_0xadaeb8[_0x36a8d8(_0x178333._0x36a600)]=='#关闭词条回复'&_0xadaeb8['isMaster']&&(ishuifu=![],_0xadaeb8[_0x36a8d8(0x1b4)](_0x36a8d8(0x1bb)));}async[_0x165d04(0x1e1)](_0x321649){const _0x51443d={_0x1c8a48:0x1de,_0x1edaf0:0x169,_0x5710c7:0x15b,_0x22c1e1:0x170,_0x6f747d:0x203,_0x1dfa0b:0x15b,_0x3ecdef:0x1c2,_0x48c1b9:0x1b4,_0x475651:0x1b9},_0x245217=_0x165d04;if(_0x321649[_0x245217(0x1c2)]==_0x245217(_0x51443d._0x1c8a48)){console[_0x245217(0x16e)](guimo);let _0x5f5860=['模型：',moxing,'\x0a规模：',guimo[_0x245217(0x15b)](),_0x245217(_0x51443d._0x1edaf0),bushu[_0x245217(_0x51443d._0x5710c7)](),_0x245217(_0x51443d._0x22c1e1),xsd['toString'](),_0x245217(_0x51443d._0x6f747d),jz[_0x245217(_0x51443d._0x1dfa0b)]()];_0x321649[_0x245217(0x1b4)](_0x5f5860);return;}bushu=_0x321649[_0x245217(_0x51443d._0x3ecdef)][_0x245217(0x1d6)](/#土块画图步数/g,'')['trim'](),bushu=Number(bushu);if(bushu<0x0|bushu>0x1c){bushu=0x1c,_0x321649[_0x245217(_0x51443d._0x48c1b9)](_0x245217(0x204));return;}else _0x321649['reply'](_0x245217(_0x51443d._0x475651)+String(bushu));}async[_0x165d04(0x20d)](_0x4a5606){const _0x2d3965={_0x429f28:0x1c2,_0x5a7ce3:0x1b4,_0x4aaac5:0x1c2,_0x81897a:0x215,_0x58e5f0:0x1f6,_0x46aeb1:0x225,_0x26e218:0x1d7,_0x2e5826:0x1b4,_0x5b714e:0x1a5},_0xad801a=_0x165d04;if(_0x4a5606[_0xad801a(_0x2d3965._0x429f28)]==_0xad801a(0x1e2)){let _0x199746=['1：k_euler_ancestral,\x0a2：k_euler,\x0a3：k_lms,\x0a4：plms,\x0a5：ddim'];_0x4a5606[_0xad801a(_0x2d3965._0x5a7ce3)](_0x199746);return;}moxing=_0x4a5606[_0xad801a(_0x2d3965._0x4aaac5)]['replace'](/#土块画图模型/g,'')['trim'](),moxing=Number(moxing);if(moxing<0x0|moxing>0x5){_0x4a5606['reply'](_0xad801a(0x20a)),moxing=0x2;return;}moxing==0x1&&(moxing=_0xad801a(_0x2d3965._0x81897a),_0x4a5606['reply']('模型已设置为k_euler_ancestral')),moxing==0x2&&(moxing=_0xad801a(_0x2d3965._0x58e5f0),_0x4a5606[_0xad801a(_0x2d3965._0x5a7ce3)]('模型已设置为k_euler')),moxing==0x3&&(moxing=_0xad801a(_0x2d3965._0x46aeb1),_0x4a5606['reply'](_0xad801a(0x20c))),moxing==0x4&&(moxing='plms',_0x4a5606[_0xad801a(0x1b4)](_0xad801a(0x1dd))),moxing==0x5&&(moxing=_0xad801a(_0x2d3965._0x26e218),_0x4a5606[_0xad801a(_0x2d3965._0x2e5826)](_0xad801a(_0x2d3965._0x5b714e)));}async['szgm'](_0x2bf86a){const _0x1169e7={_0x2a0a31:0x1c2},_0x44a4e6=_0x165d04;guimo=_0x2bf86a[_0x44a4e6(_0x1169e7._0x2a0a31)][_0x44a4e6(0x1d6)](/#土块画图规模/g,'')[_0x44a4e6(0x1f5)](),guimo=Number(guimo);if(guimo<0x3|guimo>0xc){_0x2bf86a[_0x44a4e6(0x1b4)](_0x44a4e6(0x1bd)),guimo=5.5;return;}else _0x2bf86a[_0x44a4e6(0x1b4)]('规模已设置为'+String(guimo));}async[_0x165d04(0x1ea)](_0x28cc92){const _0x3b9b7d={_0x99c1b2:0x1c2,_0x444127:0x1c6,_0x332989:0x16b,_0x776e6c:0x1c2,_0x199f4e:0x1b6,_0x322d3f:0x193,_0x1f92fa:0x1f5,_0x5e782f:0x207,_0x2a57b5:0x208,_0x2a3885:0x1b4,_0x57ab5b:0x172,_0x534f3a:0x1d6,_0x330e92:0x19d,_0x4ac4c4:0x181,_0x57bf64:0x19d,_0x176450:0x1ab,_0x1d8363:0x1fd,_0x5b14f6:0x1d6,_0x1c046d:0x1b4,_0x4a1042:0x1c2,_0x593b2d:0x19d,_0xf7a935:0x15f},_0x36c291={_0xddfcb4:0x16e,_0x12ab8e:0x162},_0x332343={_0x3ed8b5:0x1b4,_0x5efe38:0x1c3},_0x44c496={_0x26cb4c:0x15b,_0x3ddcb0:0x19d},_0x2128f3=_0x165d04;if(_0x28cc92['img']!=undefined)return![];if(yushekg==0x0&_0x28cc92[_0x2128f3(_0x3b9b7d._0x99c1b2)][_0x2128f3(_0x3b9b7d._0x444127)](_0x2128f3(_0x3b9b7d._0x332989))==![]&_0x28cc92['msg'][_0x2128f3(_0x3b9b7d._0x444127)]('#新增预设')==![]&_0x28cc92[_0x2128f3(0x1c2)][_0x2128f3(0x1c6)]('#删除预设')==![]&_0x28cc92[_0x2128f3(0x1c2)][_0x2128f3(0x1c6)]('#查看预设词条')==![])return![];let _0x524cfe=ml+_0x2128f3(0x229),_0x8e7aee='';await _0x403858['readFile'](_0x524cfe,(_0x2c47bb,_0x49806a)=>{const _0xb867d3=_0x2128f3;if(_0x2c47bb)throw _0x2c47bb;var _0x777184=_0x49806a[_0xb867d3(0x15b)]()!=''?JSON['parse'](_0x49806a[_0xb867d3(_0x44c496._0x26cb4c)]()):[];ysct='',_0x8e7aee='',shuju=_0x777184;for(let _0x1122a0=0x0;_0x1122a0<shuju[_0xb867d3(0x19d)]['length'];_0x1122a0++){_0x8e7aee=_0x8e7aee+shuju[_0xb867d3(0x19d)][_0x1122a0][_0xb867d3(0x1f4)]+',',ysct=ysct+shuju[_0xb867d3(_0x44c496._0x3ddcb0)][_0x1122a0][_0xb867d3(0x1a7)]+'++';}}),await sleep(0x1f4);if(_0x28cc92[_0x2128f3(_0x3b9b7d._0x776e6c)][_0x2128f3(0x1c6)](_0x2128f3(_0x3b9b7d._0x199f4e))&_0x28cc92[_0x2128f3(_0x3b9b7d._0x322d3f)]){let _0x31bc13=_0x28cc92[_0x2128f3(_0x3b9b7d._0x99c1b2)][_0x2128f3(0x1d6)](/#查看预设词条/g,'')[_0x2128f3(_0x3b9b7d._0x1f92fa)]();_0x31bc13=Number(_0x31bc13),ysct=ysct[_0x2128f3(_0x3b9b7d._0x5e782f)]('++'),_0x8e7aee=_0x8e7aee[_0x2128f3(0x207)](',');if(_0x31bc13>ysct['length']|_0x31bc13<0x0){_0x28cc92[_0x2128f3(0x1b4)](_0x2128f3(_0x3b9b7d._0x2a57b5));return;}_0x28cc92[_0x2128f3(0x1b4)]([_0x8e7aee[_0x31bc13-0x1],':',ysct[_0x31bc13-0x1]]),ysct='',_0x8e7aee='';}if(_0x28cc92[_0x2128f3(0x1c2)]=='#查看预设'&_0x28cc92[_0x2128f3(_0x3b9b7d._0x322d3f)]){_0x8e7aee=_0x8e7aee[_0x2128f3(_0x3b9b7d._0x5e782f)](','),data1={'tplFile':'./plugins/earth-k-plugin/resources/aiht/ml.html','dz':ml,'lb':_0x8e7aee,'qsid':0x0};let _0x268dbd=await _0x3748ec['screenshot']('123',{...data1});_0x28cc92[_0x2128f3(_0x3b9b7d._0x2a3885)](_0x268dbd);return;_0x28cc92[_0x2128f3(_0x3b9b7d._0x2a3885)](_0x2128f3(_0x3b9b7d._0x57ab5b)+_0x8e7aee);}if(_0x28cc92[_0x2128f3(0x1c2)]['includes'](_0x2128f3(0x1ac))&_0x28cc92['isMaster']){let _0x39ed9d=_0x28cc92[_0x2128f3(_0x3b9b7d._0x99c1b2)][_0x2128f3(_0x3b9b7d._0x534f3a)](/#删除预设/g,'')[_0x2128f3(0x1f5)]();_0x39ed9d=Number(_0x39ed9d);if(_0x39ed9d<shuju[_0x2128f3(_0x3b9b7d._0x330e92)][_0x2128f3(_0x3b9b7d._0x4ac4c4)]+0x1){shuju[_0x2128f3(_0x3b9b7d._0x57bf64)][_0x2128f3(0x1b5)](_0x39ed9d-0x1,0x1);var _0x510182=JSON[_0x2128f3(_0x3b9b7d._0x176450)](shuju);}_0x403858[_0x2128f3(0x15f)](_0x524cfe,_0x510182,function(_0x2f03f1){const _0x5221c2=_0x2128f3;_0x2f03f1&&console['error'](_0x2f03f1),_0x28cc92[_0x5221c2(_0x332343._0x3ed8b5)](_0x5221c2(_0x332343._0x5efe38));});}if(_0x28cc92[_0x2128f3(_0x3b9b7d._0x99c1b2)][_0x2128f3(0x1c6)](_0x2128f3(_0x3b9b7d._0x1d8363))&_0x28cc92[_0x2128f3(0x193)]&yushekg==0x0){yushekg=0x1,ys[0x0]=_0x28cc92[_0x2128f3(0x1c2)][_0x2128f3(_0x3b9b7d._0x5b14f6)](/#新增预设/g,'')[_0x2128f3(0x1f5)](),_0x28cc92[_0x2128f3(_0x3b9b7d._0x1c046d)]('请添加预设关键词');return;}if(yushekg==0x1&_0x28cc92[_0x2128f3(0x193)]){yushekg=0x0,ys[0x1]=_0x28cc92[_0x2128f3(_0x3b9b7d._0x4a1042)];let _0xe9a3e0={'name':ys[0x0],'gjc':ys[0x1]};shuju[_0x2128f3(_0x3b9b7d._0x593b2d)][_0x2128f3(0x1e0)](_0xe9a3e0),console['log'](shuju);var _0x510182=JSON['stringify'](shuju);_0x403858[_0x2128f3(_0x3b9b7d._0xf7a935)](_0x524cfe,_0x510182,_0x188b7d=>{const _0x444b3e=_0x2128f3;if(_0x188b7d)throw _0x188b7d;console[_0x444b3e(_0x36c291._0xddfcb4)](_0x444b3e(_0x36c291._0x12ab8e)),_0x28cc92[_0x444b3e(0x1b4)]('新增预设成功');});return;}}async[_0x165d04(0x1bf)](_0x4fbeb6){const _0x8be01f={_0x59776c:0x1d6,_0x2783b5:0x1f5,_0x420102:0x1b4,_0x546ac5:0x1a2,_0x34d0fe:0x1b4,_0x4b9daa:0x1c2,_0x4056d9:0x221},_0x27d3b6=_0x165d04;_0x4fbeb6[_0x27d3b6(0x1c2)][_0x27d3b6(0x1c6)]('#新增屏蔽词')&_0x4fbeb6[_0x27d3b6(0x193)]&&(_0x4fbeb6[_0x27d3b6(0x1b4)]('新增屏蔽词成功'),pc=_0x4fbeb6[_0x27d3b6(0x1c2)][_0x27d3b6(_0x8be01f._0x59776c)](/#新增屏蔽词/g,'')[_0x27d3b6(_0x8be01f._0x2783b5)]()),_0x4fbeb6['msg']=='#查看屏蔽词'&_0x4fbeb6['isMaster']&&_0x4fbeb6[_0x27d3b6(_0x8be01f._0x420102)]([_0x27d3b6(0x1cb),pc]),_0x4fbeb6['msg'][_0x27d3b6(0x1c6)](_0x27d3b6(_0x8be01f._0x546ac5))&_0x4fbeb6[_0x27d3b6(0x193)]&&(_0x4fbeb6[_0x27d3b6(_0x8be01f._0x34d0fe)]('删除屏蔽词成功'+_0x27d3b6(0x192)),pc=''),_0x4fbeb6[_0x27d3b6(_0x8be01f._0x4b9daa)][_0x27d3b6(0x1c6)](_0x27d3b6(0x16f))&_0x4fbeb6[_0x27d3b6(0x193)]&&(_0x4fbeb6['reply'](_0x27d3b6(_0x8be01f._0x4056d9)),pc=_0x27d3b6(0x1e9));}async[_0x165d04(0x1ed)](_0x57b46f){const _0x4c7709={_0xed9190:0x1c2,_0x55542f:0x223,_0x3c0324:0x1b4,_0x51805b:0x1a8,_0x47020d:0x1c6,_0x5858f3:0x17e,_0x5a7673:0x1be,_0xfc459e:0x193,_0x5ba086:0x15b,_0x3e4ad5:0x1a9,_0x3f2b07:0x218,_0x610a57:0x211,_0xe9205a:0x17e,_0x4a7df5:0x19e,_0x133f38:0x193,_0x31e801:0x1a9,_0x32a4fe:0x1f5,_0x5c2d64:0x15b,_0x440d03:0x16e,_0x3f597:0x1f9,_0x9e25ad:0x20e,_0x4db3b6:0x1c2,_0x50a0e8:0x1b4},_0x1a0a23=_0x165d04;_0x57b46f[_0x1a0a23(_0x4c7709._0xed9190)]==_0x1a0a23(0x1eb)&_0x57b46f[_0x1a0a23(0x193)]&&(_0x57b46f[_0x1a0a23(0x1b4)](_0x1a0a23(0x184)),ss=_0x1a0a23(_0x4c7709._0x55542f));_0x57b46f[_0x1a0a23(0x1c2)]=='#土块画图涩涩关闭'&_0x57b46f[_0x1a0a23(0x193)]&&(_0x57b46f[_0x1a0a23(_0x4c7709._0x3c0324)](_0x1a0a23(0x1fc)),ss=_0x1a0a23(_0x4c7709._0x51805b));await dqpz();if(_0x57b46f[_0x1a0a23(0x1c2)][_0x1a0a23(_0x4c7709._0x47020d)]('#土块画图冷却关闭')&_0x57b46f[_0x1a0a23(0x193)]){nr[0x3]=0x0,nr[0x0]=0x0,_0x403858[_0x1a0a23(_0x4c7709._0x5858f3)](Path,nr[_0x1a0a23(0x15b)](),_0x1a0a23(0x1a9)),cd=0x0,kg2=0x0,kg=0x0,sc=0x0,iscd=0x0,_0x57b46f[_0x1a0a23(0x1b4)](_0x1a0a23(_0x4c7709._0x5a7673));return;}if(_0x57b46f['msg'][_0x1a0a23(0x1c6)](_0x1a0a23(0x1e4))&_0x57b46f[_0x1a0a23(_0x4c7709._0xfc459e)]){nr[0x0]=0x7530,nr[0x3]=0x1,_0x403858[_0x1a0a23(0x17e)](Path,nr[_0x1a0a23(_0x4c7709._0x5ba086)](),_0x1a0a23(_0x4c7709._0x3e4ad5)),cd=0x7530,_0x57b46f[_0x1a0a23(0x1b4)](_0x1a0a23(0x21e));return;}if(_0x57b46f['msg'][_0x1a0a23(0x1c6)](_0x1a0a23(_0x4c7709._0x3f2b07))&_0x57b46f['isMaster']){let _0x48944b=_0x57b46f[_0x1a0a23(0x1c2)]['replace'](/#土块画图冷却/g,'')['trim']();cd=Number(_0x48944b)*0x3e8,nr[0x0]=cd,nr[0x3]=0x1,_0x403858['writeFileSync'](Path,nr['toString'](),_0x1a0a23(0x1a9)),_0x57b46f['reply'](_0x1a0a23(_0x4c7709._0x610a57)+_0x48944b+'秒');}if(_0x57b46f['msg'][_0x1a0a23(0x1c6)](_0x1a0a23(0x1b8))&_0x57b46f[_0x1a0a23(0x193)]){nr[0x2]=0x0,_0x403858[_0x1a0a23(_0x4c7709._0xe9205a)](Path,nr['toString'](),_0x1a0a23(0x1a9)),isch=0x0,_0x57b46f['reply']('已关闭画图撤回');return;}if(_0x57b46f['msg'][_0x1a0a23(_0x4c7709._0x47020d)](_0x1a0a23(_0x4c7709._0x4a7df5))&_0x57b46f[_0x1a0a23(_0x4c7709._0x133f38)]){isch=0x1,nr[0x1]=0x7530,nr[0x2]=0x1,_0x403858[_0x1a0a23(_0x4c7709._0xe9205a)](Path,nr[_0x1a0a23(_0x4c7709._0x5ba086)](),_0x1a0a23(_0x4c7709._0x31e801)),timeout=0x7530,_0x57b46f[_0x1a0a23(0x1b4)]('已开启画图撤回，撤回时间为30秒');return;}if(_0x57b46f['msg'][_0x1a0a23(0x1c6)](_0x1a0a23(0x209))&_0x57b46f[_0x1a0a23(_0x4c7709._0x133f38)]){isch=0x1;let _0x20cb76=_0x57b46f[_0x1a0a23(0x1c2)][_0x1a0a23(0x1d6)](/#土块画图撤回/g,'')[_0x1a0a23(_0x4c7709._0x32a4fe)]();timeout=Number(_0x20cb76)*0x3e8,nr[0x1]=timeout,nr[0x2]=0x1,_0x403858[_0x1a0a23(0x17e)](Path,nr[_0x1a0a23(_0x4c7709._0x5c2d64)](),'utf-8'),_0x57b46f[_0x1a0a23(_0x4c7709._0x3c0324)](_0x1a0a23(0x180)+_0x20cb76+'秒');}_0x57b46f['msg']==_0x1a0a23(0x166)&&(kg=0x0,sc=0x0,zt=0x0,id='',console[_0x1a0a23(_0x4c7709._0x440d03)](_0x1a0a23(_0x4c7709._0x3f597)),kg2=0x0,_0x57b46f[_0x1a0a23(_0x4c7709._0x3c0324)](_0x1a0a23(_0x4c7709._0x9e25ad))),_0x57b46f[_0x1a0a23(_0x4c7709._0xed9190)]==_0x1a0a23(0x219)&_0x57b46f[_0x1a0a23(0x193)]&&(_0x57b46f[_0x1a0a23(_0x4c7709._0x3c0324)]('好吧，那就一起来吧！'),zr=0x0),_0x57b46f[_0x1a0a23(_0x4c7709._0x4db3b6)]=='#仅我可画'&_0x57b46f['isMaster']&&(_0x57b46f[_0x1a0a23(_0x4c7709._0x50a0e8)]('好的，权限已经关闭，只有你能画了'),zr=0x1);}async[_0x165d04(0x18a)](_0x3ad195){const _0x2557c9={_0x3cea93:0x1c2,_0x274237:0x186,_0x259055:0x164,_0x3be88c:0x21d,_0x19c446:0x1b0,_0x1024cf:0x1b4,_0x5f24ec:0x165,_0x1f3818:0x1b3,_0x1c468d:0x16e,_0x5c3c49:0x18d,_0x56bf1f:0x1c6,_0x1e33af:0x1b4,_0x2116a4:0x1c6,_0x1ed5a5:0x193,_0x3bb99f:0x186,_0x13d9a2:0x1fa,_0x4c8a50:0x17d,_0x235929:0x212,_0x566fd6:0x179,_0x50562d:0x1c6,_0x324ed9:0x176,_0x4e0a71:0x18f,_0x2e9326:0x194,_0x202ff9:0x1f5,_0x471520:0x1c2,_0x390ecf:0x1d6,_0x4f6ddb:0x1b1,_0x40d8e2:0x1f5,_0x1d9f1e:0x1c2,_0x3d247f:0x1f5,_0x31b4c2:0x19f,_0x14cca8:0x16e,_0x5f315a:0x216,_0x4f6498:0x1d6,_0x7ea07e:0x1f5,_0x282a76:0x1d6,_0x1f7aed:0x1b0,_0x1d618d:0x1d6,_0x5519ee:0x1ba,_0x367fdf:0x185,_0x4432e3:0x15d,_0x244f45:0x202,_0x568757:0x1ad,_0x3c6833:0x1b3,_0x2eeb47:0x1db,_0x1cf888:0x15f,_0x1985a2:0x1d2,_0x36bc4c:0x1b4,_0x33dd31:0x1c9,_0x448fda:0x1c1,_0x38c440:0x16e,_0x564f23:0x206},_0x5efca7={_0x1a8b3d:0x16e,_0x326581:0x157},_0x41689c={_0x21a53c:0x1b4},_0x386c45={_0x4574ff:0x1b4,_0x46b187:0x15e},_0x1458c9=_0x165d04;if(_0x3ad195['img']!=undefined&zt==0x0&mfkg==0x0)return![];if(_0x3ad195['img']==undefined&_0x3ad195[_0x1458c9(_0x2557c9._0x3cea93)]!=undefined){if(_0x3ad195['msg'][_0x1458c9(0x1c6)](_0x1458c9(_0x2557c9._0x274237))==![]&_0x3ad195[_0x1458c9(_0x2557c9._0x259055)]==undefined&zt==0x0&_0x3ad195[_0x1458c9(_0x2557c9._0x3cea93)][_0x1458c9(0x1c6)](_0x1458c9(_0x2557c9._0x3be88c))==![]&mfkg==0x0)return![];}mfkg==0x0&_0x3ad195[_0x1458c9(0x1c2)]==_0x1458c9(0x21d)&&(mfkg=0x1,mfid=_0x3ad195[_0x1458c9(_0x2557c9._0x19c446)],_0x3ad195[_0x1458c9(_0x2557c9._0x1024cf)](_0x1458c9(0x1ee)),mf=setTimeout(()=>{const _0x4ea379=_0x1458c9;if(mfkg==0x1){mfkg=0x0,_0x3ad195[_0x4ea379(_0x386c45._0x4574ff)](_0x4ea379(_0x386c45._0x46b187));return;}},0x3a98));if(_0x3ad195['img']!=undefined&mfkg==0x1&mfid==_0x3ad195[_0x1458c9(_0x2557c9._0x19c446)]){clearTimeout(mf),_0x3ad195[_0x1458c9(_0x2557c9._0x1024cf)](_0x1458c9(_0x2557c9._0x5f24ec)),mfkg=0x0,mfid='';let _0x1bee8b='https://xiaobapi.top/api/xb/api/upload_image_tags.php?url=';console[_0x1458c9(0x16e)](_0x3ad195['img']),_0x1bee8b=_0x1bee8b+_0x3ad195[_0x1458c9(0x164)][0x0],res=await _0x489916(_0x1bee8b,{'method':_0x1458c9(0x1d8),'headers':{'Content-Type':'application/json','User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36'}});let _0x33f1e4=await res[_0x1458c9(_0x2557c9._0x1f3818)]();console[_0x1458c9(_0x2557c9._0x1c468d)](_0x1458c9(_0x2557c9._0x5c3c49)+_0x33f1e4),console[_0x1458c9(0x16e)](_0x33f1e4);if(_0x33f1e4!=undefined)_0x3ad195[_0x1458c9(_0x2557c9._0x1024cf)](_0x33f1e4[_0x1458c9(0x189)],!![]),_0x33f1e4[_0x1458c9(0x15c)]==-0x1&&(_0x3ad195[_0x1458c9(_0x2557c9._0x1024cf)]('访问失败了,QAQ,TvT'),mfkg=0x0,mfid='');else{}}if(_0x3ad195[_0x1458c9(_0x2557c9._0x259055)]==undefined&zt==0x1)return![];if(_0x3ad195[_0x1458c9(0x164)]==undefined&_0x3ad195[_0x1458c9(0x1c2)]!=undefined){dqpz();if(_0x3ad195[_0x1458c9(0x1c2)][_0x1458c9(_0x2557c9._0x56bf1f)]('#以图生草相似度')&_0x3ad195[_0x1458c9(0x193)]){xsd=Number(_0x3ad195[_0x1458c9(0x1c2)]['replace'](/#以图生草相似度/g,'')['trim']())/0x64,_0x3ad195[_0x1458c9(_0x2557c9._0x1e33af)](_0x1458c9(0x1d5)+String(xsd)),console[_0x1458c9(_0x2557c9._0x1c468d)](xsd);return;}if(_0x3ad195[_0x1458c9(0x1c2)][_0x1458c9(_0x2557c9._0x2116a4)]('#以图生草降噪')&_0x3ad195[_0x1458c9(_0x2557c9._0x1ed5a5)]){jz=Number(_0x3ad195[_0x1458c9(_0x2557c9._0x3cea93)]['replace'](/#以图生草降噪/g,'')['trim']())/0x64,_0x3ad195['reply'](_0x1458c9(0x224)+String(jz)),console['log'](jz);return;}if(zt==0x0&&sc==0x0&&_0x3ad195['msg'][_0x1458c9(0x1c6)](_0x1458c9(_0x2557c9._0x3bb99f))){if(_0x3ad195[_0x1458c9(_0x2557c9._0x13d9a2)]){_0x3ad195[_0x1458c9(0x1b4)](_0x1458c9(_0x2557c9._0x4c8a50));return;}dqpz();let _0x2a9ac2='';try{_0x2a9ac2=_0x403858[_0x1458c9(0x212)]('./resources/th2.txt');}catch{_0x3ad195[_0x1458c9(_0x2557c9._0x1e33af)](_0x1458c9(0x1e3));return;}_0x2a9ac2=_0x2a9ac2[_0x1458c9(0x15b)]();let _0x5b4502=_0x472209[_0x1458c9(0x190)](_0x403858[_0x1458c9(_0x2557c9._0x235929)](_0x1458c9(0x1bc),'utf8'));_0x5b4502=_0x5b4502['masterQQ'][0x0];try{let _0x3aaf8d=_0x1458c9(_0x2557c9._0x566fd6)+_0x2a9ac2+'&qq='+String(_0x5b4502);res=await _0x489916(_0x3aaf8d),console[_0x1458c9(0x16e)]('访问成功了');}catch(_0x2a6569){console[_0x1458c9(0x16e)](_0x2a6569),console['log'](_0x1458c9(0x1ad));}res=await res[_0x1458c9(0x18c)]();if(res[_0x1458c9(_0x2557c9._0x50562d)](_0x1458c9(_0x2557c9._0x324ed9))==![]){_0x3ad195[_0x1458c9(0x1b4)](_0x1458c9(_0x2557c9._0x4e0a71)),console[_0x1458c9(0x16e)](res);return;}console[_0x1458c9(_0x2557c9._0x1c468d)](_0x1458c9(_0x2557c9._0x2e9326)),id=_0x3ad195['user_id'],chang=0x200,kuan=0x200,gjc2=_0x3ad195[_0x1458c9(_0x2557c9._0x3cea93)]['replace'](/#以图生草/g,'')[_0x1458c9(_0x2557c9._0x202ff9)]();_0x3ad195['msg']['includes'](_0x1458c9(0x1b1))&&(chang=0x300,kuan=0x200,gjc2=_0x3ad195[_0x1458c9(_0x2557c9._0x471520)][_0x1458c9(0x1d6)](/#以图生草长图/g,'')['trim']());_0x3ad195[_0x1458c9(0x1c2)]['includes']('以图生草宽图')&&(chang=0x200,kuan=0x300,gjc2=_0x3ad195[_0x1458c9(0x1c2)][_0x1458c9(_0x2557c9._0x390ecf)](/#以图生草宽图/g,'')['trim']());gjc2=_0x3ad195[_0x1458c9(_0x2557c9._0x3cea93)][_0x1458c9(0x1d6)](/#以图生草/g,'')[_0x1458c9(0x1f5)]();_0x3ad195[_0x1458c9(0x1c2)]['includes'](_0x1458c9(_0x2557c9._0x4f6ddb))&&(chang=0x300,kuan=0x200,gjc2=_0x3ad195[_0x1458c9(0x1c2)][_0x1458c9(0x1d6)](/#以图生草长图/g,'')[_0x1458c9(_0x2557c9._0x40d8e2)]());_0x3ad195[_0x1458c9(_0x2557c9._0x471520)][_0x1458c9(_0x2557c9._0x56bf1f)](_0x1458c9(0x21b))&&(chang=0x200,kuan=0x300,gjc2=_0x3ad195[_0x1458c9(_0x2557c9._0x1d9f1e)][_0x1458c9(0x1d6)](/#以图生草宽图/g,'')[_0x1458c9(_0x2557c9._0x3d247f)]());var _0x2486f8=new RegExp(_0x1458c9(_0x2557c9._0x31b4c2),'g');if(_0x2486f8[_0x1458c9(0x1e7)](gjc2)){console[_0x1458c9(_0x2557c9._0x14cca8)]('包含中文');let _0x4cfbf2=_0x1458c9(_0x2557c9._0x5f315a)+gjc2,_0x4c1c21=await _0x489916(_0x4cfbf2),_0x165032=await _0x4c1c21[_0x1458c9(0x18c)]();_0x165032=_0x165032[_0x1458c9(_0x2557c9._0x4f6498)](/有道翻译查询结果/g,'')[_0x1458c9(_0x2557c9._0x7ea07e)](),_0x165032=_0x165032[_0x1458c9(_0x2557c9._0x282a76)](/翻译后/g,'')[_0x1458c9(_0x2557c9._0x3d247f)](),_0x165032=_0x165032[_0x1458c9(0x1d6)](/翻译前/g,'')[_0x1458c9(0x1f5)](),_0x165032=_0x165032[_0x1458c9(0x1d6)](/：/g,'')[_0x1458c9(0x1f5)](),_0x165032=_0x165032['replace'](new RegExp(gjc2,'g'),''),gjc2=_0x165032,console[_0x1458c9(0x16e)](gjc2);}else console[_0x1458c9(_0x2557c9._0x1c468d)](_0x1458c9(0x1b2));zt=0x1,ycqx=setTimeout(()=>{const _0x16ef66=_0x1458c9;if(zt==0x1){zt=0x0,_0x3ad195[_0x16ef66(_0x41689c._0x21a53c)](_0x16ef66(0x187));return;}},0x7530),_0x3ad195['reply']([segment['at'](id),_0x1458c9(0x188)]);return;}}if(sc==0x0&_0x3ad195[_0x1458c9(0x1df)]&zt==0x1&_0x3ad195['img']!=undefined){clearTimeout(ycqx);if(_0x3ad195[_0x1458c9(_0x2557c9._0x1f7aed)]==id&zt==0x1){sc=0x1;let _0x47b378=await imgUrlToBase64(_0x3ad195['img'][0x0][_0x1458c9(_0x2557c9._0x1d618d)](/https/g,_0x1458c9(_0x2557c9._0x5519ee))[_0x1458c9(0x1f5)]()),_0x547bbe=_0x47b378['base64Img'],_0x58ce8f=Math[_0x1458c9(0x1fe)](Math[_0x1458c9(0x220)]()*0xb6cff090);var _0x4178b9={'init_images':[_0x1458c9(0x18e)+_0x547bbe],'resize_mode':0x2,'denoising_strength':0x1-xsd,'mask_blur':0x4,'inpainting_fill':0x0,'inpaint_full_res':!![],'inpaint_full_res_padding':0x0,'inpainting_mask_invert':0x0,'prompt':gjc2,'styles':[_0x1458c9(_0x2557c9._0x367fdf)],'seed':-0x1,'subseed':-0x1,'subseed_strength':0x0,'seed_resize_from_h':-0x1,'seed_resize_from_w':-0x1,'sampler_name':_0x1458c9(_0x2557c9._0x367fdf),'batch_size':0x1,'n_iter':0x1,'steps':0x32,'cfg_scale':guimo+0x2,'width':kuan,'height':chang,'restore_faces':![],'tiling':![],'negative_prompt':pc,'eta':0x0,'s_churn':0x0,'s_tmax':0x0,'s_tmin':0x0,'s_noise':0x1,'override_settings':{},'sampler_index':_0x1458c9(0x198),'include_init_images':![]};_0x3ad195[_0x1458c9(0x1b4)](_0x1458c9(0x228)),zt=0x0;try{res=await _0x489916(_0x1458c9(_0x2557c9._0x4432e3),{'method':_0x1458c9(_0x2557c9._0x244f45),'body':JSON[_0x1458c9(0x1ab)](_0x4178b9),'headers':{'Content-Type':'application/json','User-Agent':_0x1458c9(0x19b)}});}catch(_0x50443f){console[_0x1458c9(0x16e)](_0x50443f),console[_0x1458c9(0x16e)](_0x1458c9(_0x2557c9._0x568757)),kg=0x0;return;}let _0xa3863b=await res[_0x1458c9(_0x2557c9._0x3c6833)]();_0xa3863b=_0xa3863b[_0x1458c9(0x227)],_0x3ad195[_0x1458c9(0x1b4)](_0x1458c9(_0x2557c9._0x2eeb47)),await _0x403858[_0x1458c9(_0x2557c9._0x1cf888)](_0x1458c9(0x205),_0xa3863b['toString'](),_0x1458c9(_0x2557c9._0x1985a2),_0x5cc154=>{const _0x4f1971=_0x1458c9;_0x5cc154?console[_0x4f1971(_0x5efca7._0x1a8b3d)](_0x4f1971(_0x5efca7._0x326581)):console[_0x4f1971(0x16e)](_0x4f1971(0x17f));}),await sleep(0x1f4),msg2=[segment['at'](_0x3ad195['user_id']),segment[_0x1458c9(0x1d9)](ml+_0x1458c9(0x1ae))],await sleep(0x1f4),iscd=0x0,sc=0x0,id='';let _0x4d4140=await _0x3ad195[_0x1458c9(_0x2557c9._0x36bc4c)](msg2);iscd=0x1,console[_0x1458c9(_0x2557c9._0x14cca8)](_0x4d4140[_0x1458c9(_0x2557c9._0x33dd31)],isch);if(_0x4d4140&&_0x4d4140['message_id']&&isch==0x1&&_0x3ad195['isGroup']){let _0x823fb3=_0x3ad195[_0x1458c9(0x161)];setTimeout(()=>{_0x823fb3['recallMsg'](_0x4d4140['message_id']);},timeout);}startTimeMS=new Date()[_0x1458c9(_0x2557c9._0x448fda)](),t=setTimeout(()=>{iscd=0x0,sc=0x0,id='';},cd);}}else{if(_0x3ad195[_0x1458c9(0x164)]==undefined&_0x3ad195['msg']!=undefined){if(_0x3ad195['msg']['includes'](_0x1458c9(_0x2557c9._0x274237))){if(iscd==0x1){console[_0x1458c9(_0x2557c9._0x38c440)](iscd);let _0x51798e=cd-(new Date()['getTime']()-startTimeMS);_0x51798e=Math[_0x1458c9(_0x2557c9._0x564f23)](_0x51798e/0x3e8);if(_0x51798e<0x0){sc=0x0,id='';return;}_0x3ad195[_0x1458c9(_0x2557c9._0x1024cf)]('我在cd中，还有'+String(_0x51798e)+_0x1458c9(0x167));}else _0x3ad195[_0x1458c9(0x1b4)]('正在生草中，我知道你很急，先别急');}}}}async[_0x165d04(0x168)](_0x373c21){const _0x7b4877={_0xe08dea:0x1b7,_0x2bebd2:0x1b4,_0x45ad7b:0x1c2,_0x922e0a:0x1c6,_0x3f2b7b:0x1f5,_0x58f4d7:0x193,_0x27c1ab:0x1b4,_0x3651f9:0x158,_0x4a6a80:0x19f,_0x4f00ea:0x16e,_0x57a7fd:0x18c,_0x2fd7ed:0x1d6,_0x768733:0x1d6,_0x38c8c0:0x1b2,_0x4590f4:0x1c2,_0x46ef57:0x1f5,_0xf99e59:0x229,_0x480388:0x1a7,_0x502fe2:0x1b4,_0x2796f1:0x191,_0x4b973d:0x1b4,_0x39b1fc:0x1ca,_0xe7869a:0x1fe,_0x2df907:0x1ef,_0x3b0b1a:0x198,_0x2f1530:0x17b,_0x41fa41:0x20b,_0x74cf30:0x15b,_0x256b6f:0x159,_0x34d1f9:0x190,_0x579cf5:0x212,_0x195695:0x1bc,_0x52bdc4:0x1c4,_0x1f5a58:0x1ce,_0x12829c:0x16e,_0x431a7a:0x1b4,_0x42af2e:0x227,_0x4514a5:0x21c,_0x230e23:0x1d2,_0x451a16:0x1c9,_0x59d7f0:0x1c9,_0x564354:0x182},_0x5b4419={_0x28a174:0x157},_0x522a90={_0x380c2c:0x1e7},_0x4f6382=_0x165d04;dqpz();if(_0x373c21['msg'][_0x4f6382(0x1c6)](_0x4f6382(_0x7b4877._0xe08dea))&!_0x373c21['isMaster']){_0x373c21[_0x4f6382(_0x7b4877._0x2bebd2)](_0x4f6382(0x21f));return;}let _0x14f4c1,_0x279696,_0xea6d7e;_0x373c21[_0x4f6382(_0x7b4877._0x45ad7b)][_0x4f6382(_0x7b4877._0x922e0a)](_0x4f6382(0x1b7))==![]&&(_0xea6d7e=_0x373c21[_0x4f6382(0x1c2)][_0x4f6382(0x1d6)](/#绘个图/g,'')[_0x4f6382(_0x7b4877._0x3f2b7b)]());if(kg2==0x0&_0x373c21[_0x4f6382(0x1df)]|_0x373c21[_0x4f6382(_0x7b4877._0x58f4d7)]){kg2==0x1&&_0x373c21[_0x4f6382(_0x7b4877._0x27c1ab)](_0x4f6382(_0x7b4877._0x3651f9));if(zr==0x1&!_0x373c21[_0x4f6382(0x193)]){_0x373c21[_0x4f6382(0x1b4)](_0x4f6382(0x197));return;}kg2=0x1;let _0x3465d7=_0xea6d7e;var _0x4b5650=new RegExp(_0x4f6382(_0x7b4877._0x4a6a80),'g');if(_0x4b5650['test'](_0x3465d7)){console[_0x4f6382(_0x7b4877._0x4f00ea)](_0x4f6382(0x174));let _0x6c565d='https://api.sdgou.cc/api/fanyi/?msg='+_0x3465d7,_0x32f270=await _0x489916(_0x6c565d),_0x412971=await _0x32f270[_0x4f6382(_0x7b4877._0x57a7fd)]();_0x412971=_0x412971[_0x4f6382(_0x7b4877._0x2fd7ed)](/有道翻译查询结果/g,'')[_0x4f6382(_0x7b4877._0x3f2b7b)](),_0x412971=_0x412971[_0x4f6382(0x1d6)](/翻译后/g,'')[_0x4f6382(0x1f5)](),_0x412971=_0x412971[_0x4f6382(_0x7b4877._0x768733)](/翻译前/g,'')[_0x4f6382(0x1f5)](),_0x412971=_0x412971[_0x4f6382(_0x7b4877._0x2fd7ed)](/：/g,'')[_0x4f6382(0x1f5)](),_0x412971=_0x412971['replace'](new RegExp(_0x3465d7,'g'),''),res4=_0x412971,console[_0x4f6382(_0x7b4877._0x4f00ea)](res4);}else console['log'](_0x4f6382(_0x7b4877._0x38c8c0)),res4=_0x3465d7;let _0x3935bf,_0x465fd5;if(_0x373c21[_0x4f6382(_0x7b4877._0x4590f4)]['includes']('#土块画图预设')&_0x373c21['isMaster']){_0x279696=_0x373c21[_0x4f6382(_0x7b4877._0x4590f4)]['replace'](/#土块画图预设/g,'')[_0x4f6382(_0x7b4877._0x46ef57)]();let _0x3336ea=ml+_0x4f6382(_0x7b4877._0xf99e59);await _0x403858[_0x4f6382(0x1cf)](_0x3336ea,(_0x5db749,_0x45a323)=>{const _0x413485=_0x4f6382;_0x14f4c1=JSON[_0x413485(0x190)](_0x45a323[_0x413485(0x15b)]()),_0x465fd5=_0x14f4c1['shuju'];var _0x43b0ff=new RegExp('[\x5cu4E00-\x5cu9FFF]+','g');if(_0x43b0ff[_0x413485(_0x522a90._0x380c2c)](_0x279696))console[_0x413485(0x16e)]('预设包含中文'),_0x3935bf=_0x465fd5[_0x413485(0x178)](_0x57c60b=>_0x57c60b[_0x413485(0x1f4)]==_0x279696);else{_0x3935bf=Number(_0x279696)-0x1;if(_0x3935bf>_0x465fd5[_0x413485(0x181)]){_0x3935bf=-0x1;return;}}}),await sleep(0x1f4),console[_0x4f6382(0x16e)](_0x3935bf);if(_0x3935bf!=-0x1)res4=_0x465fd5[_0x3935bf][_0x4f6382(_0x7b4877._0x480388)];else{_0x373c21[_0x4f6382(_0x7b4877._0x502fe2)](_0x4f6382(_0x7b4877._0x2796f1));return;}}await sleep(0x1f4),_0x373c21[_0x4f6382(_0x7b4877._0x4b973d)](_0x4f6382(_0x7b4877._0x39b1fc));let _0x488b79=Math[_0x4f6382(_0x7b4877._0xe7869a)](Math['random']()*0x2);_0x488b79==0x0&&(changdu=0x200,kuandu=0x300);_0x488b79==0x1&&(changdu=0x300,kuandu=0x200);console[_0x4f6382(0x16e)](_0x488b79);var _0x4726a9=_0x4f6382(0x199),_0x229f74=[res4,pc,_0x4f6382(_0x7b4877._0x2df907),_0x4f6382(_0x7b4877._0x2df907),0x14,_0x4f6382(_0x7b4877._0x3b0b1a),![],![],0x1,0x1,0x7,-0x1,-0x1,0x0,0x0,0x0,![],changdu,kuandu,![],![],0.7,_0x4f6382(0x1ef),![],![],null,'','Seed','',_0x4f6382(0x1dc),'',!![],![],null,'',''],_0x2590e6=[res4,pc,'None','None',0x1c,'Euler\x20a',![],![],0x1,0x1,0xb,-0x1,-0x1,0x0,0x0,0x0,![],0x200,0x200,![],![],0.7,_0x4f6382(0x1ef),![],![],null,'',_0x4f6382(0x1c5),'',_0x4f6382(0x1dc),'',!![],![],null,'',''];let _0x1f1b8d=_0x4f6382(_0x7b4877._0x2f1530),_0x77bc7d=Math['floor'](Math['random']()*0xb6cff090),_0x452370=_0x4f6382(0x16c)+moxing+_0x4f6382(_0x7b4877._0x41fa41)+guimo[_0x4f6382(_0x7b4877._0x74cf30)]()+_0x4f6382(0x196)+bushu[_0x4f6382(0x15b)]()+_0x4f6382(0x1c0)+_0x77bc7d['toString'](),_0x489452='';try{_0x489452=_0x403858['readFileSync'](_0x4f6382(_0x7b4877._0x256b6f));}catch{_0x373c21['reply'](_0x4f6382(0x1e3));return;}_0x489452=_0x489452[_0x4f6382(0x15b)]();let _0x5c826d=_0x472209[_0x4f6382(_0x7b4877._0x34d1f9)](_0x403858[_0x4f6382(_0x7b4877._0x579cf5)](_0x4f6382(_0x7b4877._0x195695),'utf8'));_0x5c826d=_0x5c826d[_0x4f6382(0x1f0)][0x0];try{let _0x53b07c=_0x4f6382(0x179)+_0x489452+_0x4f6382(_0x7b4877._0x52bdc4)+String(_0x5c826d);res=await _0x489916(_0x53b07c),console[_0x4f6382(_0x7b4877._0x4f00ea)](_0x4f6382(_0x7b4877._0x1f5a58));}catch(_0x1b724a){console[_0x4f6382(_0x7b4877._0x4f00ea)](_0x1b724a),console[_0x4f6382(_0x7b4877._0x12829c)](_0x4f6382(0x1ad));}res=await res[_0x4f6382(_0x7b4877._0x57a7fd)]();if(res[_0x4f6382(0x1c6)]('可以访问')==![]){_0x373c21[_0x4f6382(_0x7b4877._0x431a7a)]('很抱歉，你的密钥错误，不能生草'),console[_0x4f6382(0x16e)](res);return;}let _0xacc4cf=await _0x489916('https://www.tukuai.one//ht.php',{'method':_0x4f6382(0x1cc),'headers':{'Content-Type':_0x4f6382(0x200),'authorization':_0x4f6382(0x177)},'body':JSON[_0x4f6382(0x1ab)]({'prompt':'masterpiece,\x20best\x20quality,'+res4,'width':kuandu,'height':changdu,'cfg_scale':guimo,'sampler':_0x4f6382(0x198),'steps':0x17,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0xacc4cf['json'](),_0x373c21[_0x4f6382(0x1b4)](_0x4f6382(0x1db)),res=res4[_0x4f6382(_0x7b4877._0x42af2e)][0x0],await _0x403858['writeFile'](_0x4f6382(_0x7b4877._0x4514a5),res[_0x4f6382(_0x7b4877._0x74cf30)](),_0x4f6382(_0x7b4877._0x230e23),_0xa05edf=>{const _0x34c453=_0x4f6382;if(_0xa05edf)console['log'](_0x34c453(_0x5b4419._0x28a174));else{}});iscanshu==0x0&&(_0x452370='');await sleep(0x1f4),msg2=[segment[_0x4f6382(0x1d9)](_0x4f6382(0x21c)),_0x452370];let _0x263946=await _0x373c21[_0x4f6382(0x1b4)](msg2,ishuifu);iscd=0x1,console[_0x4f6382(_0x7b4877._0x4f00ea)](_0x263946[_0x4f6382(_0x7b4877._0x451a16)],isch);if(_0x263946&&_0x263946[_0x4f6382(_0x7b4877._0x59d7f0)]&&isch==0x1&&_0x373c21[_0x4f6382(0x1df)]){let _0x56f2ea=_0x373c21[_0x4f6382(0x161)];setTimeout(()=>{const _0x26e022=_0x4f6382;_0x56f2ea[_0x26e022(0x213)](_0x263946[_0x26e022(0x1c9)]);},timeout);}startTimeMS=new Date()[_0x4f6382(0x1c1)](),t=setTimeout(()=>{kg2=0x0,iscd=0x0;},cd);}else{if(iscd==0x1){let _0x163a68=cd-(new Date()['getTime']()-startTimeMS);_0x163a68=Math[_0x4f6382(0x206)](_0x163a68/0x3e8);if(_0x163a68<0x0){kg2=0x0;return;}_0x373c21[_0x4f6382(_0x7b4877._0x4b973d)]('我在cd中，还有'+String(_0x163a68)+_0x4f6382(0x167));}else _0x373c21[_0x4f6382(0x1b4)](_0x4f6382(_0x7b4877._0x564354));}}}async function imgUrlToBase64(_0x3327cf){const _0x3fcf0a={_0x5e9c74:0x1d8,_0x1680f5:0x1a3};let _0x467d04;return new Promise(function(_0x389d45,_0xa38a99){const _0x293ae9={_0xf7738e:0x1f8,_0x3af909:0x15b,_0x27e9bd:0x1d2},_0x43336a=_0x5e09;let _0x3a1805=http[_0x43336a(_0x3fcf0a._0x5e9c74)](_0x3327cf,function(_0x55315b){const _0x1c7dd1=_0x43336a;var _0x46eefd=[],_0xc5f25a=0x0;_0x55315b['on'](_0x1c7dd1(0x201),function(_0x80479a){const _0x221fde=_0x1c7dd1;_0x46eefd[_0x221fde(0x1e0)](_0x80479a),_0xc5f25a+=_0x80479a[_0x221fde(0x181)];}),_0x55315b['on']('end',function(_0x39bffa){const _0x3d1f51=_0x1c7dd1;var _0x5d4534=Buffer[_0x3d1f51(_0x293ae9._0xf7738e)](_0x46eefd,_0xc5f25a);_0x467d04=_0x5d4534[_0x3d1f51(_0x293ae9._0x3af909)](_0x3d1f51(_0x293ae9._0x27e9bd)),_0x389d45({'success':!![],'base64Img':_0x467d04});});});_0x3a1805['on'](_0x43336a(0x16a),_0x4a86b7=>{const _0x3b32c5=_0x43336a;_0x389d45({'success':![],'errmsg':_0x4a86b7[_0x3b32c5(0x163)]});}),_0x3a1805[_0x43336a(_0x3fcf0a._0x1680f5)]();});}function sleep(_0x2b28e1){return new Promise(_0x4465d2=>setTimeout(_0x4465d2,_0x2b28e1));}async function dqpz(){const _0x38691c={_0x5ddbc9:0x1cf},_0x208dd6={_0x262b0a:0x207,_0x1e421d:0x16e},_0x4d5f47=_0x165d04;Path=ml+'/plugins/earth-k-plugin/resources/pz/pz.txt',await _0x403858[_0x4d5f47(_0x38691c._0x5ddbc9)](Path,(_0xa5fdb9,_0x4250e5)=>{const _0x4594e2=_0x4d5f47;nr=_0x4250e5['toString'](),nr=nr[_0x4594e2(_0x208dd6._0x262b0a)](','),cd=nr[0x0],timeout=nr[0x1],isch=nr[0x2],iscd=nr[0x3],console[_0x4594e2(_0x208dd6._0x1e421d)](cd,timeout,isch,iscd);}),await sleep(0x1f4);}async function getAgent(){const _0x18b85d={_0x2b06c3:0x217},_0x42cbd7=_0x165d04;let _0x23d5b7=_0x4a0419['bot'][_0x42cbd7(0x214)];if(!_0x23d5b7)return null;if(_0x23d5b7===_0x42cbd7(0x1cd))return null;HttpsProxyAgent===''&&(HttpsProxyAgent=await import(_0x42cbd7(0x175))['catch'](_0x55af44=>{const _0x64f4dd=_0x42cbd7;logger[_0x64f4dd(0x16a)](_0x55af44);}),HttpsProxyAgent=HttpsProxyAgent?HttpsProxyAgent[_0x42cbd7(_0x18b85d._0x2b06c3)]:undefined);if(HttpsProxyAgent)return new HttpsProxyAgent(_0x23d5b7);return null;}
const _0x39fb6b=_0x349a;(function(_0x1c8db3,_0x2a0b12){const _0x33faf6={_0x44c18d:0x283,_0x2dd524:0x1eb,_0x512a2c:0x1f9,_0x1a73e4:0x1d1,_0x22cdfd:0x194,_0x1f29c0:0x1a4},_0x22e155=_0x349a,_0x230671=_0x1c8db3();while(!![]){try{const _0x17e32f=-parseInt(_0x22e155(0x1f7))/0x1+parseInt(_0x22e155(_0x33faf6._0x44c18d))/0x2*(-parseInt(_0x22e155(0x191))/0x3)+-parseInt(_0x22e155(0x294))/0x4*(parseInt(_0x22e155(0x278))/0x5)+-parseInt(_0x22e155(_0x33faf6._0x2dd524))/0x6*(-parseInt(_0x22e155(0x243))/0x7)+-parseInt(_0x22e155(_0x33faf6._0x512a2c))/0x8*(parseInt(_0x22e155(0x1bb))/0x9)+parseInt(_0x22e155(_0x33faf6._0x1a73e4))/0xa*(-parseInt(_0x22e155(_0x33faf6._0x22cdfd))/0xb)+parseInt(_0x22e155(_0x33faf6._0x1f29c0))/0xc;if(_0x17e32f===_0x2a0b12)break;else _0x230671['push'](_0x230671['shift']());}catch(_0x3603d4){_0x230671['push'](_0x230671['shift']());}}}(_0x58cf,0xd7c32));import{segment}from'oicq';import _0xf2bf18 from'node-fetch';import _0xa507b0 from'image-size';import _0x53d04d from'fs';import _0x1a4592 from'../../../lib/config/config.js';import{getdsc}from'../../../plugins/earth-k-plugin/resources/getecy.js';import _0x15064b from'../../../lib/puppeteer/puppeteer.js';let data1={};import{createRequire}from'module';function _0x349a(_0x31acd0,_0x2c460c){const _0x58cf40=_0x58cf();return _0x349a=function(_0x349a76,_0x3c56fa){_0x349a76=_0x349a76-0x172;let _0x3bb356=_0x58cf40[_0x349a76];return _0x3bb356;},_0x349a(_0x31acd0,_0x2c460c);}import _0x3e3085 from'yaml';const require=createRequire(import.meta[_0x39fb6b(0x239)]);let ysct,mf,mfkg=0x0,tpjc='',jsss=0x0,ml=process[_0x39fb6b(0x21c)]();var http=require(_0x39fb6b(0x1a6));import _0x2e306a from'lodash';let yushekg=0x0,kg=0x0,guimo=5.5,kg2=0x0,mfid='',res4,htm='',htm2='',res5,res,zr=0x0,changdu=0x200,kuandu=0x200,msg2,timeout=0x7530,isch=0x1,cd=0x0,t,startTimeMS,iscd=0x0,my,dz,sj1,sj2,shuju,zt=0x0,gjc2,sc=0x0,bushu=0x1c,id='',xsd=0.5,nr,ycqx,jz=0.2,ss=0x1,txtdz=_0x39fb6b(0x1e4),imgdz=_0x39fb6b(0x1bd),Path,ys=[],moxing=_0x39fb6b(0x19d),isdl=0x0,iscanshu=0x1,ishuifu=!![],HttpsProxyAgent='',chang,kuan,pc=_0x39fb6b(0x258);export class aiht extends plugin{constructor(){const _0x28a58e={_0x2f8b1d:0x1ef,_0x3876eb:0x229,_0x1a876b:0x1c2,_0x1520c6:0x1b2,_0x298134:0x25e,_0xdd620:0x179,_0x599dfe:0x21d,_0x2ac94c:0x26f,_0x291929:0x29b,_0xcb6857:0x20e,_0x352eb2:0x1f5,_0x168aba:0x22d,_0x2ef311:0x181,_0x176506:0x1b7,_0xa956d1:0x247,_0x180c0a:0x271},_0x35c91e=_0x39fb6b;super({'name':'土块AI画图','dsc':_0x35c91e(0x22f),'event':_0x35c91e(0x1a1),'priority':0x479,'rule':[{'reg':_0x35c91e(_0x28a58e._0x2f8b1d),'fnc':_0x35c91e(_0x28a58e._0x3876eb)},{'reg':_0x35c91e(0x248),'fnc':_0x35c91e(_0x28a58e._0x1a876b)},{'reg':_0x35c91e(0x193),'fnc':_0x35c91e(0x20f)},{'reg':_0x35c91e(0x18c),'fnc':_0x35c91e(0x277),'log':![]},{'reg':_0x35c91e(0x284),'fnc':_0x35c91e(0x206),'log':![]},{'reg':_0x35c91e(_0x28a58e._0x1520c6),'fnc':_0x35c91e(_0x28a58e._0x298134)},{'reg':_0x35c91e(_0x28a58e._0xdd620),'fnc':_0x35c91e(_0x28a58e._0x599dfe)},{'reg':_0x35c91e(_0x28a58e._0x2ac94c),'fnc':'szbs'},{'reg':_0x35c91e(0x285),'fnc':_0x35c91e(0x207)},{'reg':'^#填写密钥(.*)','fnc':_0x35c91e(_0x28a58e._0x291929)},{'reg':_0x35c91e(_0x28a58e._0xcb6857),'fnc':'ckmx'},{'reg':'^#我的二次元','fnc':_0x35c91e(_0x28a58e._0x352eb2)},{'reg':_0x35c91e(_0x28a58e._0x168aba),'fnc':_0x35c91e(0x24e)},{'reg':_0x35c91e(_0x28a58e._0x2ef311),'fnc':_0x35c91e(0x189)},{'reg':_0x35c91e(_0x28a58e._0x176506),'fnc':_0x35c91e(0x1d4)},{'reg':_0x35c91e(_0x28a58e._0xa956d1),'fnc':_0x35c91e(_0x28a58e._0x180c0a)},{'reg':_0x35c91e(0x187),'fnc':_0x35c91e(0x27b)}]});}async[_0x39fb6b(0x27b)](_0x28633a){const _0x2dfbde={_0x47688f:0x233,_0x4e1742:0x209,_0x599152:0x1e4,_0x5b6603:0x197,_0x20395d:0x20a,_0x30e96f:0x26b},_0x326428=_0x39fb6b;_0x28633a[_0x326428(_0x2dfbde._0x47688f)]==_0x326428(0x1c1)&_0x28633a[_0x326428(0x1a5)]==_0x326428(0x1ab)&&(txtdz=_0x326428(_0x2dfbde._0x4e1742),imgdz='http://129.204.194.34:7860/sdapi/v1/img2img',_0x28633a[_0x326428(0x20a)]('切换接口0成功')),_0x28633a[_0x326428(0x233)]=='#切换接口1'&_0x28633a['isMaster']&&(txtdz=_0x326428(_0x2dfbde._0x599152),imgdz=_0x326428(0x1bd),_0x28633a[_0x326428(0x20a)](_0x326428(_0x2dfbde._0x5b6603))),_0x28633a[_0x326428(_0x2dfbde._0x47688f)]=='#切换接口2'&_0x28633a['isMaster']&&(txtdz='http://81.70.88.192:7860/sdapi/v1/txt2img',imgdz='http://81.70.88.192:7860/sdapi/v1/img2img',_0x28633a[_0x326428(_0x2dfbde._0x20395d)](_0x326428(_0x2dfbde._0x30e96f)));}async[_0x39fb6b(0x271)](_0x38d3d5){const _0x41c7a0={_0x3fc44c:0x282,_0x5779fb:0x214,_0x3fd155:0x238,_0x495940:0x1ac,_0x1a37b3:0x1e6,_0x35eda8:0x1e1,_0xb9155f:0x287,_0x4d0030:0x1a6,_0x109230:0x28a,_0x27b751:0x286,_0x36f1a1:0x184,_0x2bc1e5:0x1e6,_0x1a2fe2:0x1ec,_0x455b49:0x1c3,_0x51f1a5:0x293,_0x56415f:0x227,_0x5d0459:0x21e,_0xfef873:0x20a},_0x34dc55=_0x39fb6b;let _0x1ea27e;if(_0x38d3d5[_0x34dc55(0x1b3)]){_0x38d3d5[_0x34dc55(0x18f)]?_0x1ea27e=(await _0x38d3d5[_0x34dc55(_0x41c7a0._0x3fc44c)]['getChatHistory'](_0x38d3d5['source'][_0x34dc55(0x205)],0x1))[_0x34dc55(_0x41c7a0._0x5779fb)]()?.[_0x34dc55(0x1a1)]:_0x1ea27e=(await _0x38d3d5[_0x34dc55(0x1ed)][_0x34dc55(0x198)](_0x38d3d5[_0x34dc55(0x1b3)][_0x34dc55(0x276)],0x1))[_0x34dc55(_0x41c7a0._0x5779fb)]()?.[_0x34dc55(0x1a1)];if(_0x1ea27e)for(let _0x56a186 of _0x1ea27e){if(_0x56a186[_0x34dc55(_0x41c7a0._0x3fd155)]==_0x34dc55(_0x41c7a0._0x495940)){_0x38d3d5[_0x34dc55(0x1e6)]=[_0x56a186['url']];break;}}}let _0x4fef47;if(!_0x38d3d5[_0x34dc55(_0x41c7a0._0x1a37b3)]){if(!_0x38d3d5[_0x34dc55(0x1e6)]){let _0x23c2a5=_0x38d3d5['at'],_0x49264e='http://q2.qlogo.cn/headimg_dl?dst_uin='+_0x23c2a5+_0x34dc55(_0x41c7a0._0x35eda8);_0x4fef47=await imgUrlToBase64(_0x49264e);}}else _0x4fef47=await imgUrlToBase64(_0x38d3d5['img'][0x0][_0x34dc55(_0x41c7a0._0xb9155f)](/https/g,_0x34dc55(_0x41c7a0._0x4d0030))['trim']());let _0x5d8157=_0x4fef47[_0x34dc55(_0x41c7a0._0x109230)],_0x1bfd6b=_0x34dc55(_0x41c7a0._0x27b751);console[_0x34dc55(_0x41c7a0._0x36f1a1)](_0x38d3d5[_0x34dc55(_0x41c7a0._0x2bc1e5)]);let _0x17e1fb={'fn_index':0x118,'data':[_0x34dc55(_0x41c7a0._0x1a2fe2)+_0x5d8157,'',![],'',_0x34dc55(_0x41c7a0._0x455b49),_0x34dc55(0x176),![],'wd14-vit',0.35,'','',![],![],!![],_0x34dc55(0x260),![],![]],'session_hash':_0x34dc55(_0x41c7a0._0x51f1a5)};res=await _0xf2bf18(_0x1bfd6b,{'method':'post','body':JSON['stringify'](_0x17e1fb),'headers':{'Content-Type':_0x34dc55(_0x41c7a0._0x56415f),'User-Agent':_0x34dc55(0x241)}});let _0x210cb9=await res[_0x34dc55(_0x41c7a0._0x5d0459)]();_0x38d3d5[_0x34dc55(_0x41c7a0._0xfef873)](_0x34dc55(0x268)+_0x210cb9[_0x34dc55(0x29a)][0x0],!![]);}async['txak'](_0xe42a9a){const _0x258d78={_0x42fe3b:0x233,_0x528c43:0x175,_0x37667e:0x18a,_0x1ab761:0x20a,_0x4c2bba:0x1c6,_0x1c1ba8:0x175,_0x27e44b:0x25d,_0x3f0f54:0x287,_0xdefe8e:0x225,_0x3f7f33:0x17f},_0x2b49a2=_0x39fb6b;if(_0xe42a9a[_0x2b49a2(_0x258d78._0x42fe3b)][_0x2b49a2(0x1ae)](_0x2b49a2(0x264))){let _0x518089=_0x3e3085['parse'](_0x53d04d[_0x2b49a2(_0x258d78._0x528c43)](_0x2b49a2(_0x258d78._0x37667e),_0x2b49a2(0x25d))),_0x13cc88=_0xe42a9a[_0x2b49a2(_0x258d78._0x42fe3b)]['replace'](/#填写ak/g,'')[_0x2b49a2(0x26e)]();_0x518089['ak']=_0x13cc88,_0x53d04d[_0x2b49a2(0x225)]('./plugins/earth-k-plugin/config/config.yaml',_0x3e3085[_0x2b49a2(0x17f)](_0x518089)),_0xe42a9a[_0x2b49a2(_0x258d78._0x1ab761)](_0x2b49a2(_0x258d78._0x4c2bba));}if(_0xe42a9a['msg'][_0x2b49a2(0x1ae)](_0x2b49a2(0x183))){let _0x2eb0e3=_0x3e3085[_0x2b49a2(0x292)](_0x53d04d[_0x2b49a2(_0x258d78._0x1c1ba8)](_0x2b49a2(0x18a),_0x2b49a2(_0x258d78._0x27e44b))),_0x4dd160=_0xe42a9a[_0x2b49a2(0x233)][_0x2b49a2(_0x258d78._0x3f0f54)](/#填写sk/g,'')[_0x2b49a2(0x26e)]();_0x2eb0e3['sk']=_0x4dd160,_0x53d04d[_0x2b49a2(_0x258d78._0xdefe8e)]('./plugins/earth-k-plugin/config/config.yaml',_0x3e3085[_0x2b49a2(_0x258d78._0x3f7f33)](_0x2eb0e3)),_0xe42a9a['reply']('填写sk成功');}}async['tsc'](_0x4e01fa){const _0x1ba787={_0x543286:0x1d6,_0x57fbba:0x292,_0x109d5b:0x25d,_0x4598e6:0x272,_0x19247a:0x184,_0x323e4f:0x287,_0x4d11fe:0x26e,_0x4f3ba7:0x233,_0x2d0774:0x221,_0x207244:0x275,_0x59e267:0x213,_0x56cc0d:0x1c4,_0x435ed6:0x219,_0xa50c71:0x233,_0x16d845:0x299,_0x54cd36:0x1b3,_0x49db43:0x214,_0x129382:0x1a1,_0x24bf06:0x238,_0x3471cf:0x1ac,_0xe8fc6e:0x1e6,_0x2513b5:0x1e1,_0x4d8239:0x1d3,_0x222bb6:0x1ea,_0x553437:0x1d8,_0x2df277:0x19e,_0x30fd6f:0x24f,_0x32ce95:0x19d,_0x41dcc7:0x21e,_0x2c1249:0x1d3,_0x163781:0x184,_0x58f602:0x21a,_0x27889e:0x184,_0x1a5c1c:0x17e,_0x5d0f35:0x1f3,_0x53f9e4:0x18d,_0x2c9e41:0x1c5,_0x74ee34:0x1a9,_0x423af0:0x182,_0x15bbcd:0x21a,_0x4d49d2:0x20a,_0x425a0b:0x20a},_0x131a9b={_0x47f147:0x184,_0xc542fd:0x202},_0x531ed6={_0x338081:0x184},_0x442243=_0x39fb6b;dqpz();let _0x2980fc='',_0x2e626b=0.5;try{_0x2980fc=_0x53d04d[_0x442243(0x175)](_0x442243(0x297));}catch{_0x4e01fa[_0x442243(0x20a)](_0x442243(0x203));return;}_0x2980fc=_0x2980fc[_0x442243(_0x1ba787._0x543286)]();let _0x533665=_0x3e3085[_0x442243(_0x1ba787._0x57fbba)](_0x53d04d[_0x442243(0x175)](_0x442243(0x1ce),_0x442243(_0x1ba787._0x109d5b)));_0x533665=_0x533665['masterQQ'][0x0];try{let _0x1b3938=_0x442243(_0x1ba787._0x4598e6)+_0x2980fc+_0x442243(0x1ad)+String(_0x533665);res=await _0xf2bf18(_0x1b3938,{'agent':isdl?await getAgent():''}),console['log'](_0x442243(0x1aa));}catch(_0x2c7b0e){console[_0x442243(0x184)](_0x2c7b0e),console[_0x442243(0x184)]('没有访问成功');}res=await res['text']();if(res[_0x442243(0x1ae)](_0x442243(0x1d9))==![]){_0x4e01fa[_0x442243(0x20a)](_0x442243(0x1e8)),console[_0x442243(_0x1ba787._0x19247a)](res);return;}let _0x5eca9c=_0x4e01fa['msg'][_0x442243(_0x1ba787._0x323e4f)](/#图生草/g,'')[_0x442243(_0x1ba787._0x4d11fe)]();_0x4e01fa[_0x442243(_0x1ba787._0x4f3ba7)]==_0x442243(_0x1ba787._0x2d0774)&&(_0x5eca9c=_0x442243(0x288));_0x4e01fa['msg']==_0x442243(_0x1ba787._0x207244)&&(_0x5eca9c='(black\x20and\x20white:1.1),sketch,wet',_0x2e626b=0.55);_0x4e01fa[_0x442243(_0x1ba787._0x4f3ba7)]==_0x442243(_0x1ba787._0x59e267)&&(_0x5eca9c=_0x442243(_0x1ba787._0x56cc0d));_0x4e01fa['msg']==_0x442243(0x29d)&&(_0x5eca9c=_0x442243(_0x1ba787._0x435ed6));_0x4e01fa[_0x442243(_0x1ba787._0xa50c71)]==_0x442243(_0x1ba787._0x16d845)&&(_0x5eca9c=_0x442243(0x1ca));let _0x65c291;if(_0x4e01fa[_0x442243(0x1b3)]){_0x4e01fa[_0x442243(0x18f)]?_0x65c291=(await _0x4e01fa[_0x442243(0x282)]['getChatHistory'](_0x4e01fa[_0x442243(_0x1ba787._0x54cd36)]['seq'],0x1))[_0x442243(_0x1ba787._0x49db43)]()?.[_0x442243(_0x1ba787._0x129382)]:_0x65c291=(await _0x4e01fa['friend'][_0x442243(0x198)](_0x4e01fa[_0x442243(0x1b3)]['time'],0x1))[_0x442243(_0x1ba787._0x49db43)]()?.[_0x442243(_0x1ba787._0x129382)];if(_0x65c291)for(let _0x208b36 of _0x65c291){if(_0x208b36[_0x442243(_0x1ba787._0x24bf06)]==_0x442243(_0x1ba787._0x3471cf)){_0x4e01fa[_0x442243(_0x1ba787._0xe8fc6e)]=[_0x208b36[_0x442243(0x239)]];break;}}}let _0x1db2fd;if(!_0x4e01fa[_0x442243(_0x1ba787._0xe8fc6e)]){if(!_0x4e01fa[_0x442243(0x1e6)]){let _0x5b1f93=_0x4e01fa['at'],_0x21146f='http://q2.qlogo.cn/headimg_dl?dst_uin='+_0x5b1f93+_0x442243(_0x1ba787._0x2513b5);_0x1db2fd=await imgUrlToBase64(_0x21146f);}}else _0x1db2fd=await imgUrlToBase64(_0x4e01fa[_0x442243(0x1e6)][0x0][_0x442243(_0x1ba787._0x323e4f)](/https/g,_0x442243(0x1a6))[_0x442243(0x26e)]());let _0x5f30b6=_0x1db2fd[_0x442243(0x28a)];_0x53d04d[_0x442243(0x1fc)](_0x442243(0x1dc),_0x5f30b6[_0x442243(0x1d6)](),_0x442243(_0x1ba787._0x4d8239),_0x33ad32=>{const _0x48109c=_0x442243;_0x33ad32?console[_0x48109c(_0x531ed6._0x338081)](_0x48109c(0x202)):console['log']('写入文件成功');}),await sleep(0x1f4);let _0x4395a9=_0xa507b0('./resources/yb.png'),_0x3b240d=_0x4395a9[_0x442243(_0x1ba787._0x222bb6)],_0x42b0e5=_0x4395a9[_0x442243(_0x1ba787._0x553437)];_0x3b240d=Math[_0x442243(0x19e)](_0x3b240d/0x40),_0x42b0e5=Math['floor'](_0x42b0e5/0x40);let _0x502aa1;_0x3b240d>_0x42b0e5&&(_0x502aa1=_0x3b240d/_0x42b0e5,_0x42b0e5=0xc*0x40,_0x3b240d=Math['floor'](0xc*_0x502aa1)*0x40);_0x42b0e5>_0x3b240d&&(_0x502aa1=_0x42b0e5/_0x3b240d,_0x3b240d=0xc*0x40,_0x42b0e5=Math[_0x442243(_0x1ba787._0x2df277)](0xc*_0x502aa1)*0x40);_0x42b0e5==_0x3b240d&&(_0x3b240d=0x300,_0x42b0e5=0x300,_0x502aa1=0x1);console[_0x442243(0x184)](_0x3b240d,_0x42b0e5,_0x502aa1);var _0x5ea9c6={'init_images':[_0x442243(_0x1ba787._0x30fd6f)+_0x5f30b6],'denoising_strength':_0x2e626b,'prompt':_0x5eca9c,'styles':[_0x442243(0x298)],'seed':-0x1,'steps':0x28,'cfg_scale':guimo+0x2,'width':_0x42b0e5,'height':_0x3b240d,'negative_prompt':pc,'sampler_index':_0x442243(_0x1ba787._0x32ce95)};try{res=await _0xf2bf18(imgdz,{'method':_0x442243(0x186),'agent':isdl?await getAgent():'','body':JSON['stringify'](_0x5ea9c6),'headers':{'Content-Type':'application/json','User-Agent':_0x442243(0x241)}});let _0x57aac5=await res[_0x442243(_0x1ba787._0x41dcc7)]();_0x57aac5=_0x57aac5['images'],_0x53d04d[_0x442243(0x1fc)]('./resources/3.jpg',_0x57aac5[_0x442243(0x1d6)](),_0x442243(_0x1ba787._0x2c1249),_0x5013f1=>{const _0x29d474=_0x442243;_0x5013f1?console[_0x29d474(_0x131a9b._0x47f147)](_0x29d474(_0x131a9b._0xc542fd)):console[_0x29d474(0x184)](_0x29d474(0x249));}),await sleep(0x1f4),console[_0x442243(_0x1ba787._0x163781)](ss);ss==0x0&&(await main(_0x442243(_0x1ba787._0x58f602)),console[_0x442243(_0x1ba787._0x27889e)](tpjc));let _0x3f4e99,_0x2ce090=_0x4e01fa[_0x442243(_0x1ba787._0x1a5c1c)]?.[_0x442243(_0x1ba787._0x5d0f35)]?_0x4e01fa['member']['card']:_0x4e01fa[_0x442243(_0x1ba787._0x1a5c1c)]?.[_0x442243(0x29e)];tpjc==_0x442243(_0x1ba787._0x53f9e4)&ss==0x0?(_0x3f4e99=await _0x4e01fa[_0x442243(0x20a)](_0x442243(_0x1ba787._0x2c9e41)),msg2=['报告主人\x0a','昵称：'+_0x2ce090+'('+String(_0x4e01fa['user_id'])+')\x0a',_0x442243(_0x1ba787._0x74ee34)+_0x4e01fa['group'][_0x442243(0x188)]+'('+String(_0x4e01fa[_0x442243(_0x1ba787._0x423af0)])+')\x0a',_0x442243(0x1c8),segment[_0x442243(0x1ac)](_0x442243(0x21a))],Bot['pickUser'](_0x533665)['sendMsg'](msg2)):(msg2=segment[_0x442243(0x1ac)](_0x442243(_0x1ba787._0x15bbcd)),await _0x4e01fa[_0x442243(_0x1ba787._0x4d49d2)](msg2,!![]));}catch(_0x426570){console['log'](_0x426570),console[_0x442243(0x184)]('没有访问成功'),_0x4e01fa[_0x442243(_0x1ba787._0x425a0b)]('服务器正忙，请稍后'),kg=0x0;return;}}async[_0x39fb6b(0x24e)](_0x413d7f){const _0x228629={_0xdc1380:0x20a,_0x3d3819:0x292,_0x162e61:0x272,_0x2d208c:0x1aa,_0x256eca:0x184,_0x460edf:0x1cc,_0x26a4e9:0x20a,_0x3f9b03:0x1e8,_0x1a9e3d:0x282,_0x59a0c7:0x214,_0xd3c8c6:0x1a1,_0x13ce09:0x214,_0x208b65:0x1e6,_0x5b9346:0x239,_0x3e0143:0x1e1,_0x192a88:0x287,_0x37c306:0x26e,_0xd58449:0x28a,_0x424d04:0x1fc,_0x3ebebf:0x1dc,_0x309ccc:0x19e,_0x3e2688:0x19d,_0x2fba2f:0x186,_0x48a19e:0x17f,_0x29c36e:0x227,_0xb6512e:0x196,_0x427874:0x1d6,_0x163868:0x1ac,_0x310f9a:0x1c9,_0x57cf0a:0x184,_0x30f00a:0x216},_0x2c09d3={_0x26c76b:0x184,_0x1d2889:0x249},_0xa4c4ce={_0x2b1926:0x184,_0x3817fa:0x202,_0x692103:0x249},_0x559a6f=_0x39fb6b;dqpz();let _0x5be4a0='';try{_0x5be4a0=_0x53d04d['readFileSync']('./resources/th2.txt');}catch{_0x413d7f[_0x559a6f(_0x228629._0xdc1380)](_0x559a6f(0x203));return;}_0x5be4a0=_0x5be4a0[_0x559a6f(0x1d6)]();let _0x161189=_0x3e3085[_0x559a6f(_0x228629._0x3d3819)](_0x53d04d[_0x559a6f(0x175)](_0x559a6f(0x1ce),'utf8'));_0x161189=_0x161189[_0x559a6f(0x24b)][0x0];try{let _0x1900d4=_0x559a6f(_0x228629._0x162e61)+_0x5be4a0+'&qq='+String(_0x161189);res=await _0xf2bf18(_0x1900d4,{'agent':isdl?await getAgent():''}),console[_0x559a6f(0x184)](_0x559a6f(_0x228629._0x2d208c));}catch(_0xe5ed28){console[_0x559a6f(0x184)](_0xe5ed28),console[_0x559a6f(_0x228629._0x256eca)](_0x559a6f(0x289));}res=await res[_0x559a6f(_0x228629._0x460edf)]();if(res[_0x559a6f(0x1ae)](_0x559a6f(0x1d9))==![]){_0x413d7f[_0x559a6f(_0x228629._0x26a4e9)](_0x559a6f(_0x228629._0x3f9b03)),console['log'](res);return;}_0x413d7f['at']==undefined&&_0x413d7f[_0x559a6f(_0x228629._0xdc1380)](_0x559a6f(0x18e));let _0x59a43a;if(_0x413d7f[_0x559a6f(0x1b3)]){_0x413d7f['isGroup']?_0x59a43a=(await _0x413d7f[_0x559a6f(_0x228629._0x1a9e3d)][_0x559a6f(0x198)](_0x413d7f[_0x559a6f(0x1b3)][_0x559a6f(0x205)],0x1))[_0x559a6f(_0x228629._0x59a0c7)]()?.[_0x559a6f(_0x228629._0xd3c8c6)]:_0x59a43a=(await _0x413d7f[_0x559a6f(0x1ed)][_0x559a6f(0x198)](_0x413d7f[_0x559a6f(0x1b3)]['time'],0x1))[_0x559a6f(_0x228629._0x13ce09)]()?.['message'];if(_0x59a43a)for(let _0x98652c of _0x59a43a){if(_0x98652c['type']=='image'){_0x413d7f[_0x559a6f(_0x228629._0x208b65)]=[_0x98652c[_0x559a6f(_0x228629._0x5b9346)]];break;}}}let _0x3c3ec0,_0x115586,_0xef9115;if(!_0x413d7f['img']){_0x3c3ec0=_0x413d7f['at'];let _0xa30d96=_0x559a6f(0x254)+_0x3c3ec0+_0x559a6f(_0x228629._0x3e0143);_0x115586=await imgUrlToBase64(_0xa30d96),_0xef9115=getdsc(_0x413d7f['user_id']);}else _0x3c3ec0=_0x413d7f['at'],_0x115586=await imgUrlToBase64(_0x413d7f['img'][0x0][_0x559a6f(_0x228629._0x192a88)](/https/g,_0x559a6f(0x1a6))[_0x559a6f(_0x228629._0x37c306)]()),_0xef9115=getdsc(_0x413d7f['user_id']);_0x413d7f['at']==undefined&&(_0x3c3ec0=0x75bcd15);let _0x5e161d=_0x115586[_0x559a6f(_0x228629._0xd58449)];_0x53d04d[_0x559a6f(_0x228629._0x424d04)](_0x559a6f(_0x228629._0x3ebebf),_0x5e161d['toString'](),_0x559a6f(0x1d3),_0x54488d=>{const _0x300a95=_0x559a6f;_0x54488d?console[_0x300a95(_0xa4c4ce._0x2b1926)](_0x300a95(_0xa4c4ce._0x3817fa)):console[_0x300a95(_0xa4c4ce._0x2b1926)](_0x300a95(_0xa4c4ce._0x692103));}),await sleep(0x1f4);let _0x193e87=_0xa507b0(_0x559a6f(0x1dc)),_0x32e857=_0x193e87[_0x559a6f(0x1ea)],_0x1fbd25=_0x193e87['width'];_0x32e857=Math['floor'](_0x32e857/0x40),_0x1fbd25=Math[_0x559a6f(_0x228629._0x309ccc)](_0x1fbd25/0x40);let _0x499647;_0x32e857>_0x1fbd25&&(_0x499647=_0x32e857/_0x1fbd25,_0x1fbd25=0x8*0x40,_0x32e857=Math['floor'](0x8*_0x499647)*0x40);_0x1fbd25>_0x32e857&&(_0x499647=_0x1fbd25/_0x32e857,_0x32e857=0x8*0x40,_0x1fbd25=Math[_0x559a6f(_0x228629._0x309ccc)](0x8*_0x499647)*0x40);_0x1fbd25==_0x32e857&&(_0x32e857=0x300,_0x1fbd25=0x300,_0x499647=0x1);console[_0x559a6f(_0x228629._0x256eca)](_0x32e857,_0x1fbd25,_0x499647);var _0x20652c={'init_images':['data:image/jpeg;base64,'+_0x5e161d],'denoising_strength':0.65,'prompt':_0xef9115['en'],'styles':[_0x559a6f(0x298)],'seed':-0x1,'steps':0x28,'cfg_scale':guimo+0x2,'width':_0x1fbd25,'height':_0x32e857,'negative_prompt':pc,'sampler_index':_0x559a6f(_0x228629._0x3e2688)};try{res=await _0xf2bf18(imgdz,{'method':_0x559a6f(_0x228629._0x2fba2f),'agent':isdl?await getAgent():'','body':JSON[_0x559a6f(_0x228629._0x48a19e)](_0x20652c),'headers':{'Content-Type':_0x559a6f(_0x228629._0x29c36e),'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36'}});let _0x50fadb=await res[_0x559a6f(0x21e)]();_0x50fadb=_0x50fadb[_0x559a6f(_0x228629._0xb6512e)],_0x53d04d['writeFile'](_0x559a6f(0x21a),_0x50fadb[_0x559a6f(_0x228629._0x427874)](),'base64',_0x3c074e=>{const _0x3229d9=_0x559a6f;_0x3c074e?console[_0x3229d9(_0x2c09d3._0x26c76b)](_0x3229d9(0x202)):console[_0x3229d9(_0x2c09d3._0x26c76b)](_0x3229d9(_0x2c09d3._0x1d2889));}),await sleep(0x1f4),msg2=[segment[_0x559a6f(_0x228629._0x163868)](_0x559a6f(0x21a)),_0x559a6f(_0x228629._0x310f9a),segment['at'](_0x3c3ec0),_0xef9115['ch']],await _0x413d7f[_0x559a6f(0x20a)](msg2);}catch(_0x2f8c4f){console[_0x559a6f(_0x228629._0x57cf0a)](_0x2f8c4f),console[_0x559a6f(_0x228629._0x256eca)]('没有访问成功'),_0x413d7f[_0x559a6f(_0x228629._0x26a4e9)](_0x559a6f(_0x228629._0x30f00a)),kg=0x0;return;}}async[_0x39fb6b(0x1f5)](_0xa7daba){const _0x374f18={_0x45ac7d:0x297,_0x3160a1:0x20a,_0xf267e1:0x203,_0x1c931a:0x292,_0x511596:0x1ad,_0x1a5944:0x1d9,_0x4c4a27:0x184,_0x51b76a:0x1a5,_0x1b75c3:0x24d,_0x2c449a:0x227,_0xc0d927:0x1fc,_0x7068bb:0x1d3,_0x32fd61:0x226},_0x239719={_0x34f6e1:0x202},_0x531b87=_0x39fb6b;let _0x544161='';try{_0x544161=_0x53d04d[_0x531b87(0x175)](_0x531b87(_0x374f18._0x45ac7d));}catch{_0xa7daba[_0x531b87(_0x374f18._0x3160a1)](_0x531b87(_0x374f18._0xf267e1));return;}_0x544161=_0x544161[_0x531b87(0x1d6)]();let _0x373b6a=_0x3e3085[_0x531b87(_0x374f18._0x1c931a)](_0x53d04d[_0x531b87(0x175)](_0x531b87(0x1ce),'utf8'));_0x373b6a=_0x373b6a['masterQQ'][0x0];try{let _0x26dfb7='https://www.tukuai.one//qx.php?tk='+_0x544161+_0x531b87(_0x374f18._0x511596)+String(_0x373b6a);res=await _0xf2bf18(_0x26dfb7,{'agent':isdl?await getAgent():''}),console[_0x531b87(0x184)](_0x531b87(0x1aa));}catch(_0x12c051){console[_0x531b87(0x184)](_0x12c051),console['log']('没有访问成功');}res=await res[_0x531b87(0x1cc)]();if(res[_0x531b87(0x1ae)](_0x531b87(_0x374f18._0x1a5944))==![]){_0xa7daba[_0x531b87(_0x374f18._0x3160a1)]('很抱歉，你的密钥错误。'),console[_0x531b87(_0x374f18._0x4c4a27)](res);return;}let _0x5a36fa=getdsc(_0xa7daba[_0x531b87(_0x374f18._0x51b76a)]);try{let _0x1a5064=await _0xf2bf18(txtdz,{'method':_0x531b87(_0x374f18._0x1b75c3),'agent':isdl?await getAgent():'','headers':{'Content-Type':_0x531b87(_0x374f18._0x2c449a),'authorization':_0x531b87(0x22b)},'body':JSON['stringify']({'prompt':_0x5a36fa['en'],'width':kuandu,'height':changdu,'cfg_scale':guimo+0x2,'sampler':moxing,'steps':0x17,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0x1a5064['json'](),res=res4[_0x531b87(0x196)][0x0],_0x53d04d[_0x531b87(_0x374f18._0xc0d927)](_0x531b87(0x17a),res[_0x531b87(0x1d6)](),_0x531b87(_0x374f18._0x7068bb),_0x5470ec=>{const _0x4697d6=_0x531b87;if(_0x5470ec)console[_0x4697d6(0x184)](_0x4697d6(_0x239719._0x34f6e1));else{}});if(iscanshu==0x0){}await sleep(0x1f4),msg2=[segment[_0x531b87(0x1ac)]('./resources/ht.png'),_0x531b87(0x1c9),segment['at'](_0xa7daba[_0x531b87(0x1a5)]),_0x5a36fa['ch']],await _0xa7daba[_0x531b87(0x20a)](msg2);}catch{_0xa7daba['reply'](_0x531b87(_0x374f18._0x32fd61));}}async[_0x39fb6b(0x19b)](_0x50a79d){const _0x258eab={_0x241022:0x23f,_0x3c6cf5:0x274},_0x4faafa=_0x39fb6b;let _0x3cbf39=_0x4faafa(0x220),_0x2c66ee=await _0xf2bf18(_0x3cbf39),_0x3545fc=await _0x2c66ee[_0x4faafa(0x21e)](),_0x11f111=_0x3545fc[_0x4faafa(0x188)];data1={'tplFile':'./plugins/earth-k-plugin/resources/aiht/mx.html','dz':ml,'lb':_0x11f111};let _0x202121=await _0x15064b[_0x4faafa(_0x258eab._0x241022)](_0x4faafa(_0x258eab._0x3c6cf5),{...data1});_0x50a79d[_0x4faafa(0x20a)](_0x202121);}async[_0x39fb6b(0x29b)](_0x3fa0ea){const _0x3a8df5={_0x251f0a:0x292,_0x88e61f:0x1ce,_0x26d013:0x25d,_0x384b8c:0x1ad,_0x36bc4e:0x1ae,_0x5dca24:0x1e3,_0x1fe1f9:0x29f,_0x1e0889:0x20a,_0x59bf65:0x1fc,_0x5cd29e:0x1d6,_0x18d4fd:0x27c,_0x53a57f:0x255,_0x869da:0x1fc},_0x2833da={_0x133f57:0x202},_0x624bce={_0x215fab:0x184},_0x12d2dc=_0x39fb6b;if(_0x3fa0ea[_0x12d2dc(0x195)]){let _0x18aaef=_0x3e3085[_0x12d2dc(_0x3a8df5._0x251f0a)](_0x53d04d['readFileSync'](_0x12d2dc(_0x3a8df5._0x88e61f),_0x12d2dc(_0x3a8df5._0x26d013)));_0x18aaef=_0x18aaef[_0x12d2dc(0x24b)][0x0],console[_0x12d2dc(0x184)](_0x18aaef);let _0x3dd111=_0x3fa0ea['msg'][_0x12d2dc(0x287)](/#填写密钥/g,'')[_0x12d2dc(0x26e)](),_0x1c0419=_0x12d2dc(0x257)+_0x3dd111+_0x12d2dc(_0x3a8df5._0x384b8c)+String(_0x3fa0ea[_0x12d2dc(0x1a5)]),_0x4bf62d=await _0xf2bf18(_0x1c0419,{'agent':isdl?await getAgent():''}),_0x2d2c3d=await _0x4bf62d['text']();if(_0x2d2c3d[_0x12d2dc(_0x3a8df5._0x36bc4e)](_0x12d2dc(0x26a))){_0x3fa0ea[_0x12d2dc(0x20a)](_0x12d2dc(_0x3a8df5._0x5dca24));return;}if(_0x2d2c3d[_0x12d2dc(0x1ae)](_0x12d2dc(_0x3a8df5._0x1fe1f9))){_0x3fa0ea[_0x12d2dc(_0x3a8df5._0x1e0889)]('你好号主，成功再次激活'),await _0x53d04d[_0x12d2dc(_0x3a8df5._0x59bf65)](_0x12d2dc(0x297),_0x3dd111[_0x12d2dc(_0x3a8df5._0x5cd29e)](),_0x12d2dc(_0x3a8df5._0x18d4fd),_0x515d45=>{const _0x557fd8=_0x12d2dc;if(_0x515d45)console[_0x557fd8(_0x624bce._0x215fab)]('写入文件错误');else{}});return;}_0x2d2c3d[_0x12d2dc(0x1ae)](_0x12d2dc(_0x3a8df5._0x53a57f))&&(_0x3fa0ea['reply'](_0x12d2dc(0x253)+String(_0x3fa0ea[_0x12d2dc(0x1a5)])),await _0x53d04d[_0x12d2dc(_0x3a8df5._0x869da)](_0x12d2dc(0x297),_0x3dd111['toString'](),_0x12d2dc(0x27c),_0x448e8d=>{const _0x199791=_0x12d2dc;if(_0x448e8d)console[_0x199791(0x184)](_0x199791(_0x2833da._0x133f57));else{}})),_0x2d2c3d[_0x12d2dc(0x1ae)](_0x12d2dc(0x28c))&&_0x3fa0ea[_0x12d2dc(0x20a)](_0x12d2dc(0x178));}}async[_0x39fb6b(0x207)](_0x4cd5d9){const _0x15bfff={_0x1add9b:0x20a,_0x9e13cd:0x18b,_0x1dbcad:0x233,_0x2d6d75:0x279,_0x157603:0x1e5,_0x38f4d0:0x195,_0x90932a:0x20a,_0x1864d7:0x233,_0x1484ad:0x1ee},_0x57c482=_0x39fb6b;_0x4cd5d9[_0x57c482(0x233)]=='#开启代理'&_0x4cd5d9[_0x57c482(0x195)]&&(isdl=0x1,_0x4cd5d9[_0x57c482(_0x15bfff._0x1add9b)](_0x57c482(_0x15bfff._0x9e13cd))),_0x4cd5d9[_0x57c482(_0x15bfff._0x1dbcad)]=='#关闭代理'&_0x4cd5d9[_0x57c482(0x195)]&&(isdl=0x0,_0x4cd5d9[_0x57c482(0x20a)](_0x57c482(0x1de))),_0x4cd5d9[_0x57c482(0x233)]=='#开启参数显示'&_0x4cd5d9[_0x57c482(0x195)]&&(iscanshu=0x1,_0x4cd5d9[_0x57c482(0x20a)](_0x57c482(0x296))),_0x4cd5d9[_0x57c482(0x233)]==_0x57c482(_0x15bfff._0x2d6d75)&_0x4cd5d9['isMaster']&&(iscanshu=0x0,_0x4cd5d9[_0x57c482(_0x15bfff._0x1add9b)](_0x57c482(0x1ff))),_0x4cd5d9[_0x57c482(0x233)]==_0x57c482(_0x15bfff._0x157603)&_0x4cd5d9[_0x57c482(_0x15bfff._0x38f4d0)]&&(ishuifu=!![],_0x4cd5d9[_0x57c482(_0x15bfff._0x90932a)]('已开启词条回复')),_0x4cd5d9[_0x57c482(_0x15bfff._0x1864d7)]==_0x57c482(_0x15bfff._0x1484ad)&_0x4cd5d9[_0x57c482(_0x15bfff._0x38f4d0)]&&(ishuifu=![],_0x4cd5d9['reply'](_0x57c482(0x19a)));}async['szbs'](_0x46ad10){const _0x3612c7={_0x598d9b:0x233,_0x2b4e97:0x1b1,_0x1a4683:0x1d6,_0x2d97dc:0x1d6},_0x5c9a7f=_0x39fb6b;if(_0x46ad10[_0x5c9a7f(_0x3612c7._0x598d9b)]=='#查看画图设置'){console[_0x5c9a7f(0x184)](guimo);let _0x1eb82e=['模型：',moxing,_0x5c9a7f(0x1d0),guimo['toString'](),_0x5c9a7f(_0x3612c7._0x2b4e97),bushu[_0x5c9a7f(_0x3612c7._0x1a4683)](),_0x5c9a7f(0x1e2),xsd[_0x5c9a7f(_0x3612c7._0x1a4683)](),_0x5c9a7f(0x17d),jz[_0x5c9a7f(_0x3612c7._0x2d97dc)]()];_0x46ad10[_0x5c9a7f(0x20a)](_0x1eb82e);return;}bushu=_0x46ad10[_0x5c9a7f(_0x3612c7._0x598d9b)][_0x5c9a7f(0x287)](/#土块画图步数/g,'')[_0x5c9a7f(0x26e)](),bushu=Number(bushu);if(bushu<0x0|bushu>0x1c){bushu=0x1c,_0x46ad10[_0x5c9a7f(0x20a)](_0x5c9a7f(0x28d));return;}else _0x46ad10[_0x5c9a7f(0x20a)](_0x5c9a7f(0x24a)+String(bushu));}async[_0x39fb6b(0x21d)](_0x4cfbcc){const _0x54cf87={_0x17dde4:0x23e,_0xe6e72a:0x20a,_0x69a95e:0x1df,_0x296996:0x263,_0x520718:0x1f4,_0x50e4b0:0x20a,_0xd91bf8:0x20a},_0x5c6837=_0x39fb6b;if(_0x4cfbcc['msg']==_0x5c6837(_0x54cf87._0x17dde4)){let _0x49e5bb=['1：Euler\x20a,\x0a2：Euler,\x0a3：Heun,\x0a4：DPM++\x202S\x20a,\x0a5：DPM++\x202M,\x0a6：DPM++\x202S\x20a\x20Karras,\x0a7：DPM++\x202M\x20Karras,\x0a8：DDMI'];_0x4cfbcc[_0x5c6837(_0x54cf87._0xe6e72a)](_0x49e5bb);return;}moxing=_0x4cfbcc[_0x5c6837(0x233)]['replace'](/#土块画图采样/g,'')['trim'](),moxing=Number(moxing);if(moxing<0x0|moxing>0x8){_0x4cfbcc[_0x5c6837(0x20a)](_0x5c6837(_0x54cf87._0x69a95e)),moxing=0x2;return;}moxing==0x1&&(moxing='Euler\x20a',_0x4cfbcc[_0x5c6837(_0x54cf87._0xe6e72a)](_0x5c6837(0x2a0))),moxing==0x2&&(moxing=_0x5c6837(0x22c),_0x4cfbcc[_0x5c6837(0x20a)](_0x5c6837(_0x54cf87._0x296996))),moxing==0x3&&(moxing=_0x5c6837(_0x54cf87._0x520718),_0x4cfbcc['reply'](_0x5c6837(0x262))),moxing==0x4&&(moxing='DPM++\x202S\x20a',_0x4cfbcc[_0x5c6837(_0x54cf87._0x50e4b0)]('采样已设置为DPM++\x202S\x20a')),moxing==0x5&&(moxing='DPM++\x202M',_0x4cfbcc['reply'](_0x5c6837(0x1f2))),moxing==0x6&&(moxing=_0x5c6837(0x252),_0x4cfbcc['reply'](_0x5c6837(0x180))),moxing==0x7&&(moxing='DPM++\x202M\x20Karras',_0x4cfbcc[_0x5c6837(_0x54cf87._0xd91bf8)]('采样已设置为DPM++\x202M\x20Karras')),moxing==0x8&&(moxing=_0x5c6837(0x1be),_0x4cfbcc[_0x5c6837(0x20a)](_0x5c6837(0x259)));}async[_0x39fb6b(0x25e)](_0x4bb8a8){const _0x2a8927={_0x35c722:0x26e,_0x290fc6:0x222,_0x4ae3a1:0x25f},_0x169582=_0x39fb6b;guimo=_0x4bb8a8[_0x169582(0x233)]['replace'](/#土块画图规模/g,'')[_0x169582(_0x2a8927._0x35c722)](),guimo=Number(guimo);if(guimo<0x3|guimo>0xc){_0x4bb8a8['reply'](_0x169582(_0x2a8927._0x290fc6)),guimo=5.5;return;}else _0x4bb8a8['reply'](_0x169582(_0x2a8927._0x4ae3a1)+String(guimo));}async[_0x39fb6b(0x206)](_0x1fab71){const _0x492d84={_0x22a551:0x1ae,_0x27c47c:0x28e,_0x144b9e:0x245,_0x1a24db:0x233,_0x26f250:0x1d6,_0x975e85:0x217,_0x58a6f0:0x287,_0x4103ec:0x1cb,_0x56acbc:0x20a,_0x510c8d:0x233,_0x10a271:0x23f,_0x53bb2b:0x233,_0x17b957:0x26e,_0x3ba2b9:0x1b0,_0x4cd73c:0x1fc,_0x42fe1a:0x195,_0x232749:0x233,_0x56ca09:0x20a,_0x24dc2f:0x184},_0x5ca4fb={_0x3d9016:0x20a},_0x4f59fb={_0x4e4477:0x1d6,_0xa8fb1a:0x22a,_0x25dc53:0x188},_0x25b62a={_0x45f9af:0x1d6,_0x5d0b53:0x1a5},_0xd26f74=_0x39fb6b;if(_0x1fab71['img']!=undefined)return![];if(yushekg==0x0&_0x1fab71[_0xd26f74(0x233)]['includes']('#查看预设')==![]&_0x1fab71[_0xd26f74(0x233)][_0xd26f74(_0x492d84._0x22a551)](_0xd26f74(_0x492d84._0x27c47c))==![]&_0x1fab71['msg']['includes'](_0xd26f74(_0x492d84._0x144b9e))==![]&_0x1fab71[_0xd26f74(_0x492d84._0x1a24db)][_0xd26f74(0x1ae)](_0xd26f74(0x251))==![])return![];let _0x1850ca=_0xd26f74(0x218);_0x53d04d[_0xd26f74(0x26c)](_0x1850ca[_0xd26f74(_0x492d84._0x26f250)](),_0x53d04d['constants'][_0xd26f74(_0x492d84._0x975e85)],_0x476a1a=>{const _0x5722a9=_0xd26f74;if(_0x476a1a){let _0x5643a8=ml+'/resources/'+'ys'+'.json',_0x5e33bb={'shuju':[{'name':'水手少女','gjc':_0x5722a9(0x291)}]};_0x53d04d['writeFileSync'](_0x5643a8[_0x5722a9(_0x25b62a._0x45f9af)](),JSON[_0x5722a9(0x17f)](_0x5e33bb),_0x5722a9(0x27c));}else console[_0x5722a9(0x184)](_0x1fab71[_0x5722a9(_0x25b62a._0x5d0b53)]['toString']()+_0x5722a9(0x25c));}),await sleep(0x1f4);let _0x43b5a4='';await _0x53d04d[_0xd26f74(0x1b5)](_0x1850ca,(_0x12da3f,_0x3ff37d)=>{const _0x32a448=_0xd26f74;if(_0x12da3f)throw _0x12da3f;var _0x21841b=_0x3ff37d['toString']()!=''?JSON[_0x32a448(0x292)](_0x3ff37d[_0x32a448(_0x4f59fb._0x4e4477)]()):[];ysct='',_0x43b5a4='',shuju=_0x21841b;for(let _0x34298b=0x0;_0x34298b<shuju['shuju']['length'];_0x34298b++){_0x43b5a4=_0x43b5a4+shuju[_0x32a448(_0x4f59fb._0xa8fb1a)][_0x34298b][_0x32a448(_0x4f59fb._0x25dc53)]+',',ysct=ysct+shuju[_0x32a448(0x22a)][_0x34298b]['gjc']+'++';}}),await sleep(0x1f4);if(_0x1fab71[_0xd26f74(_0x492d84._0x1a24db)][_0xd26f74(_0x492d84._0x22a551)]('#查看预设词条')&_0x1fab71[_0xd26f74(0x195)]){let _0x1ee673=_0x1fab71[_0xd26f74(0x233)][_0xd26f74(_0x492d84._0x58a6f0)](/#查看预设词条/g,'')[_0xd26f74(0x26e)]();_0x1ee673=Number(_0x1ee673),ysct=ysct[_0xd26f74(_0x492d84._0x4103ec)]('++'),_0x43b5a4=_0x43b5a4[_0xd26f74(_0x492d84._0x4103ec)](',');if(_0x1ee673>ysct[_0xd26f74(0x1b0)]|_0x1ee673<0x0){_0x1fab71[_0xd26f74(_0x492d84._0x56acbc)](_0xd26f74(0x228));return;}_0x1fab71[_0xd26f74(0x20a)]([_0x43b5a4[_0x1ee673-0x1],':',ysct[_0x1ee673-0x1]]),ysct='',_0x43b5a4='';}if(_0x1fab71[_0xd26f74(_0x492d84._0x510c8d)]=='#查看预设'&_0x1fab71['isMaster']){_0x43b5a4=_0x43b5a4[_0xd26f74(_0x492d84._0x4103ec)](','),data1={'tplFile':_0xd26f74(0x1d5),'dz':ml,'lb':_0x43b5a4,'qsid':0x0};let _0x543e6e=await _0x15064b[_0xd26f74(_0x492d84._0x10a271)](_0xd26f74(0x274),{...data1});_0x1fab71[_0xd26f74(_0x492d84._0x56acbc)](_0x543e6e);return;}if(_0x1fab71[_0xd26f74(_0x492d84._0x53bb2b)][_0xd26f74(0x1ae)](_0xd26f74(_0x492d84._0x144b9e))&_0x1fab71[_0xd26f74(0x195)]){let _0x848455=_0x1fab71[_0xd26f74(0x233)]['replace'](/#删除预设/g,'')[_0xd26f74(_0x492d84._0x17b957)]();_0x848455=Number(_0x848455);if(_0x848455<shuju[_0xd26f74(0x22a)][_0xd26f74(_0x492d84._0x3ba2b9)]+0x1){shuju[_0xd26f74(0x22a)][_0xd26f74(0x17c)](_0x848455-0x1,0x1);var _0x39c5e3=JSON[_0xd26f74(0x17f)](shuju);}_0x53d04d[_0xd26f74(_0x492d84._0x4cd73c)](_0x1850ca,_0x39c5e3,function(_0x5e1059){const _0x4e91b4=_0xd26f74;_0x5e1059&&console[_0x4e91b4(0x19f)](_0x5e1059),_0x1fab71[_0x4e91b4(_0x5ca4fb._0x3d9016)](_0x4e91b4(0x230));});}if(_0x1fab71[_0xd26f74(_0x492d84._0x1a24db)][_0xd26f74(0x1ae)](_0xd26f74(0x28e))&_0x1fab71[_0xd26f74(_0x492d84._0x42fe1a)]&yushekg==0x0){yushekg=0x1,ys[0x0]=_0x1fab71[_0xd26f74(_0x492d84._0x232749)]['replace'](/#新增预设/g,'')[_0xd26f74(0x26e)](),_0x1fab71[_0xd26f74(_0x492d84._0x56ca09)]('请添加预设关键词');return;}if(yushekg==0x1&_0x1fab71[_0xd26f74(_0x492d84._0x42fe1a)]){yushekg=0x0,ys[0x1]=_0x1fab71[_0xd26f74(0x233)];let _0x4e74ec={'name':ys[0x0],'gjc':ys[0x1]};shuju[_0xd26f74(0x22a)][_0xd26f74(0x267)](_0x4e74ec),console[_0xd26f74(_0x492d84._0x24dc2f)](shuju);var _0x39c5e3=JSON[_0xd26f74(0x17f)](shuju);_0x53d04d['writeFile'](_0x1850ca,_0x39c5e3,_0x2d8b6c=>{const _0x15e1ee=_0xd26f74;if(_0x2d8b6c)throw _0x2d8b6c;console[_0x15e1ee(0x184)](_0x15e1ee(0x265)),_0x1fab71[_0x15e1ee(0x20a)](_0x15e1ee(0x1a3));});return;}}async['pbc'](_0x3b2db1){const _0x3d2b0c={_0x540ef7:0x212,_0x5018f4:0x20a,_0x385685:0x233,_0x478e23:0x26e,_0x1d7b9c:0x1c0,_0x26b6ad:0x246,_0x5b1ff2:0x1a2,_0x11983c:0x26d,_0x287651:0x250,_0x474240:0x195,_0x2ce004:0x190},_0x4acd5c=_0x39fb6b;_0x3b2db1[_0x4acd5c(0x233)][_0x4acd5c(0x1ae)](_0x4acd5c(_0x3d2b0c._0x540ef7))&_0x3b2db1['isMaster']&&(_0x3b2db1[_0x4acd5c(_0x3d2b0c._0x5018f4)]('新增屏蔽词成功'),pc=_0x3b2db1[_0x4acd5c(_0x3d2b0c._0x385685)]['replace'](/#新增屏蔽词/g,'')[_0x4acd5c(_0x3d2b0c._0x478e23)]()),_0x3b2db1[_0x4acd5c(0x233)]==_0x4acd5c(_0x3d2b0c._0x1d7b9c)&_0x3b2db1[_0x4acd5c(0x195)]&&_0x3b2db1[_0x4acd5c(0x20a)]([_0x4acd5c(_0x3d2b0c._0x26b6ad),pc]),_0x3b2db1[_0x4acd5c(0x233)][_0x4acd5c(0x1ae)](_0x4acd5c(_0x3d2b0c._0x5b1ff2))&_0x3b2db1[_0x4acd5c(0x195)]&&(_0x3b2db1[_0x4acd5c(_0x3d2b0c._0x5018f4)](_0x4acd5c(0x1dd)+_0x4acd5c(_0x3d2b0c._0x11983c)),pc=''),_0x3b2db1[_0x4acd5c(0x233)]['includes'](_0x4acd5c(_0x3d2b0c._0x287651))&_0x3b2db1[_0x4acd5c(_0x3d2b0c._0x474240)]&&(_0x3b2db1[_0x4acd5c(0x20a)](_0x4acd5c(_0x3d2b0c._0x2ce004)),pc=_0x4acd5c(0x258));}async[_0x39fb6b(0x1c2)](_0x141df6){const _0x10353e={_0xdbc3b5:0x292,_0x524e14:0x175,_0x52fb3f:0x18a,_0x1a56ea:0x20a,_0xf991f9:0x225,_0x397c68:0x18a,_0x588ef9:0x233,_0xa348e6:0x1e7,_0x3d5c4c:0x199,_0x2ca37e:0x1ae,_0x45201e:0x195,_0x1b8924:0x1af,_0x1b13b8:0x225,_0x35adc0:0x18a,_0x8629b2:0x17f,_0x24cc4a:0x18a,_0x43f0e5:0x20a,_0x7bc5ce:0x22e,_0x3623a6:0x20a,_0x19442b:0x27f,_0x1ff9e3:0x17f,_0x445b7d:0x20a,_0xf14000:0x1db,_0x38dc48:0x233,_0x1e0c9e:0x1b9,_0x5ccb68:0x269,_0x58c9b1:0x195,_0x3a6110:0x233,_0x395d63:0x234,_0x2d7a71:0x17f},_0x216665=_0x39fb6b;let _0x58229e=_0x3e3085[_0x216665(_0x10353e._0xdbc3b5)](_0x53d04d[_0x216665(_0x10353e._0x524e14)](_0x216665(_0x10353e._0x52fb3f),_0x216665(0x25d)));_0x141df6[_0x216665(0x233)]==_0x216665(0x208)&_0x141df6[_0x216665(0x195)]&&(_0x141df6[_0x216665(_0x10353e._0x1a56ea)]('好的，已关闭，请注意身体哦'),ss=0x1,_0x58229e['ss']=0x1,_0x53d04d[_0x216665(0x225)](_0x216665(0x18a),_0x3e3085['stringify'](_0x58229e)));if(_0x141df6['msg']=='#土块鉴黄开启'&_0x141df6[_0x216665(0x195)]){if(_0x58229e['sk']==null|_0x58229e['sk']==null){_0x141df6[_0x216665(_0x10353e._0x1a56ea)](_0x216665(0x1b6));return;}_0x141df6[_0x216665(0x20a)]('好的，开启鉴黄了'),ss=0x0,_0x58229e['ss']=0x0,_0x53d04d[_0x216665(_0x10353e._0xf991f9)](_0x216665(_0x10353e._0x397c68),_0x3e3085[_0x216665(0x17f)](_0x58229e));}await dqpz();if(_0x141df6[_0x216665(_0x10353e._0x588ef9)][_0x216665(0x1ae)](_0x216665(_0x10353e._0xa348e6))&_0x141df6[_0x216665(0x195)]){_0x58229e['cd']=0x0,_0x58229e[_0x216665(0x1af)]=0x0,_0x53d04d[_0x216665(0x225)](_0x216665(0x18a),_0x3e3085[_0x216665(0x17f)](_0x58229e)),cd=0x0,kg2=0x0,kg=0x0,sc=0x0,iscd=0x0,_0x141df6[_0x216665(0x20a)](_0x216665(_0x10353e._0x3d5c4c));return;}if(_0x141df6[_0x216665(_0x10353e._0x588ef9)][_0x216665(_0x10353e._0x2ca37e)]('#土块画图冷却开启')&_0x141df6[_0x216665(_0x10353e._0x45201e)]){_0x58229e['cd']=0x7530,_0x58229e[_0x216665(_0x10353e._0x1b8924)]=0x1,_0x53d04d[_0x216665(_0x10353e._0x1b13b8)](_0x216665(_0x10353e._0x35adc0),_0x3e3085[_0x216665(_0x10353e._0x8629b2)](_0x58229e)),cd=0x7530,_0x141df6[_0x216665(0x20a)](_0x216665(0x1b8));return;}if(_0x141df6['msg'][_0x216665(_0x10353e._0x2ca37e)]('#土块画图冷却')&_0x141df6[_0x216665(0x195)]){let _0x42391=_0x141df6['msg'][_0x216665(0x287)](/#土块画图冷却/g,'')[_0x216665(0x26e)]();cd=Number(_0x42391)*0x3e8,_0x58229e['cd']=cd,_0x58229e[_0x216665(0x1af)]=0x1,_0x53d04d[_0x216665(0x225)](_0x216665(_0x10353e._0x24cc4a),_0x3e3085[_0x216665(0x17f)](_0x58229e)),_0x141df6[_0x216665(_0x10353e._0x43f0e5)](_0x216665(_0x10353e._0x7bc5ce)+_0x42391+'秒');}if(_0x141df6['msg'][_0x216665(0x1ae)](_0x216665(0x1cf))&_0x141df6[_0x216665(0x195)]){_0x58229e['timeout']=0x0,_0x58229e[_0x216665(0x1d2)]=0x0,_0x53d04d[_0x216665(0x225)]('./plugins/earth-k-plugin/config/config.yaml',_0x3e3085[_0x216665(0x17f)](_0x58229e)),isch=0x0,_0x141df6[_0x216665(_0x10353e._0x3623a6)]('已关闭画图撤回');return;}if(_0x141df6[_0x216665(0x233)][_0x216665(0x1ae)](_0x216665(0x21f))&_0x141df6['isMaster']){isch=0x1,_0x58229e[_0x216665(_0x10353e._0x19442b)]=0x7530,_0x58229e[_0x216665(0x1d2)]=0x1,_0x53d04d['writeFileSync'](_0x216665(0x18a),_0x3e3085[_0x216665(_0x10353e._0x1ff9e3)](_0x58229e)),timeout=0x7530,_0x141df6[_0x216665(_0x10353e._0x445b7d)]('已开启画图撤回，撤回时间为30秒');return;}if(_0x141df6[_0x216665(0x233)][_0x216665(_0x10353e._0x2ca37e)](_0x216665(_0x10353e._0xf14000))&_0x141df6['isMaster']){isch=0x1;let _0x402c96=_0x141df6[_0x216665(_0x10353e._0x38dc48)][_0x216665(0x287)](/#土块画图撤回/g,'')['trim']();timeout=Number(_0x402c96)*0x3e8,_0x58229e[_0x216665(_0x10353e._0x19442b)]=timeout,_0x58229e['isch']=0x1,_0x53d04d[_0x216665(_0x10353e._0xf991f9)]('./plugins/earth-k-plugin/config/config.yaml',_0x3e3085['stringify'](_0x58229e)),_0x141df6[_0x216665(0x20a)](_0x216665(0x200)+_0x402c96+'秒');}_0x141df6[_0x216665(_0x10353e._0x38dc48)]==_0x216665(_0x10353e._0x1e0c9e)&&(kg=0x0,sc=0x0,zt=0x0,id='',console[_0x216665(0x184)](_0x216665(_0x10353e._0x5ccb68)),kg2=0x0,_0x141df6[_0x216665(_0x10353e._0x43f0e5)](_0x216665(0x25b))),_0x141df6[_0x216665(_0x10353e._0x588ef9)]=='#所有人可画'&_0x141df6[_0x216665(_0x10353e._0x58c9b1)]&&(_0x141df6[_0x216665(_0x10353e._0x3623a6)](_0x216665(0x1ba)),zr=0x0,_0x58229e['zr']=0x0,_0x53d04d['writeFileSync']('./plugins/earth-k-plugin/config/config.yaml',_0x3e3085[_0x216665(0x17f)](_0x58229e))),_0x141df6[_0x216665(_0x10353e._0x3a6110)]==_0x216665(_0x10353e._0x395d63)&_0x141df6[_0x216665(_0x10353e._0x58c9b1)]&&(_0x141df6[_0x216665(_0x10353e._0x43f0e5)]('好的，权限已经关闭，只有你能画了'),zr=0x1,_0x58229e['zr']=0x1,_0x53d04d['writeFileSync']('./plugins/earth-k-plugin/config/config.yaml',_0x3e3085[_0x216665(_0x10353e._0x2d7a71)](_0x58229e)));}async[_0x39fb6b(0x277)](_0x510a77){const _0x139bde={_0x253854:0x1ae,_0xe31e27:0x1ae,_0x463345:0x17b,_0x2ae1b5:0x233,_0xca9414:0x17b,_0x215249:0x20a,_0x1b6921:0x1a5,_0x45e072:0x1a8,_0x2ff3e9:0x184,_0x2c3390:0x1e6,_0x616a3e:0x287,_0x10e711:0x26e,_0x534dfe:0x28a,_0x4338a5:0x293,_0x4f8e0a:0x17f,_0x442822:0x227,_0x1f5420:0x29a,_0x20ba45:0x20a,_0x419e17:0x185,_0xc84252:0x231,_0x9522e8:0x1bf,_0x27e459:0x195,_0x1bd701:0x20a,_0x53a131:0x290,_0x32799e:0x281,_0x1a3ef1:0x174,_0x15e178:0x175,_0x2896a7:0x203,_0x1dd732:0x1d6,_0x2b4bdc:0x1aa,_0x73fcb6:0x184,_0x4a6a68:0x184,_0x159386:0x1ae,_0x381a05:0x201,_0x4c3c8d:0x184,_0x2cb009:0x280,_0x21e9c4:0x1fb,_0x3c9c95:0x20c,_0x5e9b3b:0x188,_0x35ae26:0x1b0,_0x4a771f:0x23a,_0x24d48d:0x27d,_0x40264c:0x1cc,_0x5d0cb2:0x287,_0x14811e:0x26e,_0x1d7ea0:0x211,_0x10853e:0x20a,_0x2edbe2:0x295,_0x12ef2c:0x18f,_0x5cb56f:0x24f,_0xf2d45d:0x21e,_0x3bcbee:0x1fc,_0x2abf08:0x21a,_0x16fe66:0x1a5,_0x31b54a:0x184,_0x50ef7f:0x1f3,_0x40dd59:0x17e,_0x1ad997:0x25d,_0x5c61ef:0x24b,_0x228953:0x282,_0x47d3c3:0x182,_0x28e01d:0x242,_0x76263f:0x204,_0x594721:0x18f,_0x763691:0x282,_0x21b00e:0x233,_0x1c9f32:0x184,_0x4dcd0e:0x1e0},_0x17f1a0={_0x221822:0x1c7},_0x3ef64b={_0x3e1791:0x184},_0x5b381b={_0x111eee:0x184,_0x2d3f74:0x202,_0x5be76a:0x249},_0x3870a4={_0x3ad2d8:0x20a,_0x510f45:0x21b},_0x485993={_0x500e1f:0x1b4},_0x42a82e=_0x39fb6b;if(_0x510a77[_0x42a82e(0x1e6)]!=undefined&zt==0x0&mfkg==0x0)return![];if(_0x510a77[_0x42a82e(0x1e6)]==undefined&_0x510a77['msg']!=undefined){if(_0x510a77[_0x42a82e(0x233)][_0x42a82e(_0x139bde._0x253854)](_0x42a82e(0x232))==![]&_0x510a77['img']==undefined&zt==0x0&_0x510a77[_0x42a82e(0x233)][_0x42a82e(_0x139bde._0xe31e27)](_0x42a82e(_0x139bde._0x463345))==![]&mfkg==0x0)return![];}mfkg==0x0&_0x510a77[_0x42a82e(_0x139bde._0x2ae1b5)]==_0x42a82e(_0x139bde._0xca9414)&&(mfkg=0x1,mfid=_0x510a77[_0x42a82e(0x1a5)],_0x510a77[_0x42a82e(_0x139bde._0x215249)]('请发送要查看魔法的图片,0.0'),mf=setTimeout(()=>{const _0x277a16=_0x42a82e;if(mfkg==0x1){mfkg=0x0,_0x510a77[_0x277a16(0x20a)](_0x277a16(_0x485993._0x500e1f));return;}},0x3a98));if(_0x510a77[_0x42a82e(0x1e6)]!=undefined&mfkg==0x1&mfid==_0x510a77[_0x42a82e(_0x139bde._0x1b6921)]){clearTimeout(mf),_0x510a77['reply'](_0x42a82e(_0x139bde._0x45e072)),mfkg=0x0,mfid='';let _0x169ae8=_0x42a82e(0x286);console[_0x42a82e(_0x139bde._0x2ff3e9)](_0x510a77[_0x42a82e(_0x139bde._0x2c3390)]);let _0xf30ba4=await imgUrlToBase64(_0x510a77['img'][0x0][_0x42a82e(_0x139bde._0x616a3e)](/https/g,'http')[_0x42a82e(_0x139bde._0x10e711)]()),_0x37cecc=_0xf30ba4[_0x42a82e(_0x139bde._0x534dfe)],_0x6dd2e3={'fn_index':0x118,'data':[_0x42a82e(0x1ec)+_0x37cecc,'',![],'',_0x42a82e(0x1c3),_0x42a82e(0x176),![],'wd14-vit',0.35,'','',![],![],!![],_0x42a82e(0x260),![],![]],'session_hash':_0x42a82e(_0x139bde._0x4338a5)};res=await _0xf2bf18(_0x169ae8,{'method':_0x42a82e(0x186),'body':JSON[_0x42a82e(_0x139bde._0x4f8e0a)](_0x6dd2e3),'headers':{'Content-Type':_0x42a82e(_0x139bde._0x442822),'User-Agent':_0x42a82e(0x241)}});let _0x159687=await res[_0x42a82e(0x21e)]();_0x510a77[_0x42a82e(_0x139bde._0x215249)](_0x159687[_0x42a82e(_0x139bde._0x1f5420)][0x0],!![]);if(_0x159687!=undefined)_0x510a77[_0x42a82e(_0x139bde._0x20ba45)](_0x159687[_0x42a82e(_0x139bde._0x419e17)],!![]),_0x159687[_0x42a82e(_0x139bde._0xc84252)]==-0x1&&(_0x510a77[_0x42a82e(_0x139bde._0x20ba45)](_0x42a82e(_0x139bde._0x9522e8)),mfkg=0x0,mfid='');else{}}if(_0x510a77[_0x42a82e(0x1e6)]==undefined&zt==0x1)return![];if(_0x510a77[_0x42a82e(0x1e6)]==undefined&_0x510a77[_0x42a82e(_0x139bde._0x2ae1b5)]!=undefined){dqpz();if(_0x510a77[_0x42a82e(0x233)][_0x42a82e(_0x139bde._0x253854)](_0x42a82e(0x192))&_0x510a77[_0x42a82e(_0x139bde._0x27e459)]){xsd=Number(_0x510a77['msg'][_0x42a82e(_0x139bde._0x616a3e)](/#以图生草相似度/g,'')[_0x42a82e(0x26e)]())/0x64,_0x510a77[_0x42a82e(_0x139bde._0x1bd701)](_0x42a82e(_0x139bde._0x53a131)+String(xsd)),console[_0x42a82e(_0x139bde._0x2ff3e9)](xsd);return;}if(_0x510a77[_0x42a82e(0x233)][_0x42a82e(0x1ae)](_0x42a82e(_0x139bde._0x32799e))&_0x510a77[_0x42a82e(0x195)]){jz=Number(_0x510a77['msg'][_0x42a82e(0x287)](/#以图生草降噪/g,'')[_0x42a82e(0x26e)]())/0x64,_0x510a77[_0x42a82e(_0x139bde._0x215249)](_0x42a82e(_0x139bde._0x1a3ef1)+String(jz)),console[_0x42a82e(_0x139bde._0x2ff3e9)](jz);return;}if(zt==0x0&&sc==0x0&&_0x510a77[_0x42a82e(_0x139bde._0x2ae1b5)][_0x42a82e(_0x139bde._0xe31e27)]('#以图生草')){if(_0x510a77['isPrivate']){_0x510a77[_0x42a82e(_0x139bde._0x215249)](_0x42a82e(0x244));return;}dqpz();let _0x52bb9a='';try{_0x52bb9a=_0x53d04d[_0x42a82e(_0x139bde._0x15e178)](_0x42a82e(0x297));}catch{_0x510a77[_0x42a82e(_0x139bde._0x215249)](_0x42a82e(_0x139bde._0x2896a7));return;}_0x52bb9a=_0x52bb9a[_0x42a82e(_0x139bde._0x1dd732)]();let _0x45b78e=_0x3e3085[_0x42a82e(0x292)](_0x53d04d[_0x42a82e(0x175)](_0x42a82e(0x1ce),_0x42a82e(0x25d)));_0x45b78e=_0x45b78e['masterQQ'][0x0];try{let _0x22f0f8=_0x42a82e(0x272)+_0x52bb9a+_0x42a82e(0x1ad)+String(_0x45b78e);res=await _0xf2bf18(_0x22f0f8,{'agent':isdl?await getAgent():''}),console[_0x42a82e(_0x139bde._0x2ff3e9)](_0x42a82e(_0x139bde._0x2b4bdc));}catch(_0x371f1a){console[_0x42a82e(_0x139bde._0x73fcb6)](_0x371f1a),console[_0x42a82e(_0x139bde._0x4a6a68)]('没有访问成功');}res=await res[_0x42a82e(0x1cc)]();if(res[_0x42a82e(_0x139bde._0x159386)](_0x42a82e(0x1d9))==![]){_0x510a77['reply'](_0x42a82e(_0x139bde._0x381a05)),console[_0x42a82e(_0x139bde._0x4c3c8d)](res);return;}if(zr==0x1&!_0x510a77[_0x42a82e(0x195)]){_0x510a77[_0x42a82e(0x20a)]('你不可以生草哦');return;}console[_0x42a82e(_0x139bde._0x73fcb6)](_0x42a82e(_0x139bde._0x2cb009)),id=_0x510a77[_0x42a82e(0x1a5)],chang=0x200,kuan=0x200,gjc2=_0x510a77[_0x42a82e(_0x139bde._0x2ae1b5)][_0x42a82e(_0x139bde._0x616a3e)](/#以图生草/g,'')[_0x42a82e(0x26e)]();var _0x175127=new RegExp(_0x42a82e(_0x139bde._0x21e9c4),'g');let _0x982885='',_0x4d2009='';if(_0x175127[_0x42a82e(_0x139bde._0x3c9c95)](gjc2)&_0x510a77[_0x42a82e(_0x139bde._0x2ae1b5)][_0x42a82e(0x1ae)]('序号')==![]){let _0x519b0f='http://www.tukuai.one/wj.php',_0x3a58e9=await _0xf2bf18(_0x519b0f);_0x982885=await _0x3a58e9[_0x42a82e(0x21e)](),_0x982885=_0x982885[_0x42a82e(_0x139bde._0x5e9b3b)];for(let _0x201824=0x0;_0x201824<_0x982885[_0x42a82e(_0x139bde._0x35ae26)];_0x201824++){if(gjc2[_0x42a82e(0x1ae)](_0x982885[_0x201824]['zw'])==!![]&_0x982885[_0x201824]['zw']!=''){_0x4d2009=_0x982885[_0x201824]['zw'],gjc2=gjc2[_0x42a82e(0x287)](new RegExp(_0x4d2009,'g'),_0x42a82e(0x236)),_0x4d2009=_0x982885[_0x201824]['pt'];break;}}}console[_0x42a82e(0x184)](gjc2);if(_0x175127[_0x42a82e(0x20c)](gjc2)){console[_0x42a82e(0x184)](_0x42a82e(_0x139bde._0x4a771f));let _0x4cc6fb=_0x42a82e(_0x139bde._0x24d48d)+gjc2,_0x1f9944=await _0xf2bf18(_0x4cc6fb),_0x25acaf=await _0x1f9944[_0x42a82e(_0x139bde._0x40264c)]();_0x25acaf=_0x25acaf[_0x42a82e(_0x139bde._0x616a3e)](/有道翻译查询结果/g,'')[_0x42a82e(0x26e)](),_0x25acaf=_0x25acaf[_0x42a82e(_0x139bde._0x5d0cb2)](/翻译后/g,'')[_0x42a82e(0x26e)](),_0x25acaf=_0x25acaf[_0x42a82e(_0x139bde._0x616a3e)](/翻译前/g,'')[_0x42a82e(0x26e)](),_0x25acaf=_0x25acaf[_0x42a82e(_0x139bde._0x616a3e)](/：/g,'')[_0x42a82e(_0x139bde._0x14811e)](),_0x25acaf=_0x25acaf[_0x42a82e(0x287)](new RegExp(gjc2,'g'),''),gjc2=_0x4d2009+'\x20'+_0x25acaf,console[_0x42a82e(_0x139bde._0x4c3c8d)](gjc2);}else console[_0x42a82e(0x184)](_0x42a82e(_0x139bde._0x1d7ea0));zt=0x1,ycqx=setTimeout(()=>{const _0x4de011=_0x42a82e;if(zt==0x1){zt=0x0,_0x510a77[_0x4de011(_0x3870a4._0x3ad2d8)](_0x4de011(_0x3870a4._0x510f45));return;}},0x7530),_0x510a77[_0x42a82e(_0x139bde._0x10853e)]([segment['at'](id),_0x42a82e(_0x139bde._0x2edbe2)]);return;}}if(sc==0x0&_0x510a77[_0x42a82e(_0x139bde._0x12ef2c)]&zt==0x1&_0x510a77[_0x42a82e(0x1e6)]!=undefined){clearTimeout(ycqx);if(_0x510a77['user_id']==id&zt==0x1){sc=0x1;let _0x66b6da=await imgUrlToBase64(_0x510a77[_0x42a82e(0x1e6)][0x0][_0x42a82e(_0x139bde._0x616a3e)](/https/g,'http')['trim']()),_0x2b330c=_0x66b6da['base64Img'];_0x53d04d[_0x42a82e(0x1fc)](_0x42a82e(0x1dc),_0x2b330c[_0x42a82e(0x1d6)](),'base64',_0x5dd91d=>{const _0x37f883=_0x42a82e;_0x5dd91d?console[_0x37f883(_0x5b381b._0x111eee)](_0x37f883(_0x5b381b._0x2d3f74)):console[_0x37f883(0x184)](_0x37f883(_0x5b381b._0x5be76a));}),await sleep(0x1f4);let _0x45b2e0=_0xa507b0(_0x42a82e(0x1dc)),_0x766b84=_0x45b2e0[_0x42a82e(0x1ea)],_0x271c99=_0x45b2e0[_0x42a82e(0x1d8)];_0x766b84=Math['floor'](_0x766b84/0x40),_0x271c99=Math[_0x42a82e(0x19e)](_0x271c99/0x40);let _0xa8d2c1;_0x766b84>_0x271c99&&(_0xa8d2c1=_0x766b84/_0x271c99,_0x271c99=0x8*0x40,_0x766b84=Math['floor'](0x8*_0xa8d2c1)*0x40);_0x271c99>_0x766b84&&(_0xa8d2c1=_0x271c99/_0x766b84,_0x766b84=0x8*0x40,_0x271c99=Math['floor'](0x8*_0xa8d2c1)*0x40);_0x271c99==_0x766b84&&(_0x766b84=0x300,_0x271c99=0x300,_0xa8d2c1=0x1);console[_0x42a82e(0x184)](_0x766b84,_0x271c99,_0xa8d2c1);var _0x3aa3c5={'init_images':[_0x42a82e(_0x139bde._0x5cb56f)+_0x2b330c],'denoising_strength':0x1-xsd,'prompt':gjc2,'styles':[_0x42a82e(0x298)],'seed':-0x1,'steps':0x28,'cfg_scale':guimo+0x2,'width':_0x271c99,'height':_0x766b84,'negative_prompt':pc,'sampler_index':_0x42a82e(0x19d)};_0x510a77[_0x42a82e(0x20a)](_0x42a82e(0x273)),zt=0x0;try{res=await _0xf2bf18(imgdz,{'method':_0x42a82e(0x186),'agent':isdl?await getAgent():'','body':JSON[_0x42a82e(0x17f)](_0x3aa3c5),'headers':{'Content-Type':'application/json','User-Agent':_0x42a82e(0x241)}});let _0x5526a7=await res[_0x42a82e(_0x139bde._0xf2d45d)]();_0x5526a7=_0x5526a7[_0x42a82e(0x196)],_0x510a77[_0x42a82e(0x20a)]('成功了！'),await _0x53d04d[_0x42a82e(_0x139bde._0x3bcbee)](_0x42a82e(_0x139bde._0x2abf08),_0x5526a7[_0x42a82e(0x1d6)](),_0x42a82e(0x1d3),_0x7870ba=>{const _0x46c246=_0x42a82e;_0x7870ba?console[_0x46c246(_0x3ef64b._0x3e1791)](_0x46c246(0x202)):console[_0x46c246(0x184)](_0x46c246(0x249));}),await sleep(0x1f4),msg2=[segment['at'](_0x510a77[_0x42a82e(_0x139bde._0x16fe66)]),segment['image'](ml+_0x42a82e(0x1fa))],await sleep(0x1f4),iscd=0x0,sc=0x0,id='';ss==0x0&&(await main(_0x42a82e(0x21a)),console[_0x42a82e(_0x139bde._0x31b54a)](tpjc));let _0x1264db,_0x19375a=_0x510a77[_0x42a82e(0x17e)]?.[_0x42a82e(_0x139bde._0x50ef7f)]?_0x510a77[_0x42a82e(_0x139bde._0x40dd59)]['card']:_0x510a77['member']?.[_0x42a82e(0x29e)],_0x41bf95=_0x3e3085[_0x42a82e(0x292)](_0x53d04d[_0x42a82e(_0x139bde._0x15e178)](_0x42a82e(0x1ce),_0x42a82e(_0x139bde._0x1ad997)));_0x41bf95=_0x41bf95[_0x42a82e(_0x139bde._0x5c61ef)][0x0];tpjc=='不合规'&ss==0x0?(_0x1264db=await _0x510a77[_0x42a82e(0x20a)]('又画涩图！你画涩图我已经发给主人了，别再画了！'),msg2=['报告主人\x0a',_0x42a82e(0x29c)+_0x19375a+'('+String(_0x510a77[_0x42a82e(_0x139bde._0x1b6921)])+')\x0a','群号：'+_0x510a77[_0x42a82e(_0x139bde._0x228953)][_0x42a82e(0x188)]+'('+String(_0x510a77[_0x42a82e(_0x139bde._0x47d3c3)])+')\x0a',_0x42a82e(0x1c8),segment[_0x42a82e(0x1ac)](_0x42a82e(_0x139bde._0x2abf08))],Bot[_0x42a82e(_0x139bde._0x28e01d)](_0x41bf95)[_0x42a82e(0x210)](msg2)):_0x1264db=await _0x510a77[_0x42a82e(0x20a)](msg2);iscd=0x1,console['log'](_0x1264db[_0x42a82e(_0x139bde._0x76263f)],isch);if(_0x1264db&&_0x1264db[_0x42a82e(0x204)]&&isch==0x1&&_0x510a77[_0x42a82e(_0x139bde._0x594721)]){let _0x251581=_0x510a77[_0x42a82e(_0x139bde._0x763691)];setTimeout(()=>{const _0x2f5990=_0x42a82e;_0x251581[_0x2f5990(_0x17f1a0._0x221822)](_0x1264db[_0x2f5990(0x204)]);},timeout);}startTimeMS=new Date()['getTime'](),t=setTimeout(()=>{iscd=0x0,sc=0x0,id='';},cd);}catch(_0x42091e){console[_0x42a82e(_0x139bde._0x73fcb6)](_0x42091e),_0x510a77['reply'](_0x42a82e(0x216)),kg=0x0,iscd=0x0,sc=0x0;return;}}}else{if(_0x510a77[_0x42a82e(0x1e6)]==undefined&_0x510a77[_0x42a82e(0x233)]!=undefined){if(_0x510a77[_0x42a82e(_0x139bde._0x21b00e)][_0x42a82e(0x1ae)]('#以图生草')){if(iscd==0x1){console[_0x42a82e(_0x139bde._0x1c9f32)](iscd);let _0x295661=cd-(new Date()['getTime']()-startTimeMS);_0x295661=Math[_0x42a82e(0x172)](_0x295661/0x3e8);if(_0x295661<0x0){sc=0x0,id='';return;}_0x510a77['reply'](_0x42a82e(0x266)+String(_0x295661)+'秒可画');}else _0x510a77[_0x42a82e(0x20a)](_0x42a82e(_0x139bde._0x4dcd0e));}}}}async['huatu2'](_0x53b016){const _0x8ba23a={_0x900fbd:0x1ae,_0x420c83:0x233,_0x49a1c5:0x26e,_0xc24c4c:0x20a,_0x3cc8df:0x1fb,_0x83a007:0x20c,_0x540fa2:0x1f0,_0x7f94f8:0x21e,_0x5a5b67:0x1b0,_0x3feb14:0x20c,_0x266446:0x1cc,_0x3c8f7d:0x287,_0x3e124a:0x26e,_0x3f18a4:0x184,_0x230030:0x184,_0x38221f:0x211,_0x4adff0:0x1ae,_0x48449e:0x224,_0x41facd:0x184,_0x11da64:0x173,_0x3f85d1:0x261,_0x29f845:0x177,_0x5d6132:0x177,_0x35fb64:0x177,_0x13e3ce:0x19c,_0x50b2a2:0x19e,_0x384345:0x237,_0x38e510:0x1d7,_0xef3c3:0x1d6,_0x18b56a:0x297,_0x1c5616:0x292,_0x5a7b93:0x25d,_0x58f23f:0x272,_0x1adedb:0x1ad,_0x33df41:0x1aa,_0x38823a:0x289,_0x1dcd66:0x1ae,_0x2b07bf:0x227,_0x4a34b8:0x23d,_0x17fc5f:0x1f8,_0x37f80b:0x29e,_0x305edb:0x18d,_0x3aded4:0x29c,_0x1c2f33:0x1a9,_0x395005:0x188,_0x58dcc4:0x242,_0x36d2ac:0x204,_0x34e422:0x18f,_0x263fe3:0x223,_0x42a8fc:0x20a},_0x534687={_0xe09395:0x292,_0x4b8411:0x1d6,_0x1fd6f8:0x20c},_0x522a05=_0x39fb6b;dqpz();if(_0x53b016[_0x522a05(0x233)][_0x522a05(_0x8ba23a._0x900fbd)](_0x522a05(0x28b))&!_0x53b016[_0x522a05(0x195)]){_0x53b016[_0x522a05(0x20a)]('你不是主人，不能用预设哦');return;}let _0x15034c,_0x55e7a8,_0xe8eb77;_0x53b016[_0x522a05(0x233)][_0x522a05(0x1ae)]('#土块画图预设')==![]&&(_0xe8eb77=_0x53b016[_0x522a05(_0x8ba23a._0x420c83)][_0x522a05(0x287)](/#绘个图/g,'')[_0x522a05(_0x8ba23a._0x49a1c5)]());if(kg2==0x0&_0x53b016['isGroup']|_0x53b016[_0x522a05(0x195)]){kg2==0x1&&_0x53b016[_0x522a05(_0x8ba23a._0xc24c4c)](_0x522a05(0x215));if(zr==0x1&!_0x53b016[_0x522a05(0x195)]){_0x53b016['reply']('对不起，你不可画哦');return;}kg2=0x1;let _0x962aba=_0xe8eb77,_0x59d3fb='',_0x705c54='';var _0x1ef7e7=new RegExp(_0x522a05(_0x8ba23a._0x3cc8df),'g');if(_0x1ef7e7[_0x522a05(_0x8ba23a._0x83a007)](_0x962aba)&_0x53b016['msg']['includes']('序号')==![]){let _0x501012=_0x522a05(_0x8ba23a._0x540fa2),_0x116295=await _0xf2bf18(_0x501012);_0x59d3fb=await _0x116295[_0x522a05(_0x8ba23a._0x7f94f8)](),_0x59d3fb=_0x59d3fb[_0x522a05(0x188)];for(let _0x54e3fd=0x0;_0x54e3fd<_0x59d3fb[_0x522a05(_0x8ba23a._0x5a5b67)];_0x54e3fd++){if(_0x962aba[_0x522a05(0x1ae)](_0x59d3fb[_0x54e3fd]['zw'])==!![]&_0x59d3fb[_0x54e3fd]['zw']!=''){_0x705c54=_0x59d3fb[_0x54e3fd]['zw'],_0x962aba=_0x962aba['replace'](new RegExp(_0x705c54,'g'),'\x20'),_0x705c54=_0x59d3fb[_0x54e3fd]['pt'];break;}}}console[_0x522a05(0x184)](_0x962aba);if(_0x1ef7e7[_0x522a05(_0x8ba23a._0x3feb14)](_0x962aba)&_0x53b016['msg'][_0x522a05(0x1ae)]('序号')==![]){console['log']('包含中文');let _0x2338a5='https://api.sdgou.cc/api/fanyi/?msg='+_0x962aba,_0x1ad366=await _0xf2bf18(_0x2338a5),_0x11f0a3=await _0x1ad366[_0x522a05(_0x8ba23a._0x266446)]();_0x11f0a3=_0x11f0a3['replace'](/有道翻译查询结果/g,'')[_0x522a05(0x26e)](),_0x11f0a3=_0x11f0a3[_0x522a05(0x287)](/翻译后/g,'')[_0x522a05(0x26e)](),_0x11f0a3=_0x11f0a3[_0x522a05(_0x8ba23a._0x3c8f7d)](/翻译前/g,'')[_0x522a05(0x26e)](),_0x11f0a3=_0x11f0a3[_0x522a05(_0x8ba23a._0x3c8f7d)](/：/g,'')[_0x522a05(_0x8ba23a._0x3e124a)](),_0x11f0a3=_0x11f0a3[_0x522a05(0x287)](new RegExp(_0x962aba,'g'),''),res4=_0x705c54+'\x20'+_0x11f0a3,console[_0x522a05(_0x8ba23a._0x3f18a4)](res4);}else console[_0x522a05(_0x8ba23a._0x230030)](_0x522a05(_0x8ba23a._0x38221f)),res4=_0x705c54+'\x20'+_0x962aba,console[_0x522a05(0x184)](res4);let _0x7c5384,_0x118583;if(_0x53b016[_0x522a05(_0x8ba23a._0x420c83)][_0x522a05(_0x8ba23a._0x4adff0)]('#土块画图预设')&_0x53b016[_0x522a05(0x195)]){_0x55e7a8=_0x53b016[_0x522a05(_0x8ba23a._0x420c83)][_0x522a05(0x287)](/#土块画图预设/g,'')['trim']();let _0x2b076e=ml+_0x522a05(0x1bc);await _0x53d04d['readFile'](_0x2b076e,(_0x1e4580,_0x4d40f3)=>{const _0xb27ce3=_0x522a05;_0x15034c=JSON[_0xb27ce3(_0x534687._0xe09395)](_0x4d40f3[_0xb27ce3(_0x534687._0x4b8411)]()),_0x118583=_0x15034c[_0xb27ce3(0x22a)];var _0x3a2794=new RegExp(_0xb27ce3(0x1fb),'g');if(_0x3a2794[_0xb27ce3(_0x534687._0x1fd6f8)](_0x55e7a8))console[_0xb27ce3(0x184)]('预设包含中文'),_0x7c5384=_0x118583[_0xb27ce3(0x28f)](_0x181da5=>_0x181da5[_0xb27ce3(0x188)]==_0x55e7a8);else{_0x7c5384=Number(_0x55e7a8)-0x1;if(_0x7c5384>_0x118583[_0xb27ce3(0x1b0)]){_0x7c5384=-0x1;return;}}}),await sleep(0x1f4),console['log'](_0x7c5384);if(_0x7c5384!=-0x1)res4=_0x118583[_0x7c5384][_0x522a05(0x1da)];else{_0x53b016[_0x522a05(0x20a)]('没有这个预设哦');return;}}if(_0x53b016[_0x522a05(_0x8ba23a._0x420c83)][_0x522a05(_0x8ba23a._0x4adff0)]('序号')){res4=res4[_0x522a05(_0x8ba23a._0x3c8f7d)](/序号/g,'')['trim']();let _0x2c72dc=_0x522a05(0x220),_0x10e39a=await _0xf2bf18(_0x2c72dc,{'agent':isdl?await getAgent():''}),_0x6da66f=await _0x10e39a[_0x522a05(0x21e)](),_0x1a3a50=_0x6da66f['name'],_0x3f9947=_0x53b016[_0x522a05(0x233)][_0x522a05(_0x8ba23a._0x48449e)](0x6,0x9);const _0x18203c=/\d+/;let _0x122660=_0x3f9947['match'](_0x18203c),_0x3d2e5c=_0x122660[0x0];res4=res4['replace'](new RegExp(_0x3d2e5c,'g'),''),_0x122660=Number(_0x122660[0x0]);try{res4=_0x1a3a50[_0x122660+0x1]['pt']+res4,console[_0x522a05(_0x8ba23a._0x41facd)](res4);}catch{_0x53b016[_0x522a05(0x20a)](_0x522a05(0x240));return;}}await sleep(0x1f4),_0x53b016['reply'](_0x522a05(0x1fd)+_0x705c54);let _0x30b15d=Math['floor'](Math[_0x522a05(_0x8ba23a._0x11da64)]()*0x2);_0x30b15d==0x0&&(changdu=0x200,kuandu=0x300);_0x30b15d==0x1&&(changdu=0x300,kuandu=0x200);console[_0x522a05(0x184)](_0x30b15d);var _0x453d2c=_0x522a05(_0x8ba23a._0x3f85d1),_0x49b071=[res4,pc,_0x522a05(_0x8ba23a._0x29f845),_0x522a05(_0x8ba23a._0x5d6132),0x14,_0x522a05(0x19d),![],![],0x1,0x1,0x7,-0x1,-0x1,0x0,0x0,0x0,![],changdu,kuandu,![],![],0.7,_0x522a05(_0x8ba23a._0x35fb64),![],![],null,'',_0x522a05(0x23b),'',_0x522a05(_0x8ba23a._0x13e3ce),'',!![],![],null,'',''],_0x5ef391=[res4,pc,_0x522a05(0x177),_0x522a05(_0x8ba23a._0x5d6132),0x1c,_0x522a05(0x19d),![],![],0x1,0x1,0xb,-0x1,-0x1,0x0,0x0,0x0,![],0x200,0x200,![],![],0.7,_0x522a05(0x177),![],![],null,'',_0x522a05(0x23b),'',_0x522a05(_0x8ba23a._0x13e3ce),'',!![],![],null,'',''];let _0x4a0723=_0x522a05(0x256),_0x50d0ca=Math[_0x522a05(_0x8ba23a._0x50b2a2)](Math[_0x522a05(_0x8ba23a._0x11da64)]()*0xb6cff090),_0x1f5348=_0x522a05(_0x8ba23a._0x384345)+moxing+_0x522a05(_0x8ba23a._0x38e510)+guimo[_0x522a05(_0x8ba23a._0xef3c3)]()+_0x522a05(0x20b)+bushu['toString']()+'\x20\x20\x20\x20\x20\x20\x20\x20|seed:'+_0x50d0ca[_0x522a05(0x1d6)](),_0x4a3a10='';try{_0x4a3a10=_0x53d04d[_0x522a05(0x175)](_0x522a05(_0x8ba23a._0x18b56a));}catch{_0x53b016[_0x522a05(0x20a)]('你还没有填写密钥哦。');return;}_0x4a3a10=_0x4a3a10[_0x522a05(_0x8ba23a._0xef3c3)]();let _0x5f39d9=_0x3e3085[_0x522a05(_0x8ba23a._0x1c5616)](_0x53d04d[_0x522a05(0x175)](_0x522a05(0x1ce),_0x522a05(_0x8ba23a._0x5a7b93)));_0x5f39d9=_0x5f39d9['masterQQ'][0x0];try{let _0x265e0b=_0x522a05(_0x8ba23a._0x58f23f)+_0x4a3a10+_0x522a05(_0x8ba23a._0x1adedb)+String(_0x5f39d9);res=await _0xf2bf18(_0x265e0b,{'agent':isdl?await getAgent():''}),console[_0x522a05(0x184)](_0x522a05(_0x8ba23a._0x33df41));}catch(_0x38cfb2){console['log'](_0x38cfb2),console['log'](_0x522a05(_0x8ba23a._0x38823a));}res=await res[_0x522a05(0x1cc)]();if(res[_0x522a05(_0x8ba23a._0x1dcd66)](_0x522a05(0x1d9))==![]){_0x53b016[_0x522a05(0x20a)]('很抱歉，你的密钥错误。'),console[_0x522a05(0x184)](res);return;}try{let _0x2f8e5b=await _0xf2bf18(txtdz,{'method':_0x522a05(0x24d),'agent':isdl?await getAgent():'','headers':{'Content-Type':_0x522a05(_0x8ba23a._0x2b07bf),'authorization':'Bearer'},'body':JSON['stringify']({'prompt':_0x522a05(_0x8ba23a._0x4a34b8)+res4,'width':kuandu,'height':changdu,'cfg_scale':guimo+0x2,'sampler':moxing,'steps':0x1e,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0x2f8e5b[_0x522a05(_0x8ba23a._0x7f94f8)](),res=res4[_0x522a05(0x196)][0x0],_0x53b016[_0x522a05(0x20a)](_0x522a05(_0x8ba23a._0x17fc5f)),await _0x53d04d[_0x522a05(0x1fc)](_0x522a05(0x17a),res[_0x522a05(0x1d6)](),_0x522a05(0x1d3),_0x58cdc2=>{const _0x236fbc=_0x522a05;if(_0x58cdc2)console[_0x236fbc(0x184)](_0x236fbc(0x202));else{}});iscanshu==0x0&&(_0x1f5348='');await sleep(0x1f4);ss==0x0&&(await main(_0x522a05(0x17a)),console[_0x522a05(_0x8ba23a._0x230030)](tpjc));let _0x2d8c7d,_0x1ae139=_0x53b016['member']?.['card']?_0x53b016[_0x522a05(0x17e)]['card']:_0x53b016[_0x522a05(0x17e)]?.[_0x522a05(_0x8ba23a._0x37f80b)];tpjc==_0x522a05(_0x8ba23a._0x305edb)&ss==0x0?(_0x2d8c7d=await _0x53b016[_0x522a05(0x20a)]('又画涩图！你画涩图我已经发给主人了，别再画了！'),msg2=[_0x522a05(0x1a0),_0x522a05(_0x8ba23a._0x3aded4)+_0x1ae139+'('+String(_0x53b016[_0x522a05(0x1a5)])+')\x0a',_0x522a05(_0x8ba23a._0x1c2f33)+_0x53b016[_0x522a05(0x282)][_0x522a05(_0x8ba23a._0x395005)]+'('+String(_0x53b016[_0x522a05(0x182)])+')\x0a',_0x522a05(0x1c8),segment[_0x522a05(0x1ac)](_0x522a05(0x17a))],Bot[_0x522a05(_0x8ba23a._0x58dcc4)](_0x5f39d9)[_0x522a05(0x210)](msg2)):(msg2=[segment['image']('./resources/ht.png'),_0x1f5348],_0x2d8c7d=await _0x53b016['reply'](msg2,ishuifu));iscd=0x1,console[_0x522a05(0x184)](_0x2d8c7d['message_id'],isch);if(_0x2d8c7d&&_0x2d8c7d[_0x522a05(_0x8ba23a._0x36d2ac)]&&isch==0x1&&_0x53b016[_0x522a05(_0x8ba23a._0x34e422)]){let _0x53b143=_0x53b016[_0x522a05(0x282)];setTimeout(()=>{const _0x5d68a3=_0x522a05;_0x53b143[_0x5d68a3(0x1c7)](_0x2d8c7d['message_id']);},timeout);}startTimeMS=new Date()['getTime'](),t=setTimeout(()=>{kg2=0x0,iscd=0x0;},cd);}catch{_0x53b016['reply']('服务器正忙，请稍后'),kg2=0x0,iscd=0x0;return;}}else{if(iscd==0x1){let _0x135b1c=cd-(new Date()[_0x522a05(_0x8ba23a._0x263fe3)]()-startTimeMS);_0x135b1c=Math['round'](_0x135b1c/0x3e8);if(_0x135b1c<0x0){kg2=0x0;return;}_0x53b016[_0x522a05(0x20a)]('我在cd中，还有'+String(_0x135b1c)+_0x522a05(0x27e));}else _0x53b016[_0x522a05(_0x8ba23a._0x42a8fc)]('正在画图中，我知道你很急，但是你先别急。');}}}async function imgUrlToBase64(_0x221489){const _0x466661={_0x4437d8:0x19f,_0x122527:0x270};let _0x490a2c;return new Promise(function(_0x236e5f,_0x3e3ed3){const _0x647145={_0x3474e1:0x1d6},_0x42124d=_0x349a;let _0x3a785f=http['get'](_0x221489,function(_0x3c7dbf){const _0x13d69b=_0x349a;var _0x769ab0=[],_0x33d5fa=0x0;_0x3c7dbf['on']('data',function(_0x1d34c9){const _0xda252a=_0x349a;_0x769ab0[_0xda252a(0x267)](_0x1d34c9),_0x33d5fa+=_0x1d34c9[_0xda252a(0x1b0)];}),_0x3c7dbf['on'](_0x13d69b(0x270),function(_0x1a6a2d){const _0x55dcca=_0x13d69b;var _0x249521=Buffer[_0x55dcca(0x1f1)](_0x769ab0,_0x33d5fa);_0x490a2c=_0x249521[_0x55dcca(_0x647145._0x3474e1)]('base64'),_0x236e5f({'success':!![],'base64Img':_0x490a2c});});});_0x3a785f['on'](_0x42124d(_0x466661._0x4437d8),_0x12fb46=>{_0x236e5f({'success':![],'errmsg':_0x12fb46['message']});}),_0x3a785f[_0x42124d(_0x466661._0x122527)]();});}function sleep(_0x4df2d1){return new Promise(_0x1572a5=>setTimeout(_0x1572a5,_0x4df2d1));}async function dqpz(){const _0x41bfda={_0x5f387a:0x18a,_0x271d64:0x1af,_0x2c47c5:0x184},_0x423c89=_0x39fb6b;let _0x33e980=_0x3e3085[_0x423c89(0x292)](_0x53d04d[_0x423c89(0x175)](_0x423c89(_0x41bfda._0x5f387a),'utf8'));cd=_0x33e980['cd'],timeout=_0x33e980['timeout'],isch=_0x33e980[_0x423c89(0x1d2)],iscd=_0x33e980[_0x423c89(_0x41bfda._0x271d64)],zr=_0x33e980['zr'],ss=_0x33e980['ss'],console[_0x423c89(_0x41bfda._0x2c47c5)](cd,timeout,isch,iscd,zr,ss),await sleep(0x1f4);}async function getAgent(){const _0x4dd381={_0x3bee91:0x25a,_0x3645bf:0x27a,_0x53f07f:0x24c,_0x5bac97:0x235},_0x5e5f6d=_0x39fb6b;let _0x24b8c7=_0x1a4592['bot']['proxyAddress'];if(!_0x24b8c7)return null;if(_0x24b8c7===_0x5e5f6d(_0x4dd381._0x3bee91))return null;HttpsProxyAgent===''&&(HttpsProxyAgent=await import(_0x5e5f6d(_0x4dd381._0x3645bf))[_0x5e5f6d(_0x4dd381._0x53f07f)](_0x385392=>{logger['error'](_0x385392);}),HttpsProxyAgent=HttpsProxyAgent?HttpsProxyAgent[_0x5e5f6d(_0x4dd381._0x5bac97)]:undefined);if(HttpsProxyAgent)return new HttpsProxyAgent(_0x24b8c7);return null;}function _0x58cf(){const _0x340f22=['好的，我开始以图生草了','123','#离谱','time','huatu3','1803205FtUrzk','#关闭参数显示','https-proxy-agent','qhjk','utf-8','https://api.sdgou.cc/api/fanyi/?msg=','秒可画','timeout','以图生草','#以图生草降噪','group','2WiDhsm','^#查看所有预设$|#新增预设(.*)|(.*)','^#开启代理|^#关闭代理|^#开启参数显示|^#关闭参数显示|^#开启词条回复|^#关闭词条回复','http://101.35.162.36:7860/run/predict/','replace','wet','没有访问成功','base64Img','#土块画图预设','该密钥已被激活','步数不在合理范围内，28以下为合理范围','#新增预设','findIndex','当前相似度','{{{masterpiece}}},{{genshin\x20kokomi}}，best\x20quality,illustration,1girl,\x20small\x20breast,\x20sailor\x20dress,wet\x20clothes,\x20bikini,\x20sideboob,white\x20shirt,','parse','0yzsdmhe9br9','8fMlOYA','请发送图片','已开启参数显示','./resources/th2.txt','Resize\x20and\x20fill','#库库','data','tianxie','昵称：','#生气','nickname','你好号主','采样已设置为Euler\x20a','round','random','当前降噪','readFileSync','ignore','None','这个密钥已经被激活了，你想干嘛！','^#土块画图采样(.*)|^#查看所有采样','./resources/ht.png','#查看魔法','splice','\x0a降噪：','member','stringify','采样已设置为DPM++\x202S\x20a\x20Karras','^#图生草(.*)|#嗯哼(.*)|#离谱(.*)|#嘿嘿(.*)|#生气(.*)|#库库(.*)','group_id','#填写sk','log','tags','post','^#切换接口(.*)','name','tsc','./plugins/earth-k-plugin/config/config.yaml','开启代理成功','^#以图生草(.*)$|(.*)','不合规','二次元的空气吗？你艾特谁了？','isGroup','已经开启默认屏蔽词','1406694SwBUiJ','#以图生草相似度','^#新增屏蔽词(.*)$|#查看屏蔽词$|#删除屏蔽词$|#开启默认屏蔽词$','11gTkAjd','isMaster','images','切换接口1成功','getChatHistory','已关闭画图冷却','已关闭词条回复','ckmx','Steps','Euler\x20a','floor','error','报告主人\x0a','message','#删除屏蔽词','新增预设成功','33573348mKSXrn','user_id','http','access_token','正在查看魔法，请稍后啊，0v0','群号：','访问成功了','1142407413','image','&qq=','includes','iscd','length','\x0a步数：','^#土块画图规模(.*)','source','15秒还未发图，查看魔法已取消','readFile','你还没有配置百度鉴黄api，看教程：https://www.wolai.com/fFYRjryGk8ktsVvTWjgK5i','^#填写ak(.*)|#填写sk(.*)','已开启画图冷却，冷却时间为30秒','#取消画图','好吧，那就一起来吧！','576MAzIti','/resources/ys.json','https://www.tukuai.one/ytsc.php','DDMI','访问失败了,QAQ,TvT','#查看屏蔽词','#切换接口0','qvht','[name].[output_extension]','(ink\u00a0wash\u00a0painting:1.1)\x20,sketchr','又画涩图！你画涩图我已经发给主人了，别再画了！','填写ak成功','recallMsg','在画涩图被我抓到了','二次元的','(photorealistic:1.5),{{masterpiece}},wet','split','text','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','./config/config/other.yaml','#土块画图撤回关闭','\x0a规模：','1532130dhHpak','isch','base64','txak','./plugins/earth-k-plugin/resources/aiht/ml.html','toString','\x20\x20\x20|规模:','width','可以访问','gjc','#土块画图撤回','./resources/yb.png','删除屏蔽词成功','已关闭代理','采样不在合理范围内，1-8为合理范围','正在生草中，我知道你很急，先别急','&spec=5','\x0a相似度：','密钥不存在！不能乱输入哦','https://www.tukuai.one/ht.php','#开启词条回复','img','#土块画图冷却关闭','很抱歉，你的密钥错误。','application/x-www-form-urlencoded','height','12tQtded','data:image/png;base64,','friend','#关闭词条回复','^#绘个图(.*)$|#土块画图预设(.*)$','http://www.tukuai.one/wj.php','concat','采样已设置为DPM++\x202M','card','Heun','wdecy','https://aip.baidubce.com/rest/2.0/solution/v1/img_censor/v2/user_defined?access_token=','149276cGMIsu','成功了！','57168WqizWj','/resources/3.jpg','[\x5cu4E00-\x5cu9FFF]+','writeFile','好的，我开始画图了，请稍等哦','image=','已关闭参数显示','已设置撤回时间为','很抱歉，你的密钥错误，不能生草','写入文件错误','你还没有填写密钥哦。','message_id','seq','ysgn','kqdl','#土块鉴黄关闭','http://129.204.194.34:7860/sdapi/v1/txt2img','reply','\x20\x0a步数:','test','conclusion','^#查看模型','pbc','sendMsg','是英文','#新增屏蔽词','#嘿嘿','pop','你是主人，没有cd，欸嘿','服务器正忙，请稍后','R_OK','./resources/ys.json','Angry','./resources/3.jpg','30秒还未发图，以图生草已取消','cwd','szmx','json','#土块画图撤回开启','https://www.tukuai.one/wj.php','#嗯哼','规模不在合理范围内，3-12为合理范围','getTime','substring','writeFileSync','服务器正忙,请稍后','application/json','数字超过了预设个数','huatu2','shuju','Bearer','Euler','^#二次元的他(.*)','已设置冷却时间为','土块AI画图','删除预设成功','code','#以图生草','msg','#仅我可画','default','best\x20quality','模型:','type','url','包含中文','Seed','&client_secret=','masterpiece,\x20best\x20quality,','#查看所有采样','screenshot','没有这个序号哦','Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36','pickUser','125986tgwWks','以图生草暂不支持私聊','#删除预设','当前屏蔽词有：','^#看魔法(.*)','^#取消画图$|^#所有人可画$|^#仅我可画$|^#土块画图撤回(.*)$|^#土块画图冷却(.*)$|^#土块鉴黄开启|^#土块鉴黄关闭','写入文件成功','步数已设置为','masterQQ','catch','POST','ecydt','data:image/jpeg;base64,','#开启默认屏蔽词','#查看预设词条','DPM++\x202S\x20a\x20Karras','已激活密钥，号主为','http://q2.qlogo.cn/headimg_dl?dst_uin=','已激活该密钥','https://api.novelai.net/ai/generate-image\x20','https://www.tukuai.one//diqiu.php?tk=','lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','采样已设置为DDMI','http://0.0.0.0:0','已取消当前画图','跳过创建','utf8','szgm','规模已设置为','0_0,\x20(o)_(o),\x20+_+,\x20+_-,\x20._.,\x20<o>_<o>,\x20<|>_<|>,\x20=_=,\x20>_<,\x203_3,\x206_9,\x20>_o,\x20@_@,\x20^_^,\x20o_o,\x20u_u,\x20x_x,\x20|_|,\x20||_||','abc','采样已设置为Heun','采样已设置为Euler','#填写ak','文件写入成功！','我在cd中，还有','push','#绘个图','已经取消','密钥不存在','切换接口2成功','access','我知道你要干嘛！注意身体！','trim','^#土块画图步数(.*)|^#查看画图设置','end','kmf','https://www.tukuai.one//qx.php?tk='];_0x58cf=function(){return _0x340f22;};return _0x58cf();}async function main(_0x17f0cc){const _0x1fb14b={_0x32e15a:0x1fe,_0x3fb76e:0x227,_0xbca206:0x21e,_0x5a773f:0x20d,_0x31cfed:0x184},_0xa5875=_0x39fb6b;let _0x494ded=getFileContentAsBase64(_0x17f0cc),_0x1e2951=_0xa5875(0x1f6)+await getAccessToken(),_0x2f8fcf=await _0xf2bf18(_0x1e2951,{'method':_0xa5875(0x186),'body':_0xa5875(_0x1fb14b._0x32e15a)+encodeURIComponent(_0x494ded),'headers':{'Content-Type':_0xa5875(0x1e9),'Accept':_0xa5875(_0x1fb14b._0x3fb76e)}});_0x2f8fcf=await _0x2f8fcf[_0xa5875(_0x1fb14b._0xbca206)](),tpjc=_0x2f8fcf[_0xa5875(_0x1fb14b._0x5a773f)],console[_0xa5875(_0x1fb14b._0x31cfed)](tpjc);}async function getAccessToken(){const _0x3c253a={_0x30f7d8:0x18a,_0x1cd3f8:0x1cd,_0x298581:0x186},_0x2c1365=_0x39fb6b;let _0x4d05df=_0x3e3085[_0x2c1365(0x292)](_0x53d04d[_0x2c1365(0x175)](_0x2c1365(_0x3c253a._0x30f7d8),_0x2c1365(0x25d)));const _0x51bb3b=_0x4d05df['ak'],_0x3f4e34=_0x4d05df['sk'];let _0x25c937=_0x2c1365(_0x3c253a._0x1cd3f8)+_0x51bb3b+_0x2c1365(0x23c)+_0x3f4e34,_0x4c9049=await _0xf2bf18(_0x25c937,{'method':_0x2c1365(_0x3c253a._0x298581)});return _0x4c9049=await _0x4c9049['json'](),_0x4c9049=_0x4c9049[_0x2c1365(0x1a7)],_0x4c9049;}function getFileContentAsBase64(_0x1ddfc4){const _0x33a1d3=_0x39fb6b,_0x32c4fa=require('fs');try{return _0x32c4fa[_0x33a1d3(0x175)](_0x1ddfc4,{'encoding':'base64'});}catch(_0x296a8e){throw new Error(_0x296a8e);}}
const _0x2eceae=_0x169c;(function(_0x308699,_0x268bf6){const _0x1caafe={_0x4b8995:0x2e0,_0x20e572:0x2b4,_0x4634cf:0x201,_0x54da19:0x1f3,_0x36d7d7:0x2c5},_0x1b64eb=_0x169c,_0x27f115=_0x308699();while(!![]){try{const _0x2ac0ea=parseInt(_0x1b64eb(0x29a))/0x1*(parseInt(_0x1b64eb(0x2b1))/0x2)+-parseInt(_0x1b64eb(_0x1caafe._0x4b8995))/0x3+-parseInt(_0x1b64eb(_0x1caafe._0x20e572))/0x4*(parseInt(_0x1b64eb(0x2cf))/0x5)+-parseInt(_0x1b64eb(_0x1caafe._0x4634cf))/0x6*(-parseInt(_0x1b64eb(0x296))/0x7)+-parseInt(_0x1b64eb(_0x1caafe._0x54da19))/0x8+-parseInt(_0x1b64eb(_0x1caafe._0x36d7d7))/0x9*(-parseInt(_0x1b64eb(0x1fe))/0xa)+-parseInt(_0x1b64eb(0x1f7))/0xb*(-parseInt(_0x1b64eb(0x1cc))/0xc);if(_0x2ac0ea===_0x268bf6)break;else _0x27f115['push'](_0x27f115['shift']());}catch(_0x13c067){_0x27f115['push'](_0x27f115['shift']());}}}(_0x5e39,0xaacd3));import{segment}from'oicq';import _0x26cb99 from'node-fetch';import _0x598e33 from'image-size';import _0x525628 from'fs';import _0xc672b0 from'../../../lib/config/config.js';import{getdsc}from'../../../plugins/earth-k-plugin/resources/getecy.js';import _0x1837ea from'../../../lib/puppeteer/puppeteer.js';let data1={};import{createRequire}from'module';import _0x473af9 from'yaml';const require=createRequire(import.meta[_0x2eceae(0x25f)]);let ysct,mf,mfkg=0x0,tpjc='',jsss=0x0,ml=process[_0x2eceae(0x2bc)]();var http=require(_0x2eceae(0x1fb));import _0x554d96 from'lodash';let yushekg=0x0,kg=0x0,guimo=5.5,kg2=0x0,mfid='',res4,htm='',htm2='',res5,res,zr=0x0,changdu=0x200,kuandu=0x200,msg2,timeout=0x7530,isch=0x1,cd=0x0,t,startTimeMS,iscd=0x0,my,dz,sj1,sj2,shuju,zt=0x0,gjc2,sc=0x0,bushu=0x1c,id='',xsd=0.5,nr,ycqx,jz=0.2,ss=0x1,Path,ys=[],moxing=_0x2eceae(0x2d1),isdl=0x0,iscanshu=0x1,ishuifu=!![],HttpsProxyAgent='',chang,kuan,pc=_0x2eceae(0x1ef);export class aiht extends plugin{constructor(){const _0x188b8c={_0x494d57:0x1be,_0x7ff1c2:0x221,_0xf7c216:0x233,_0xa2af11:0x1ce,_0x4fffbf:0x261,_0x2716c9:0x254,_0x392523:0x23d,_0x1a163b:0x2c0,_0x22dc30:0x1d7,_0x5105cd:0x277,_0xaeef6e:0x266,_0x38ae6b:0x2b3,_0x1b0b12:0x1c1,_0x265017:0x25b,_0x41dacf:0x286,_0x23f3c6:0x21b,_0x55ae83:0x2a4,_0x3c9ec1:0x23b},_0x4e1803=_0x2eceae;super({'name':'土块AI画图','dsc':_0x4e1803(_0x188b8c._0x494d57),'event':_0x4e1803(_0x188b8c._0x7ff1c2),'priority':0x479,'rule':[{'reg':_0x4e1803(_0x188b8c._0xf7c216),'fnc':_0x4e1803(_0x188b8c._0xa2af11)},{'reg':_0x4e1803(0x1e4),'fnc':'qvht'},{'reg':_0x4e1803(_0x188b8c._0x4fffbf),'fnc':_0x4e1803(0x2c4)},{'reg':_0x4e1803(_0x188b8c._0x2716c9),'fnc':_0x4e1803(0x279),'log':![]},{'reg':_0x4e1803(0x2c6),'fnc':_0x4e1803(_0x188b8c._0x392523),'log':![]},{'reg':'^#土块画图规模(.*)','fnc':_0x4e1803(_0x188b8c._0x1a163b)},{'reg':_0x4e1803(_0x188b8c._0x22dc30),'fnc':_0x4e1803(_0x188b8c._0x5105cd)},{'reg':'^#土块画图步数(.*)|^#查看画图设置','fnc':_0x4e1803(_0x188b8c._0xaeef6e)},{'reg':_0x4e1803(_0x188b8c._0x38ae6b),'fnc':_0x4e1803(_0x188b8c._0x1b0b12)},{'reg':_0x4e1803(_0x188b8c._0x265017),'fnc':_0x4e1803(_0x188b8c._0x41dacf)},{'reg':_0x4e1803(_0x188b8c._0x23f3c6),'fnc':_0x4e1803(0x218)},{'reg':_0x4e1803(_0x188b8c._0x55ae83),'fnc':_0x4e1803(0x1f9)},{'reg':_0x4e1803(0x238),'fnc':_0x4e1803(0x216)},{'reg':_0x4e1803(0x29e),'fnc':_0x4e1803(0x28c)},{'reg':_0x4e1803(0x256),'fnc':_0x4e1803(_0x188b8c._0x3c9ec1)}]});}async[_0x2eceae(0x23b)](_0x22d47c){const _0x3dc459={_0x479d46:0x242,_0x50db1c:0x1c2,_0x55848d:0x21f,_0x38e807:0x281,_0x17b57d:0x21e,_0x5e05bb:0x222,_0x542fe4:0x264,_0x33b120:0x281,_0x4ec978:0x2b8,_0x4a1c38:0x21f,_0x34a393:0x21e,_0x1083a6:0x237,_0x50c02b:0x2da},_0x4431b1=_0x2eceae;if(_0x22d47c[_0x4431b1(0x281)][_0x4431b1(_0x3dc459._0x479d46)](_0x4431b1(_0x3dc459._0x50db1c))){let _0x9b74e0=_0x473af9[_0x4431b1(0x2b8)](_0x525628[_0x4431b1(_0x3dc459._0x55848d)](_0x4431b1(0x237),_0x4431b1(0x25a))),_0x5b4607=_0x22d47c[_0x4431b1(_0x3dc459._0x38e807)][_0x4431b1(_0x3dc459._0x17b57d)](/#填写ak/g,'')[_0x4431b1(0x274)]();_0x9b74e0['ak']=_0x5b4607,_0x525628[_0x4431b1(_0x3dc459._0x5e05bb)](_0x4431b1(0x237),_0x473af9[_0x4431b1(0x1e3)](_0x9b74e0)),_0x22d47c[_0x4431b1(_0x3dc459._0x542fe4)](_0x4431b1(0x208));}if(_0x22d47c[_0x4431b1(_0x3dc459._0x33b120)][_0x4431b1(0x242)](_0x4431b1(0x1d5))){let _0x2da9a9=_0x473af9[_0x4431b1(_0x3dc459._0x4ec978)](_0x525628[_0x4431b1(_0x3dc459._0x4a1c38)]('./plugins/earth-k-plugin/config/config.yaml','utf8')),_0x12cc22=_0x22d47c[_0x4431b1(_0x3dc459._0x33b120)][_0x4431b1(_0x3dc459._0x34a393)](/#填写sk/g,'')[_0x4431b1(0x274)]();_0x2da9a9['sk']=_0x12cc22,_0x525628[_0x4431b1(0x222)](_0x4431b1(_0x3dc459._0x1083a6),_0x473af9[_0x4431b1(0x1e3)](_0x2da9a9)),_0x22d47c[_0x4431b1(_0x3dc459._0x542fe4)](_0x4431b1(_0x3dc459._0x50c02b));}}async[_0x2eceae(0x28c)](_0x266e29){const _0x5235b9={_0x22add2:0x2cd,_0x306de7:0x2b8,_0x37b0d8:0x236,_0x41a422:0x1cf,_0x513d18:0x1e0,_0x1e722e:0x264,_0x529702:0x209,_0x34b508:0x24f,_0x2c911e:0x288,_0x200f52:0x255,_0x440e7a:0x2ca,_0x2b6b45:0x26f,_0x38f504:0x2d5,_0x423beb:0x2c2,_0x3ef3dc:0x29d,_0x39f5e7:0x1c4,_0x188f62:0x1fb,_0x551d3b:0x274,_0x459b72:0x2d9,_0x56424e:0x20a,_0x3bfefe:0x272,_0x5b6901:0x283,_0x39bc01:0x212,_0x16f00f:0x212,_0x3e4163:0x25c,_0x596f32:0x2d1,_0x2f05c3:0x271,_0x23569f:0x2b7,_0x3f90fd:0x2bb,_0x3342ab:0x229,_0x321eee:0x276,_0x2e0f45:0x20a,_0x17a9d3:0x2a7,_0x1b00dd:0x1e6,_0x5615a1:0x291,_0x430212:0x264,_0x217998:0x2db,_0x7ce34d:0x28f,_0x4c8997:0x219,_0x34ea8a:0x1cf,_0x268a18:0x268},_0x362570={_0x1074c2:0x1cf,_0x3a68a2:0x2ba},_0xafb860={_0x2f05cc:0x1cf},_0x210be7=_0x2eceae;dqpz();let _0x247fa0='',_0x91c2b6=0.5;try{_0x247fa0=_0x525628[_0x210be7(0x21f)](_0x210be7(_0x5235b9._0x22add2));}catch{_0x266e29[_0x210be7(0x264)](_0x210be7(0x217));return;}_0x247fa0=_0x247fa0[_0x210be7(0x272)]();let _0xfc0c06=_0x473af9[_0x210be7(_0x5235b9._0x306de7)](_0x525628['readFileSync'](_0x210be7(0x2a8),_0x210be7(0x25a)));_0xfc0c06=_0xfc0c06[_0x210be7(_0x5235b9._0x37b0d8)][0x0];try{let _0x5e269a='https://www.tukuai.one//qx.php?tk='+_0x247fa0+'&qq='+String(_0xfc0c06);res=await _0x26cb99(_0x5e269a,{'agent':isdl?await getAgent():''}),console[_0x210be7(_0x5235b9._0x41a422)](_0x210be7(0x257));}catch(_0x287a61){console[_0x210be7(_0x5235b9._0x41a422)](_0x287a61),console[_0x210be7(_0x5235b9._0x41a422)]('没有访问成功');}res=await res[_0x210be7(_0x5235b9._0x513d18)]();if(res[_0x210be7(0x242)]('可以访问')==![]){_0x266e29[_0x210be7(_0x5235b9._0x1e722e)](_0x210be7(_0x5235b9._0x529702)),console[_0x210be7(0x1cf)](res);return;}let _0x35557b=_0x266e29[_0x210be7(0x281)][_0x210be7(0x21e)](/#图生草/g,'')[_0x210be7(0x274)]();_0x266e29[_0x210be7(0x281)]==_0x210be7(_0x5235b9._0x34b508)&&(_0x35557b=_0x210be7(0x249));_0x266e29[_0x210be7(0x281)]=='#离谱'&&(_0x35557b=_0x210be7(0x2c9),_0x91c2b6=0.55);_0x266e29['msg']==_0x210be7(0x243)&&(_0x35557b='(ink\u00a0wash\u00a0painting:1.2)\x20,sketchr');_0x266e29['msg']==_0x210be7(0x298)&&(_0x35557b=_0x210be7(0x24c));let _0x533ba0;if(_0x266e29[_0x210be7(0x27a)]){_0x266e29[_0x210be7(_0x5235b9._0x2c911e)]?_0x533ba0=(await _0x266e29[_0x210be7(_0x5235b9._0x200f52)][_0x210be7(0x2d5)](_0x266e29[_0x210be7(0x27a)][_0x210be7(_0x5235b9._0x440e7a)],0x1))[_0x210be7(_0x5235b9._0x2b6b45)]()?.[_0x210be7(0x221)]:_0x533ba0=(await _0x266e29[_0x210be7(0x2d2)][_0x210be7(_0x5235b9._0x38f504)](_0x266e29[_0x210be7(0x27a)][_0x210be7(_0x5235b9._0x423beb)],0x1))[_0x210be7(0x26f)]()?.[_0x210be7(0x221)];if(_0x533ba0)for(let _0x90fb5b of _0x533ba0){if(_0x90fb5b['type']==_0x210be7(0x219)){_0x266e29[_0x210be7(_0x5235b9._0x3ef3dc)]=[_0x90fb5b[_0x210be7(0x25f)]];break;}}}let _0x1b6f0a;if(!_0x266e29[_0x210be7(0x29d)]){if(!_0x266e29[_0x210be7(0x29d)]){let _0x1ded22=_0x266e29['at'],_0x2c0fe5='http://q2.qlogo.cn/headimg_dl?dst_uin='+_0x1ded22+_0x210be7(_0x5235b9._0x39f5e7);_0x1b6f0a=await imgUrlToBase64(_0x2c0fe5);}}else _0x1b6f0a=await imgUrlToBase64(_0x266e29[_0x210be7(0x29d)][0x0][_0x210be7(0x21e)](/https/g,_0x210be7(_0x5235b9._0x188f62))[_0x210be7(_0x5235b9._0x551d3b)]());let _0xd2bd55=_0x1b6f0a[_0x210be7(_0x5235b9._0x459b72)];_0x525628[_0x210be7(_0x5235b9._0x56424e)]('./resources/yb.png',_0xd2bd55[_0x210be7(_0x5235b9._0x3bfefe)](),'base64',_0x4cd330=>{const _0x341e35=_0x210be7;_0x4cd330?console[_0x341e35(0x1cf)]('写入文件错误'):console[_0x341e35(_0xafb860._0x2f05cc)](_0x341e35(0x2ba));}),await sleep(0x1f4);let _0x240ce2=_0x598e33(_0x210be7(_0x5235b9._0x5b6901)),_0x1b7a1c=_0x240ce2[_0x210be7(0x1df)],_0x899bbf=_0x240ce2['width'];_0x1b7a1c=Math[_0x210be7(0x212)](_0x1b7a1c/0x40),_0x899bbf=Math[_0x210be7(_0x5235b9._0x39bc01)](_0x899bbf/0x40);let _0x207b7d;_0x1b7a1c>_0x899bbf&&(_0x207b7d=_0x1b7a1c/_0x899bbf,_0x899bbf=0x8*0x40,_0x1b7a1c=Math['floor'](0x8*_0x207b7d)*0x40);_0x899bbf>_0x1b7a1c&&(_0x207b7d=_0x899bbf/_0x1b7a1c,_0x1b7a1c=0x8*0x40,_0x899bbf=Math[_0x210be7(_0x5235b9._0x16f00f)](0x8*_0x207b7d)*0x40);_0x899bbf==_0x1b7a1c&&(_0x1b7a1c=0x300,_0x899bbf=0x300,_0x207b7d=0x1);console['log'](_0x1b7a1c,_0x899bbf,_0x207b7d);var _0x57fe83={'init_images':[_0x210be7(_0x5235b9._0x3e4163)+_0xd2bd55],'denoising_strength':_0x91c2b6,'prompt':_0x35557b,'styles':[_0x210be7(0x1e1)],'seed':-0x1,'steps':0x28,'cfg_scale':guimo+0x2,'width':_0x899bbf,'height':_0x1b7a1c,'negative_prompt':pc,'sampler_index':_0x210be7(_0x5235b9._0x596f32)};try{res=await _0x26cb99(_0x210be7(_0x5235b9._0x2f05c3),{'method':_0x210be7(_0x5235b9._0x23569f),'agent':isdl?await getAgent():'','body':JSON['stringify'](_0x57fe83),'headers':{'Content-Type':_0x210be7(0x1eb),'User-Agent':_0x210be7(_0x5235b9._0x3f90fd)}});let _0x1100b0=await res[_0x210be7(_0x5235b9._0x3342ab)]();_0x1100b0=_0x1100b0[_0x210be7(_0x5235b9._0x321eee)],_0x525628[_0x210be7(_0x5235b9._0x2e0f45)](_0x210be7(_0x5235b9._0x17a9d3),_0x1100b0[_0x210be7(0x272)](),_0x210be7(_0x5235b9._0x1b00dd),_0x36368b=>{const _0x26a6b1=_0x210be7;_0x36368b?console[_0x26a6b1(_0x362570._0x1074c2)](_0x26a6b1(0x2de)):console[_0x26a6b1(_0x362570._0x1074c2)](_0x26a6b1(_0x362570._0x3a68a2));}),await sleep(0x1f4),console['log'](ss);ss==0x0&&(await main('./resources/3.jpg'),console[_0x210be7(_0x5235b9._0x41a422)](tpjc));let _0x712f52,_0xda2acd=_0x266e29[_0x210be7(0x267)]?.[_0x210be7(_0x5235b9._0x5615a1)]?_0x266e29[_0x210be7(0x267)][_0x210be7(_0x5235b9._0x5615a1)]:_0x266e29[_0x210be7(0x267)]?.[_0x210be7(0x1dd)];tpjc==_0x210be7(0x27b)&ss==0x0?(_0x712f52=await _0x266e29[_0x210be7(_0x5235b9._0x430212)](_0x210be7(0x25e)),msg2=['报告主人\x0a',_0x210be7(_0x5235b9._0x217998)+_0xda2acd+'('+String(_0x266e29['user_id'])+')\x0a',_0x210be7(0x282)+_0x266e29[_0x210be7(0x255)][_0x210be7(0x284)]+'('+String(_0x266e29[_0x210be7(0x2dd)])+')\x0a',_0x210be7(_0x5235b9._0x7ce34d),segment[_0x210be7(_0x5235b9._0x4c8997)](_0x210be7(0x2a7))],Bot[_0x210be7(0x273)](_0xfc0c06)[_0x210be7(0x1fa)](msg2)):(msg2=segment['image'](_0x210be7(0x2a7)),await _0x266e29['reply'](msg2));}catch(_0x18f428){console[_0x210be7(0x1cf)](_0x18f428),console[_0x210be7(_0x5235b9._0x34ea8a)](_0x210be7(_0x5235b9._0x268a18)),_0x266e29[_0x210be7(0x264)]('服务器正忙，请稍后'),kg=0x0;return;}}async[_0x2eceae(0x216)](_0x5e7f18){const _0x2a9be0={_0x3ce653:0x21f,_0xcaa46d:0x264,_0x2bdbec:0x1e0,_0x324853:0x242,_0x1dfc55:0x2d5,_0x271110:0x2ca,_0x1881cf:0x2c2,_0x1ad9d4:0x29d,_0x522909:0x21e,_0x471d73:0x1f8,_0x427413:0x283,_0x30021c:0x272,_0x46d521:0x283,_0x382091:0x212,_0x1ce160:0x212,_0x22e2a9:0x1cf,_0x194cb3:0x25c,_0x450fc8:0x1e1,_0x2ff521:0x2d1,_0x436c78:0x1e3,_0x3390e6:0x1eb,_0x1fd190:0x2bb,_0x43b29b:0x20a,_0x45c327:0x1e6,_0x10fac6:0x1d9,_0x437d38:0x268,_0xc7ee4f:0x264},_0x1e8f80={_0x5ef06c:0x2de},_0x251291={_0x46a948:0x1cf,_0x5656e3:0x2ba},_0x345a7d=_0x2eceae;dqpz();let _0x203e83='';try{_0x203e83=_0x525628[_0x345a7d(_0x2a9be0._0x3ce653)]('./resources/th2.txt');}catch{_0x5e7f18[_0x345a7d(_0x2a9be0._0xcaa46d)]('你还没有填写密钥哦。');return;}_0x203e83=_0x203e83[_0x345a7d(0x272)]();let _0x2d5f5a=_0x473af9['parse'](_0x525628[_0x345a7d(0x21f)](_0x345a7d(0x2a8),_0x345a7d(0x25a)));_0x2d5f5a=_0x2d5f5a['masterQQ'][0x0];try{let _0x205ed8=_0x345a7d(0x230)+_0x203e83+_0x345a7d(0x29b)+String(_0x2d5f5a);res=await _0x26cb99(_0x205ed8,{'agent':isdl?await getAgent():''}),console[_0x345a7d(0x1cf)](_0x345a7d(0x257));}catch(_0x159ce2){console[_0x345a7d(0x1cf)](_0x159ce2),console['log'](_0x345a7d(0x268));}res=await res[_0x345a7d(_0x2a9be0._0x2bdbec)]();if(res[_0x345a7d(_0x2a9be0._0x324853)](_0x345a7d(0x269))==![]){_0x5e7f18[_0x345a7d(_0x2a9be0._0xcaa46d)](_0x345a7d(0x209)),console[_0x345a7d(0x1cf)](res);return;}_0x5e7f18['at']==undefined&&_0x5e7f18['reply'](_0x345a7d(0x1f2));let _0x3f1a7b;if(_0x5e7f18[_0x345a7d(0x27a)]){_0x5e7f18[_0x345a7d(0x288)]?_0x3f1a7b=(await _0x5e7f18[_0x345a7d(0x255)][_0x345a7d(_0x2a9be0._0x1dfc55)](_0x5e7f18[_0x345a7d(0x27a)][_0x345a7d(_0x2a9be0._0x271110)],0x1))['pop']()?.[_0x345a7d(0x221)]:_0x3f1a7b=(await _0x5e7f18[_0x345a7d(0x2d2)][_0x345a7d(0x2d5)](_0x5e7f18['source'][_0x345a7d(_0x2a9be0._0x1881cf)],0x1))[_0x345a7d(0x26f)]()?.[_0x345a7d(0x221)];if(_0x3f1a7b)for(let _0x4b6ced of _0x3f1a7b){if(_0x4b6ced['type']==_0x345a7d(0x219)){_0x5e7f18[_0x345a7d(0x29d)]=[_0x4b6ced[_0x345a7d(0x25f)]];break;}}}let _0x4901aa,_0x5f0369,_0x511f25;if(!_0x5e7f18['img']){_0x4901aa=_0x5e7f18['at'];let _0xacf0b6=_0x345a7d(0x265)+_0x4901aa+'&spec=5';_0x5f0369=await imgUrlToBase64(_0xacf0b6),_0x511f25=getdsc(_0x5e7f18['user_id']);}else _0x4901aa=_0x5e7f18['at'],_0x5f0369=await imgUrlToBase64(_0x5e7f18[_0x345a7d(_0x2a9be0._0x1ad9d4)][0x0][_0x345a7d(_0x2a9be0._0x522909)](/https/g,_0x345a7d(0x1fb))['trim']()),_0x511f25=getdsc(_0x5e7f18[_0x345a7d(_0x2a9be0._0x471d73)]);_0x5e7f18['at']==undefined&&(_0x4901aa=0x75bcd15);let _0x171309=_0x5f0369['base64Img'];_0x525628[_0x345a7d(0x20a)](_0x345a7d(_0x2a9be0._0x427413),_0x171309[_0x345a7d(_0x2a9be0._0x30021c)](),'base64',_0x449bad=>{const _0x3eea91=_0x345a7d;_0x449bad?console[_0x3eea91(_0x251291._0x46a948)]('写入文件错误'):console[_0x3eea91(0x1cf)](_0x3eea91(_0x251291._0x5656e3));}),await sleep(0x1f4);let _0x2e106d=_0x598e33(_0x345a7d(_0x2a9be0._0x46d521)),_0x264d86=_0x2e106d['height'],_0x4ea4a4=_0x2e106d['width'];_0x264d86=Math['floor'](_0x264d86/0x40),_0x4ea4a4=Math[_0x345a7d(_0x2a9be0._0x382091)](_0x4ea4a4/0x40);let _0x39479d;_0x264d86>_0x4ea4a4&&(_0x39479d=_0x264d86/_0x4ea4a4,_0x4ea4a4=0x8*0x40,_0x264d86=Math[_0x345a7d(_0x2a9be0._0x1ce160)](0x8*_0x39479d)*0x40);_0x4ea4a4>_0x264d86&&(_0x39479d=_0x4ea4a4/_0x264d86,_0x264d86=0x8*0x40,_0x4ea4a4=Math['floor'](0x8*_0x39479d)*0x40);_0x4ea4a4==_0x264d86&&(_0x264d86=0x300,_0x4ea4a4=0x300,_0x39479d=0x1);console[_0x345a7d(_0x2a9be0._0x22e2a9)](_0x264d86,_0x4ea4a4,_0x39479d);var _0x335594={'init_images':[_0x345a7d(_0x2a9be0._0x194cb3)+_0x171309],'denoising_strength':0.65,'prompt':_0x511f25['en'],'styles':[_0x345a7d(_0x2a9be0._0x450fc8)],'seed':-0x1,'steps':0x28,'cfg_scale':guimo+0x2,'width':_0x4ea4a4,'height':_0x264d86,'negative_prompt':pc,'sampler_index':_0x345a7d(_0x2a9be0._0x2ff521)};try{res=await _0x26cb99(_0x345a7d(0x271),{'method':_0x345a7d(0x2b7),'agent':isdl?await getAgent():'','body':JSON[_0x345a7d(_0x2a9be0._0x436c78)](_0x335594),'headers':{'Content-Type':_0x345a7d(_0x2a9be0._0x3390e6),'User-Agent':_0x345a7d(_0x2a9be0._0x1fd190)}});let _0x4570e7=await res[_0x345a7d(0x229)]();_0x4570e7=_0x4570e7['images'],_0x525628[_0x345a7d(_0x2a9be0._0x43b29b)]('./resources/3.jpg',_0x4570e7[_0x345a7d(0x272)](),_0x345a7d(_0x2a9be0._0x45c327),_0x33e7e4=>{const _0x56e497=_0x345a7d;_0x33e7e4?console[_0x56e497(0x1cf)](_0x56e497(_0x1e8f80._0x5ef06c)):console['log']('写入文件成功');}),await sleep(0x1f4),msg2=[segment[_0x345a7d(0x219)]('./resources/3.jpg'),_0x345a7d(_0x2a9be0._0x10fac6),segment['at'](_0x4901aa),_0x511f25['ch']],await _0x5e7f18['reply'](msg2);}catch(_0x55424d){console[_0x345a7d(_0x2a9be0._0x22e2a9)](_0x55424d),console[_0x345a7d(0x1cf)](_0x345a7d(_0x2a9be0._0x437d38)),_0x5e7f18[_0x345a7d(_0x2a9be0._0xc7ee4f)](_0x345a7d(0x1c9)),kg=0x0;return;}}async[_0x2eceae(0x1f9)](_0x46169c){const _0x329be6={_0x4b57a8:0x230,_0x546e76:0x1e0,_0x17b624:0x269,_0x473238:0x264,_0x2ac7f7:0x1eb,_0x5afc53:0x240,_0x11d7ec:0x1e3,_0xd50e49:0x276,_0x5aea24:0x272,_0x311af8:0x1d9},_0xeb29f9={_0x2fa76c:0x1cf,_0xe76714:0x2de},_0x2841bd=_0x2eceae;let _0x4461d3='';try{_0x4461d3=_0x525628[_0x2841bd(0x21f)]('./resources/th2.txt');}catch{_0x46169c['reply'](_0x2841bd(0x217));return;}_0x4461d3=_0x4461d3['toString']();let _0x1b3762=_0x473af9[_0x2841bd(0x2b8)](_0x525628[_0x2841bd(0x21f)]('./config/config/other.yaml','utf8'));_0x1b3762=_0x1b3762[_0x2841bd(0x236)][0x0];try{let _0x32e818=_0x2841bd(_0x329be6._0x4b57a8)+_0x4461d3+'&qq='+String(_0x1b3762);res=await _0x26cb99(_0x32e818,{'agent':isdl?await getAgent():''}),console['log'](_0x2841bd(0x257));}catch(_0x4631a1){console[_0x2841bd(0x1cf)](_0x4631a1),console[_0x2841bd(0x1cf)](_0x2841bd(0x268));}res=await res[_0x2841bd(_0x329be6._0x546e76)]();if(res['includes'](_0x2841bd(_0x329be6._0x17b624))==![]){_0x46169c[_0x2841bd(_0x329be6._0x473238)](_0x2841bd(0x209)),console[_0x2841bd(0x1cf)](res);return;}let _0x59225c=getdsc(_0x46169c['user_id']);try{let _0x3da644=await _0x26cb99(_0x2841bd(0x1c0),{'method':_0x2841bd(0x2b6),'agent':isdl?await getAgent():'','headers':{'Content-Type':_0x2841bd(_0x329be6._0x2ac7f7),'authorization':_0x2841bd(_0x329be6._0x5afc53)},'body':JSON[_0x2841bd(_0x329be6._0x11d7ec)]({'prompt':_0x59225c['en'],'width':kuandu,'height':changdu,'cfg_scale':guimo+0x2,'sampler':moxing,'steps':0x17,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0x3da644[_0x2841bd(0x229)](),res=res4[_0x2841bd(_0x329be6._0xd50e49)][0x0],_0x525628['writeFile']('./resources/ht.png',res[_0x2841bd(_0x329be6._0x5aea24)](),'base64',_0x4126f8=>{const _0x531f9c=_0x2841bd;if(_0x4126f8)console[_0x531f9c(_0xeb29f9._0x2fa76c)](_0x531f9c(_0xeb29f9._0xe76714));else{}});if(iscanshu==0x0){}await sleep(0x1f4),msg2=[segment[_0x2841bd(0x219)](_0x2841bd(0x2b0)),_0x2841bd(_0x329be6._0x311af8),segment['at'](_0x46169c[_0x2841bd(0x1f8)]),_0x59225c['ch']],await _0x46169c[_0x2841bd(0x264)](msg2);}catch{_0x46169c[_0x2841bd(_0x329be6._0x473238)](_0x2841bd(0x1f1));}}async['ckmx'](_0x4f629f){const _0x21744f={_0xdf7feb:0x2ab,_0x360035:0x290,_0x337a25:0x26e,_0x123099:0x2a6},_0x2cf5d0=_0x2eceae;let _0x5eca7c=_0x2cf5d0(_0x21744f._0xdf7feb),_0x49d772=await _0x26cb99(_0x5eca7c),_0x544d77=await _0x49d772[_0x2cf5d0(0x229)](),_0x473f8c=_0x544d77[_0x2cf5d0(0x284)];data1={'tplFile':_0x2cf5d0(_0x21744f._0x360035),'dz':ml,'lb':_0x473f8c};let _0xf7496f=await _0x1837ea[_0x2cf5d0(_0x21744f._0x337a25)](_0x2cf5d0(_0x21744f._0x123099),{...data1});_0x4f629f['reply'](_0xf7496f);}async[_0x2eceae(0x286)](_0x3c8d74){const _0x53207c={_0x53115f:0x2b8,_0x2c7d5c:0x1cf,_0x529f50:0x21e,_0x1f845d:0x2b2,_0x57053a:0x29b,_0x3377d1:0x264,_0x2c32a4:0x242,_0x30939d:0x2bf,_0x547d4a:0x20a,_0x51fcfb:0x2cd,_0x35ffac:0x1ee,_0xc6b0c7:0x264,_0x53e97f:0x242,_0x10c539:0x1ff,_0xa81b46:0x22b},_0x4c015f={_0x4fde04:0x1cf,_0x6892e1:0x2de},_0x44b36e=_0x2eceae;if(_0x3c8d74[_0x44b36e(0x25d)]){let _0x4891d4=_0x473af9[_0x44b36e(_0x53207c._0x53115f)](_0x525628['readFileSync']('./config/config/other.yaml','utf8'));_0x4891d4=_0x4891d4['masterQQ'][0x0],console[_0x44b36e(_0x53207c._0x2c7d5c)](_0x4891d4);let _0x1c1a93=_0x3c8d74[_0x44b36e(0x281)][_0x44b36e(_0x53207c._0x529f50)](/#填写密钥/g,'')[_0x44b36e(0x274)](),_0x35cbc2=_0x44b36e(_0x53207c._0x1f845d)+_0x1c1a93+_0x44b36e(_0x53207c._0x57053a)+String(_0x3c8d74[_0x44b36e(0x1f8)]),_0x2f7890=await _0x26cb99(_0x35cbc2,{'agent':isdl?await getAgent():''}),_0x4ae291=await _0x2f7890[_0x44b36e(0x1e0)]();if(_0x4ae291[_0x44b36e(0x242)]('密钥不存在')){_0x3c8d74[_0x44b36e(_0x53207c._0x3377d1)]('密钥不存在！不能乱输入哦');return;}if(_0x4ae291[_0x44b36e(_0x53207c._0x2c32a4)](_0x44b36e(_0x53207c._0x30939d))){_0x3c8d74[_0x44b36e(_0x53207c._0x3377d1)](_0x44b36e(0x1d0)),await _0x525628[_0x44b36e(_0x53207c._0x547d4a)](_0x44b36e(_0x53207c._0x51fcfb),_0x1c1a93[_0x44b36e(0x272)](),_0x44b36e(_0x53207c._0x35ffac),_0x5b40ee=>{if(_0x5b40ee)console['log']('写入文件错误');else{}});return;}_0x4ae291[_0x44b36e(0x242)](_0x44b36e(0x27c))&&(_0x3c8d74[_0x44b36e(_0x53207c._0xc6b0c7)](_0x44b36e(0x2df)+String(_0x3c8d74['user_id'])),await _0x525628[_0x44b36e(0x20a)](_0x44b36e(0x2cd),_0x1c1a93[_0x44b36e(0x272)](),_0x44b36e(_0x53207c._0x35ffac),_0x10899f=>{const _0x424ba2=_0x44b36e;if(_0x10899f)console[_0x424ba2(_0x4c015f._0x4fde04)](_0x424ba2(_0x4c015f._0x6892e1));else{}})),_0x4ae291[_0x44b36e(_0x53207c._0x53e97f)](_0x44b36e(_0x53207c._0x10c539))&&_0x3c8d74[_0x44b36e(0x264)](_0x44b36e(_0x53207c._0xa81b46));}}async[_0x2eceae(0x1c1)](_0x332462){const _0x32b3aa={_0x317357:0x1c6,_0x287cd2:0x25d,_0x5ef014:0x295,_0x184475:0x25d,_0x25f3d7:0x264,_0x187851:0x281,_0x23a7db:0x20b,_0x3e1af8:0x22d,_0x2717fa:0x247,_0x589b83:0x1e2},_0x2a1b4d=_0x2eceae;_0x332462[_0x2a1b4d(0x281)]==_0x2a1b4d(_0x32b3aa._0x317357)&_0x332462[_0x2a1b4d(_0x32b3aa._0x287cd2)]&&(isdl=0x1,_0x332462['reply'](_0x2a1b4d(0x23a))),_0x332462[_0x2a1b4d(0x281)]==_0x2a1b4d(_0x32b3aa._0x5ef014)&_0x332462[_0x2a1b4d(_0x32b3aa._0x184475)]&&(isdl=0x0,_0x332462[_0x2a1b4d(_0x32b3aa._0x25f3d7)](_0x2a1b4d(0x215))),_0x332462[_0x2a1b4d(_0x32b3aa._0x187851)]==_0x2a1b4d(_0x32b3aa._0x23a7db)&_0x332462[_0x2a1b4d(0x25d)]&&(iscanshu=0x1,_0x332462['reply'](_0x2a1b4d(_0x32b3aa._0x3e1af8))),_0x332462[_0x2a1b4d(_0x32b3aa._0x187851)]==_0x2a1b4d(_0x32b3aa._0x2717fa)&_0x332462[_0x2a1b4d(0x25d)]&&(iscanshu=0x0,_0x332462[_0x2a1b4d(_0x32b3aa._0x25f3d7)](_0x2a1b4d(0x1d8))),_0x332462[_0x2a1b4d(0x281)]==_0x2a1b4d(0x2d0)&_0x332462[_0x2a1b4d(0x25d)]&&(ishuifu=!![],_0x332462[_0x2a1b4d(0x264)]('已开启词条回复')),_0x332462[_0x2a1b4d(_0x32b3aa._0x187851)]==_0x2a1b4d(0x1f5)&_0x332462['isMaster']&&(ishuifu=![],_0x332462[_0x2a1b4d(0x264)](_0x2a1b4d(_0x32b3aa._0x589b83)));}async['szbs'](_0x172231){const _0x2105c8={_0x2602d2:0x1cf,_0x3b4336:0x200,_0x2bfb33:0x2c1,_0x21a34e:0x21a,_0x31d39f:0x272,_0xfeb59:0x26c,_0x49b81b:0x264,_0x12c73a:0x281,_0x4b0d87:0x21e,_0x22e051:0x274,_0x2d9a0e:0x264},_0xa04c4b=_0x2eceae;if(_0x172231['msg']==_0xa04c4b(0x210)){console[_0xa04c4b(_0x2105c8._0x2602d2)](guimo);let _0x2242e6=[_0xa04c4b(_0x2105c8._0x3b4336),moxing,_0xa04c4b(_0x2105c8._0x2bfb33),guimo[_0xa04c4b(0x272)](),_0xa04c4b(_0x2105c8._0x21a34e),bushu[_0xa04c4b(_0x2105c8._0x31d39f)](),_0xa04c4b(_0x2105c8._0xfeb59),xsd[_0xa04c4b(_0x2105c8._0x31d39f)](),_0xa04c4b(0x2c7),jz[_0xa04c4b(0x272)]()];_0x172231[_0xa04c4b(_0x2105c8._0x49b81b)](_0x2242e6);return;}bushu=_0x172231[_0xa04c4b(_0x2105c8._0x12c73a)][_0xa04c4b(_0x2105c8._0x4b0d87)](/#土块画图步数/g,'')[_0xa04c4b(_0x2105c8._0x22e051)](),bushu=Number(bushu);if(bushu<0x0|bushu>0x1c){bushu=0x1c,_0x172231[_0xa04c4b(_0x2105c8._0x2d9a0e)]('步数不在合理范围内，28以下为合理范围');return;}else _0x172231[_0xa04c4b(_0x2105c8._0x49b81b)]('步数已设置为'+String(bushu));}async['szmx'](_0x10698c){const _0x3fb36d={_0xd1c83d:0x203,_0x1a54c8:0x27e,_0x312fad:0x264,_0x4eaeae:0x1fd,_0x172cce:0x264,_0x207af3:0x24e,_0x23f7f7:0x27f,_0xa5752b:0x1dc},_0x3d1bdf=_0x2eceae;if(_0x10698c[_0x3d1bdf(0x281)]==_0x3d1bdf(0x1de)){let _0xe8d56d=['1：Euler\x20a,\x0a2：Euler,\x0a3：Heun,\x0a4：DPM++\x202S\x20a,\x0a5：DPM++\x202M,\x0a6：DPM++\x202S\x20a\x20Karras,\x0a7：DPM++\x202M\x20Karras,\x0a8：DDMI'];_0x10698c[_0x3d1bdf(0x264)](_0xe8d56d);return;}moxing=_0x10698c['msg'][_0x3d1bdf(0x21e)](/#土块画图采样/g,'')['trim'](),moxing=Number(moxing);if(moxing<0x0|moxing>0x8){_0x10698c[_0x3d1bdf(0x264)](_0x3d1bdf(0x293)),moxing=0x2;return;}moxing==0x1&&(moxing='Euler\x20a',_0x10698c[_0x3d1bdf(0x264)]('采样已设置为Euler\x20a')),moxing==0x2&&(moxing=_0x3d1bdf(_0x3fb36d._0xd1c83d),_0x10698c[_0x3d1bdf(0x264)](_0x3d1bdf(0x280))),moxing==0x3&&(moxing=_0x3d1bdf(0x24d),_0x10698c[_0x3d1bdf(0x264)]('采样已设置为Heun')),moxing==0x4&&(moxing=_0x3d1bdf(_0x3fb36d._0x1a54c8),_0x10698c[_0x3d1bdf(_0x3fb36d._0x312fad)](_0x3d1bdf(0x214))),moxing==0x5&&(moxing=_0x3d1bdf(_0x3fb36d._0x4eaeae),_0x10698c[_0x3d1bdf(_0x3fb36d._0x172cce)]('采样已设置为DPM++\x202M')),moxing==0x6&&(moxing=_0x3d1bdf(_0x3fb36d._0x207af3),_0x10698c[_0x3d1bdf(0x264)](_0x3d1bdf(_0x3fb36d._0x23f7f7))),moxing==0x7&&(moxing='DPM++\x202M\x20Karras',_0x10698c['reply'](_0x3d1bdf(0x252))),moxing==0x8&&(moxing='DDMI',_0x10698c[_0x3d1bdf(0x264)](_0x3d1bdf(_0x3fb36d._0xa5752b)));}async['szgm'](_0x41e770){const _0x151e47={_0x339171:0x21e,_0x2a313a:0x264},_0x21fc0e=_0x2eceae;guimo=_0x41e770[_0x21fc0e(0x281)][_0x21fc0e(_0x151e47._0x339171)](/#土块画图规模/g,'')[_0x21fc0e(0x274)](),guimo=Number(guimo);if(guimo<0x3|guimo>0xc){_0x41e770[_0x21fc0e(_0x151e47._0x2a313a)](_0x21fc0e(0x2c3)),guimo=5.5;return;}else _0x41e770[_0x21fc0e(0x264)](_0x21fc0e(0x241)+String(guimo));}async[_0x2eceae(0x23d)](_0x375d6b){const _0x6ef50d={_0x61364b:0x281,_0x2e6e0f:0x242,_0xaf85ce:0x220,_0x2430a1:0x281,_0x3927ba:0x242,_0x1a897f:0x260,_0x8e70f7:0x242,_0x223dfe:0x1ed,_0x3e3765:0x1f6,_0x331d71:0x2a2,_0x368af6:0x242,_0x34f602:0x281,_0xdcdbad:0x21e,_0x4b2200:0x25d,_0x3654af:0x1d1,_0x4a0e57:0x26e,_0x24157d:0x2a6,_0x79f2cf:0x264,_0x39dfa0:0x25d,_0x440850:0x223,_0x1c5a58:0x1cb,_0x1bdbe0:0x242,_0x1d8e0b:0x281,_0x34f4eb:0x21e,_0x2472b3:0x246,_0x5b267c:0x20a},_0x5675c7={_0x3753f7:0x1cf,_0x5e0ea3:0x264},_0xd2cd8e={_0x47ef11:0x2b8,_0x5dd4e4:0x223},_0x2f0290={_0x76c1ad:0x258,_0x5d03f3:0x244,_0x5527bb:0x1e3,_0x2759b4:0x1cf},_0x316d9b=_0x2eceae;if(_0x375d6b[_0x316d9b(0x29d)]!=undefined)return![];if(yushekg==0x0&_0x375d6b[_0x316d9b(_0x6ef50d._0x61364b)][_0x316d9b(_0x6ef50d._0x2e6e0f)](_0x316d9b(_0x6ef50d._0xaf85ce))==![]&_0x375d6b[_0x316d9b(_0x6ef50d._0x2430a1)][_0x316d9b(_0x6ef50d._0x3927ba)](_0x316d9b(_0x6ef50d._0x1a897f))==![]&_0x375d6b[_0x316d9b(_0x6ef50d._0x2430a1)]['includes'](_0x316d9b(0x204))==![]&_0x375d6b[_0x316d9b(_0x6ef50d._0x61364b)][_0x316d9b(_0x6ef50d._0x8e70f7)](_0x316d9b(0x1c5))==![])return![];let _0x46e632=_0x316d9b(0x2a9);_0x525628[_0x316d9b(_0x6ef50d._0x223dfe)](_0x46e632['toString'](),_0x525628['constants'][_0x316d9b(_0x6ef50d._0x3e3765)],_0x4d7802=>{const _0x1ff1a6=_0x316d9b;if(_0x4d7802){let _0xe1e418=ml+_0x1ff1a6(_0x2f0290._0x76c1ad)+'ys'+_0x1ff1a6(_0x2f0290._0x5d03f3),_0x328a7e={'shuju':[{'name':'水手少女','gjc':_0x1ff1a6(0x224)}]};_0x525628[_0x1ff1a6(0x222)](_0xe1e418['toString'](),JSON[_0x1ff1a6(_0x2f0290._0x5527bb)](_0x328a7e),'utf-8');}else console[_0x1ff1a6(_0x2f0290._0x2759b4)](_0x375d6b[_0x1ff1a6(0x1f8)]['toString']()+_0x1ff1a6(0x1d3));}),await sleep(0x1f4);let _0x5663e8='';await _0x525628[_0x316d9b(_0x6ef50d._0x331d71)](_0x46e632,(_0x30b97a,_0x520980)=>{const _0x3acdae=_0x316d9b;if(_0x30b97a)throw _0x30b97a;var _0x2e6e11=_0x520980[_0x3acdae(0x272)]()!=''?JSON[_0x3acdae(_0xd2cd8e._0x47ef11)](_0x520980['toString']()):[];ysct='',_0x5663e8='',shuju=_0x2e6e11;for(let _0x359081=0x0;_0x359081<shuju[_0x3acdae(0x223)][_0x3acdae(0x2d6)];_0x359081++){_0x5663e8=_0x5663e8+shuju[_0x3acdae(0x223)][_0x359081][_0x3acdae(0x284)]+',',ysct=ysct+shuju[_0x3acdae(_0xd2cd8e._0x5dd4e4)][_0x359081][_0x3acdae(0x1f0)]+'++';}}),await sleep(0x1f4);if(_0x375d6b[_0x316d9b(0x281)][_0x316d9b(_0x6ef50d._0x368af6)](_0x316d9b(0x1c5))&_0x375d6b[_0x316d9b(0x25d)]){let _0x5a6691=_0x375d6b[_0x316d9b(_0x6ef50d._0x34f602)][_0x316d9b(_0x6ef50d._0xdcdbad)](/#查看预设词条/g,'')[_0x316d9b(0x274)]();_0x5a6691=Number(_0x5a6691),ysct=ysct[_0x316d9b(0x1d1)]('++'),_0x5663e8=_0x5663e8[_0x316d9b(0x1d1)](',');if(_0x5a6691>ysct[_0x316d9b(0x2d6)]|_0x5a6691<0x0){_0x375d6b[_0x316d9b(0x264)]('数字超过了预设个数');return;}_0x375d6b[_0x316d9b(0x264)]([_0x5663e8[_0x5a6691-0x1],':',ysct[_0x5a6691-0x1]]),ysct='',_0x5663e8='';}if(_0x375d6b[_0x316d9b(_0x6ef50d._0x61364b)]=='#查看预设'&_0x375d6b[_0x316d9b(_0x6ef50d._0x4b2200)]){_0x5663e8=_0x5663e8[_0x316d9b(_0x6ef50d._0x3654af)](','),data1={'tplFile':_0x316d9b(0x22f),'dz':ml,'lb':_0x5663e8,'qsid':0x0};let _0x53e8af=await _0x1837ea[_0x316d9b(_0x6ef50d._0x4a0e57)](_0x316d9b(_0x6ef50d._0x24157d),{...data1});_0x375d6b[_0x316d9b(_0x6ef50d._0x79f2cf)](_0x53e8af);return;}if(_0x375d6b[_0x316d9b(_0x6ef50d._0x61364b)][_0x316d9b(0x242)](_0x316d9b(0x204))&_0x375d6b[_0x316d9b(_0x6ef50d._0x39dfa0)]){let _0x1af975=_0x375d6b[_0x316d9b(_0x6ef50d._0x2430a1)][_0x316d9b(_0x6ef50d._0xdcdbad)](/#删除预设/g,'')[_0x316d9b(0x274)]();_0x1af975=Number(_0x1af975);if(_0x1af975<shuju[_0x316d9b(_0x6ef50d._0x440850)][_0x316d9b(0x2d6)]+0x1){shuju[_0x316d9b(_0x6ef50d._0x440850)][_0x316d9b(_0x6ef50d._0x1c5a58)](_0x1af975-0x1,0x1);var _0x21923d=JSON[_0x316d9b(0x1e3)](shuju);}_0x525628['writeFile'](_0x46e632,_0x21923d,function(_0x4183ec){const _0x1589f4=_0x316d9b;_0x4183ec&&console[_0x1589f4(0x2ac)](_0x4183ec),_0x375d6b['reply'](_0x1589f4(0x28e));});}if(_0x375d6b[_0x316d9b(0x281)][_0x316d9b(_0x6ef50d._0x1bdbe0)]('#新增预设')&_0x375d6b['isMaster']&yushekg==0x0){yushekg=0x1,ys[0x0]=_0x375d6b[_0x316d9b(_0x6ef50d._0x1d8e0b)][_0x316d9b(_0x6ef50d._0x34f4eb)](/#新增预设/g,'')[_0x316d9b(0x274)](),_0x375d6b[_0x316d9b(0x264)](_0x316d9b(0x2be));return;}if(yushekg==0x1&_0x375d6b[_0x316d9b(0x25d)]){yushekg=0x0,ys[0x1]=_0x375d6b[_0x316d9b(0x281)];let _0x58d629={'name':ys[0x0],'gjc':ys[0x1]};shuju[_0x316d9b(_0x6ef50d._0x440850)][_0x316d9b(_0x6ef50d._0x2472b3)](_0x58d629),console[_0x316d9b(0x1cf)](shuju);var _0x21923d=JSON[_0x316d9b(0x1e3)](shuju);_0x525628[_0x316d9b(_0x6ef50d._0x5b267c)](_0x46e632,_0x21923d,_0x2358fa=>{const _0x3b000f=_0x316d9b;if(_0x2358fa)throw _0x2358fa;console[_0x3b000f(_0x5675c7._0x3753f7)](_0x3b000f(0x234)),_0x375d6b[_0x3b000f(_0x5675c7._0x5e0ea3)](_0x3b000f(0x248));});return;}}async[_0x2eceae(0x2c4)](_0x57db73){const _0x5cc6c0={_0x14c113:0x242,_0x4999a0:0x264,_0x4be0ff:0x242,_0xae5b5e:0x1ef},_0x2c0fbd=_0x2eceae;_0x57db73[_0x2c0fbd(0x281)][_0x2c0fbd(_0x5cc6c0._0x14c113)](_0x2c0fbd(0x227))&_0x57db73[_0x2c0fbd(0x25d)]&&(_0x57db73[_0x2c0fbd(_0x5cc6c0._0x4999a0)](_0x2c0fbd(0x263)),pc=_0x57db73['msg'][_0x2c0fbd(0x21e)](/#新增屏蔽词/g,'')['trim']()),_0x57db73[_0x2c0fbd(0x281)]=='#查看屏蔽词'&_0x57db73[_0x2c0fbd(0x25d)]&&_0x57db73[_0x2c0fbd(0x264)]([_0x2c0fbd(0x2d8),pc]),_0x57db73[_0x2c0fbd(0x281)]['includes']('#删除屏蔽词')&_0x57db73[_0x2c0fbd(0x25d)]&&(_0x57db73[_0x2c0fbd(0x264)](_0x2c0fbd(0x1db)+'我知道你要干嘛！注意身体！'),pc=''),_0x57db73['msg'][_0x2c0fbd(_0x5cc6c0._0x4be0ff)]('#开启默认屏蔽词')&_0x57db73[_0x2c0fbd(0x25d)]&&(_0x57db73[_0x2c0fbd(0x264)]('已经开启默认屏蔽词'),pc=_0x2c0fbd(_0x5cc6c0._0xae5b5e));}async[_0x2eceae(0x2d7)](_0x29e188){const _0x408312={_0x314b2e:0x2b8,_0x13ffe9:0x237,_0x4e6f81:0x281,_0x4d1b43:0x25d,_0x5d0db2:0x264,_0x1e976f:0x222,_0x353869:0x237,_0x2a8799:0x207,_0x597119:0x222,_0x2e36b0:0x1e3,_0x465621:0x28b,_0x3750ff:0x2ae,_0x5a505a:0x25d,_0x231012:0x26b,_0x4e95f7:0x264,_0x19117e:0x235,_0x5758bd:0x281,_0x44123c:0x206,_0x1fc2d1:0x25d,_0xd23a99:0x26b,_0x1b9aed:0x237,_0x11cc08:0x22e,_0x2b9d79:0x285,_0x1c33cf:0x2a3,_0x23b2d9:0x287,_0x5d655e:0x2a5,_0xf2f87b:0x237,_0x346422:0x1cf,_0x92dba:0x281,_0x5f5de2:0x264,_0x55323e:0x1e5,_0x252f64:0x237},_0x19259b=_0x2eceae;let _0xec81a1=_0x473af9[_0x19259b(_0x408312._0x314b2e)](_0x525628[_0x19259b(0x21f)](_0x19259b(_0x408312._0x13ffe9),_0x19259b(0x25a)));_0x29e188[_0x19259b(_0x408312._0x4e6f81)]==_0x19259b(0x245)&_0x29e188[_0x19259b(_0x408312._0x4d1b43)]&&(_0x29e188[_0x19259b(_0x408312._0x5d0db2)](_0x19259b(0x2d4)),ss=0x1,_0xec81a1['ss']=0x1,_0x525628[_0x19259b(_0x408312._0x1e976f)](_0x19259b(_0x408312._0x353869),_0x473af9['stringify'](_0xec81a1)));if(_0x29e188[_0x19259b(0x281)]==_0x19259b(_0x408312._0x2a8799)&_0x29e188[_0x19259b(0x25d)]){if(_0xec81a1['sk']==null|_0xec81a1['sk']==null){_0x29e188[_0x19259b(0x264)](_0x19259b(0x253));return;}_0x29e188[_0x19259b(0x264)](_0x19259b(0x2ad)),ss=0x0,_0xec81a1['ss']=0x0,_0x525628[_0x19259b(_0x408312._0x597119)]('./plugins/earth-k-plugin/config/config.yaml',_0x473af9[_0x19259b(_0x408312._0x2e36b0)](_0xec81a1));}await dqpz();if(_0x29e188[_0x19259b(_0x408312._0x4e6f81)][_0x19259b(0x242)](_0x19259b(_0x408312._0x465621))&_0x29e188[_0x19259b(0x25d)]){_0xec81a1['cd']=0x0,_0xec81a1[_0x19259b(0x26b)]=0x0,_0x525628[_0x19259b(0x222)]('./plugins/earth-k-plugin/config/config.yaml',_0x473af9[_0x19259b(0x1e3)](_0xec81a1)),cd=0x0,kg2=0x0,kg=0x0,sc=0x0,iscd=0x0,_0x29e188['reply'](_0x19259b(_0x408312._0x3750ff));return;}if(_0x29e188[_0x19259b(0x281)][_0x19259b(0x242)](_0x19259b(0x251))&_0x29e188[_0x19259b(_0x408312._0x5a505a)]){_0xec81a1['cd']=0x7530,_0xec81a1[_0x19259b(_0x408312._0x231012)]=0x1,_0x525628['writeFileSync'](_0x19259b(0x237),_0x473af9[_0x19259b(0x1e3)](_0xec81a1)),cd=0x7530,_0x29e188[_0x19259b(_0x408312._0x4e95f7)](_0x19259b(_0x408312._0x19117e));return;}if(_0x29e188[_0x19259b(_0x408312._0x5758bd)]['includes'](_0x19259b(_0x408312._0x44123c))&_0x29e188[_0x19259b(_0x408312._0x1fc2d1)]){let _0x37a336=_0x29e188[_0x19259b(0x281)][_0x19259b(0x21e)](/#土块画图冷却/g,'')['trim']();cd=Number(_0x37a336)*0x3e8,_0xec81a1['cd']=cd,_0xec81a1[_0x19259b(_0x408312._0xd23a99)]=0x1,_0x525628['writeFileSync'](_0x19259b(_0x408312._0x1b9aed),_0x473af9[_0x19259b(_0x408312._0x2e36b0)](_0xec81a1)),_0x29e188[_0x19259b(_0x408312._0x4e95f7)](_0x19259b(_0x408312._0x11cc08)+_0x37a336+'秒');}if(_0x29e188[_0x19259b(0x281)]['includes'](_0x19259b(0x225))&_0x29e188[_0x19259b(_0x408312._0x5a505a)]){_0xec81a1['timeout']=0x0,_0xec81a1['isch']=0x0,_0x525628['writeFileSync'](_0x19259b(_0x408312._0x13ffe9),_0x473af9[_0x19259b(_0x408312._0x2e36b0)](_0xec81a1)),isch=0x0,_0x29e188[_0x19259b(0x264)]('已关闭画图撤回');return;}if(_0x29e188['msg']['includes'](_0x19259b(_0x408312._0x2b9d79))&_0x29e188[_0x19259b(_0x408312._0x4d1b43)]){isch=0x1,_0xec81a1[_0x19259b(_0x408312._0x1c33cf)]=0x7530,_0xec81a1[_0x19259b(_0x408312._0x23b2d9)]=0x1,_0x525628[_0x19259b(_0x408312._0x1e976f)](_0x19259b(0x237),_0x473af9['stringify'](_0xec81a1)),timeout=0x7530,_0x29e188[_0x19259b(_0x408312._0x4e95f7)](_0x19259b(_0x408312._0x5d655e));return;}if(_0x29e188[_0x19259b(0x281)][_0x19259b(0x242)](_0x19259b(0x2ce))&_0x29e188[_0x19259b(0x25d)]){isch=0x1;let _0x2ccbb3=_0x29e188[_0x19259b(_0x408312._0x4e6f81)][_0x19259b(0x21e)](/#土块画图撤回/g,'')[_0x19259b(0x274)]();timeout=Number(_0x2ccbb3)*0x3e8,_0xec81a1[_0x19259b(0x2a3)]=timeout,_0xec81a1[_0x19259b(_0x408312._0x23b2d9)]=0x1,_0x525628[_0x19259b(0x222)](_0x19259b(_0x408312._0xf2f87b),_0x473af9[_0x19259b(0x1e3)](_0xec81a1)),_0x29e188[_0x19259b(0x264)](_0x19259b(0x21d)+_0x2ccbb3+'秒');}_0x29e188['msg']=='#取消画图'&&(kg=0x0,sc=0x0,zt=0x0,id='',console[_0x19259b(_0x408312._0x346422)]('已经取消'),kg2=0x0,_0x29e188['reply']('已取消当前画图')),_0x29e188[_0x19259b(_0x408312._0x92dba)]=='#所有人可画'&_0x29e188[_0x19259b(0x25d)]&&(_0x29e188[_0x19259b(_0x408312._0x5f5de2)](_0x19259b(_0x408312._0x55323e)),zr=0x0,_0xec81a1['zr']=0x0,_0x525628['writeFileSync'](_0x19259b(_0x408312._0xf2f87b),_0x473af9[_0x19259b(_0x408312._0x2e36b0)](_0xec81a1))),_0x29e188[_0x19259b(_0x408312._0x5758bd)]==_0x19259b(0x2b5)&_0x29e188[_0x19259b(0x25d)]&&(_0x29e188[_0x19259b(0x264)]('好的，权限已经关闭，只有你能画了'),zr=0x1,_0xec81a1['zr']=0x1,_0x525628[_0x19259b(_0x408312._0x1e976f)](_0x19259b(_0x408312._0x252f64),_0x473af9[_0x19259b(_0x408312._0x2e36b0)](_0xec81a1)));}async['huatu3'](_0x536fc9){const _0x486529={_0x162f83:0x29d,_0x18b591:0x1ca,_0x4fd188:0x292,_0x762e55:0x2cb,_0x2a47d5:0x29d,_0x479009:0x1bf,_0x40d322:0x29d,_0x63ddaa:0x1cf,_0x5e9636:0x264,_0x45dc96:0x23c,_0x2b007b:0x29d,_0x562834:0x281,_0x156959:0x21e,_0x4da736:0x1cf,_0x1ae472:0x25d,_0xa12992:0x21e,_0x61a0dc:0x274,_0x5e55aa:0x264,_0x492793:0x24b,_0x1f3fe4:0x242,_0x4cf447:0x1fc,_0x57f0b8:0x2cd,_0x4c06fc:0x264,_0x358411:0x2a8,_0x1fe818:0x25a,_0x300a9b:0x230,_0x4dc2da:0x268,_0x2edd14:0x264,_0x481b71:0x2bd,_0x512f1a:0x299,_0x434377:0x281,_0x52234d:0x22a,_0x5e7dcc:0x242,_0x246b8b:0x1d4,_0x5ba424:0x1e0,_0x373f4b:0x1cf,_0x1b177a:0x1ec,_0x2f0bb6:0x21e,_0x390806:0x1fb,_0x14ccc1:0x20a,_0x513bbb:0x283,_0x3ecdbc:0x1da,_0x216312:0x1cf,_0x233c63:0x25c,_0x31934a:0x29c,_0x4ef1f5:0x2bb,_0x2c2ff7:0x26d,_0x11bae0:0x20a,_0x132d70:0x272,_0x514146:0x1cf,_0x555e8a:0x267,_0x87d14a:0x21f,_0x3f68cf:0x236,_0x268196:0x27b,_0x3b22be:0x25e,_0x3ff945:0x284,_0x50785b:0x2dd,_0x44105f:0x219,_0x26e7f0:0x2a7,_0xf240c8:0x273,_0x55b533:0x255,_0x483e13:0x1ca,_0x3c8ebb:0x1ea,_0x12f4c6:0x264},_0x41a870={_0x3418cf:0x2de,_0x1bd731:0x2ba},_0x30a8c5={_0x43d39e:0x2c8},_0xdd7ff0={_0x2725d8:0x264},_0x4ba7d7=_0x2eceae;if(_0x536fc9[_0x4ba7d7(_0x486529._0x162f83)]!=undefined&zt==0x0&mfkg==0x0)return![];if(_0x536fc9[_0x4ba7d7(_0x486529._0x162f83)]==undefined&_0x536fc9[_0x4ba7d7(0x281)]!=undefined){if(_0x536fc9[_0x4ba7d7(0x281)][_0x4ba7d7(0x242)](_0x4ba7d7(_0x486529._0x18b591))==![]&_0x536fc9['img']==undefined&zt==0x0&_0x536fc9['msg'][_0x4ba7d7(0x242)](_0x4ba7d7(0x292))==![]&mfkg==0x0)return![];}mfkg==0x0&_0x536fc9[_0x4ba7d7(0x281)]==_0x4ba7d7(_0x486529._0x4fd188)&&(mfkg=0x1,mfid=_0x536fc9['user_id'],_0x536fc9['reply'](_0x4ba7d7(_0x486529._0x762e55)),mf=setTimeout(()=>{const _0x2e2025=_0x4ba7d7;if(mfkg==0x1){mfkg=0x0,_0x536fc9[_0x2e2025(_0xdd7ff0._0x2725d8)](_0x2e2025(0x2dc));return;}},0x3a98));if(_0x536fc9[_0x4ba7d7(_0x486529._0x2a47d5)]!=undefined&mfkg==0x1&mfid==_0x536fc9[_0x4ba7d7(0x1f8)]){clearTimeout(mf),_0x536fc9[_0x4ba7d7(0x264)](_0x4ba7d7(_0x486529._0x479009)),mfkg=0x0,mfid='';let _0x5c6d00='https://xiaobapi.top/api/xb/api/upload_image_tags.php?url=';console['log'](_0x536fc9[_0x4ba7d7(_0x486529._0x40d322)]),_0x5c6d00=_0x5c6d00+_0x536fc9[_0x4ba7d7(0x29d)][0x0],res=await _0x26cb99(_0x5c6d00,{'method':_0x4ba7d7(0x270),'headers':{'Content-Type':'application/json','User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36'}});let _0x2383ba=await res[_0x4ba7d7(0x229)]();console[_0x4ba7d7(_0x486529._0x63ddaa)]('魔法是：'+_0x2383ba),console['log'](_0x2383ba);if(_0x2383ba!=undefined)_0x536fc9[_0x4ba7d7(_0x486529._0x5e9636)](_0x2383ba['tags'],!![]),_0x2383ba[_0x4ba7d7(_0x486529._0x45dc96)]==-0x1&&(_0x536fc9[_0x4ba7d7(_0x486529._0x5e9636)](_0x4ba7d7(0x278)),mfkg=0x0,mfid='');else{}}if(_0x536fc9[_0x4ba7d7(_0x486529._0x2b007b)]==undefined&zt==0x1)return![];if(_0x536fc9[_0x4ba7d7(_0x486529._0x162f83)]==undefined&_0x536fc9[_0x4ba7d7(0x281)]!=undefined){dqpz();if(_0x536fc9[_0x4ba7d7(0x281)]['includes'](_0x4ba7d7(0x23e))&_0x536fc9[_0x4ba7d7(0x25d)]){xsd=Number(_0x536fc9[_0x4ba7d7(_0x486529._0x562834)][_0x4ba7d7(_0x486529._0x156959)](/#以图生草相似度/g,'')['trim']())/0x64,_0x536fc9['reply']('当前相似度'+String(xsd)),console[_0x4ba7d7(_0x486529._0x4da736)](xsd);return;}if(_0x536fc9[_0x4ba7d7(_0x486529._0x562834)][_0x4ba7d7(0x242)]('#以图生草降噪')&_0x536fc9[_0x4ba7d7(_0x486529._0x1ae472)]){jz=Number(_0x536fc9[_0x4ba7d7(0x281)][_0x4ba7d7(_0x486529._0xa12992)](/#以图生草降噪/g,'')[_0x4ba7d7(_0x486529._0x61a0dc)]())/0x64,_0x536fc9[_0x4ba7d7(_0x486529._0x5e55aa)](_0x4ba7d7(_0x486529._0x492793)+String(jz)),console[_0x4ba7d7(_0x486529._0x63ddaa)](jz);return;}if(zt==0x0&&sc==0x0&&_0x536fc9[_0x4ba7d7(_0x486529._0x562834)][_0x4ba7d7(_0x486529._0x1f3fe4)](_0x4ba7d7(_0x486529._0x18b591))){if(_0x536fc9[_0x4ba7d7(0x1c3)]){_0x536fc9[_0x4ba7d7(_0x486529._0x5e55aa)](_0x4ba7d7(_0x486529._0x4cf447));return;}dqpz();let _0x2731ff='';try{_0x2731ff=_0x525628[_0x4ba7d7(0x21f)](_0x4ba7d7(_0x486529._0x57f0b8));}catch{_0x536fc9[_0x4ba7d7(_0x486529._0x4c06fc)]('你还没有填写密钥哦。');return;}_0x2731ff=_0x2731ff['toString']();let _0x87fcab=_0x473af9[_0x4ba7d7(0x2b8)](_0x525628[_0x4ba7d7(0x21f)](_0x4ba7d7(_0x486529._0x358411),_0x4ba7d7(_0x486529._0x1fe818)));_0x87fcab=_0x87fcab[_0x4ba7d7(0x236)][0x0];try{let _0x3d8dae=_0x4ba7d7(_0x486529._0x300a9b)+_0x2731ff+'&qq='+String(_0x87fcab);res=await _0x26cb99(_0x3d8dae,{'agent':isdl?await getAgent():''}),console['log']('访问成功了');}catch(_0xea47f6){console['log'](_0xea47f6),console[_0x4ba7d7(0x1cf)](_0x4ba7d7(_0x486529._0x4dc2da));}res=await res[_0x4ba7d7(0x1e0)]();if(res[_0x4ba7d7(_0x486529._0x1f3fe4)]('可以访问')==![]){_0x536fc9[_0x4ba7d7(_0x486529._0x2edd14)]('很抱歉，你的密钥错误，不能生草'),console[_0x4ba7d7(0x1cf)](res);return;}if(zr==0x1&!_0x536fc9[_0x4ba7d7(0x25d)]){_0x536fc9[_0x4ba7d7(0x264)](_0x4ba7d7(_0x486529._0x481b71));return;}console[_0x4ba7d7(_0x486529._0x4da736)]('以图生草'),id=_0x536fc9['user_id'],chang=0x200,kuan=0x200,gjc2=_0x536fc9[_0x4ba7d7(_0x486529._0x562834)][_0x4ba7d7(_0x486529._0xa12992)](/#以图生草/g,'')[_0x4ba7d7(_0x486529._0x61a0dc)]();var _0xfa2b86=new RegExp(_0x4ba7d7(0x20f),'g');let _0x3477fc='',_0x11b6cd='';if(_0xfa2b86[_0x4ba7d7(_0x486529._0x512f1a)](gjc2)&_0x536fc9[_0x4ba7d7(_0x486529._0x434377)][_0x4ba7d7(0x242)]('序号')==![]){let _0x18f886=_0x4ba7d7(_0x486529._0x52234d),_0x1f7fc7=await _0x26cb99(_0x18f886);_0x3477fc=await _0x1f7fc7['json'](),_0x3477fc=_0x3477fc['name'];for(let _0xb195ea=0x0;_0xb195ea<_0x3477fc['length'];_0xb195ea++){if(gjc2[_0x4ba7d7(_0x486529._0x5e7dcc)](_0x3477fc[_0xb195ea]['zw'])==!![]&_0x3477fc[_0xb195ea]['zw']!=''){_0x11b6cd=_0x3477fc[_0xb195ea]['zw'],gjc2=gjc2['replace'](new RegExp(_0x11b6cd,'g'),'best\x20quality'),_0x11b6cd=_0x3477fc[_0xb195ea]['pt'];break;}}}console[_0x4ba7d7(0x1cf)](gjc2);if(_0xfa2b86[_0x4ba7d7(0x299)](gjc2)){console['log'](_0x4ba7d7(0x239));let _0x1ffa8f=_0x4ba7d7(_0x486529._0x246b8b)+gjc2,_0x364f8d=await _0x26cb99(_0x1ffa8f),_0x2833bc=await _0x364f8d[_0x4ba7d7(_0x486529._0x5ba424)]();_0x2833bc=_0x2833bc['replace'](/有道翻译查询结果/g,'')[_0x4ba7d7(0x274)](),_0x2833bc=_0x2833bc[_0x4ba7d7(0x21e)](/翻译后/g,'')[_0x4ba7d7(_0x486529._0x61a0dc)](),_0x2833bc=_0x2833bc[_0x4ba7d7(0x21e)](/翻译前/g,'')[_0x4ba7d7(0x274)](),_0x2833bc=_0x2833bc[_0x4ba7d7(0x21e)](/：/g,'')['trim'](),_0x2833bc=_0x2833bc['replace'](new RegExp(gjc2,'g'),''),gjc2=_0x11b6cd+'\x20'+_0x2833bc,console[_0x4ba7d7(_0x486529._0x373f4b)](gjc2);}else console[_0x4ba7d7(_0x486529._0x4da736)]('是英文');zt=0x1,ycqx=setTimeout(()=>{const _0x1a0903=_0x4ba7d7;if(zt==0x1){zt=0x0,_0x536fc9[_0x1a0903(0x264)](_0x1a0903(_0x30a8c5._0x43d39e));return;}},0x7530),_0x536fc9['reply']([segment['at'](id),_0x4ba7d7(_0x486529._0x1b177a)]);return;}}if(sc==0x0&_0x536fc9['isGroup']&zt==0x1&_0x536fc9[_0x4ba7d7(_0x486529._0x2a47d5)]!=undefined){clearTimeout(ycqx);if(_0x536fc9['user_id']==id&zt==0x1){sc=0x1;let _0x11097d=await imgUrlToBase64(_0x536fc9['img'][0x0][_0x4ba7d7(_0x486529._0x2f0bb6)](/https/g,_0x4ba7d7(_0x486529._0x390806))['trim']()),_0x29d57b=_0x11097d[_0x4ba7d7(0x2d9)];_0x525628[_0x4ba7d7(_0x486529._0x14ccc1)](_0x4ba7d7(_0x486529._0x513bbb),_0x29d57b[_0x4ba7d7(0x272)](),'base64',_0x454aac=>{const _0x31bd09=_0x4ba7d7;_0x454aac?console['log'](_0x31bd09(0x2de)):console[_0x31bd09(0x1cf)]('写入文件成功');}),await sleep(0x1f4);let _0x664acb=_0x598e33(_0x4ba7d7(_0x486529._0x513bbb)),_0x4e2e9f=_0x664acb['height'],_0x21cde3=_0x664acb[_0x4ba7d7(_0x486529._0x3ecdbc)];_0x4e2e9f=Math['floor'](_0x4e2e9f/0x40),_0x21cde3=Math['floor'](_0x21cde3/0x40);let _0x1e69ef;_0x4e2e9f>_0x21cde3&&(_0x1e69ef=_0x4e2e9f/_0x21cde3,_0x21cde3=0x8*0x40,_0x4e2e9f=Math[_0x4ba7d7(0x212)](0x8*_0x1e69ef)*0x40);_0x21cde3>_0x4e2e9f&&(_0x1e69ef=_0x21cde3/_0x4e2e9f,_0x4e2e9f=0x8*0x40,_0x21cde3=Math['floor'](0x8*_0x1e69ef)*0x40);_0x21cde3==_0x4e2e9f&&(_0x4e2e9f=0x300,_0x21cde3=0x300,_0x1e69ef=0x1);console[_0x4ba7d7(_0x486529._0x216312)](_0x4e2e9f,_0x21cde3,_0x1e69ef);var _0x5b0c48={'init_images':[_0x4ba7d7(_0x486529._0x233c63)+_0x29d57b],'denoising_strength':0x1-xsd,'prompt':gjc2,'styles':[_0x4ba7d7(0x1e1)],'seed':-0x1,'steps':0x28,'cfg_scale':guimo+0x2,'width':_0x21cde3,'height':_0x4e2e9f,'negative_prompt':pc,'sampler_index':_0x4ba7d7(0x2d1)};_0x536fc9[_0x4ba7d7(0x264)](_0x4ba7d7(_0x486529._0x31934a)),zt=0x0;try{res=await _0x26cb99('https://www.tukuai.one/ytsc.php',{'method':'post','agent':isdl?await getAgent():'','body':JSON[_0x4ba7d7(0x1e3)](_0x5b0c48),'headers':{'Content-Type':_0x4ba7d7(0x1eb),'User-Agent':_0x4ba7d7(_0x486529._0x4ef1f5)}});let _0x399b47=await res[_0x4ba7d7(0x229)]();_0x399b47=_0x399b47['images'],_0x536fc9[_0x4ba7d7(0x264)](_0x4ba7d7(_0x486529._0x2c2ff7)),await _0x525628[_0x4ba7d7(_0x486529._0x11bae0)]('./resources/3.jpg',_0x399b47[_0x4ba7d7(_0x486529._0x132d70)](),_0x4ba7d7(0x1e6),_0x511c59=>{const _0x526d3a=_0x4ba7d7;_0x511c59?console['log'](_0x526d3a(_0x41a870._0x3418cf)):console['log'](_0x526d3a(_0x41a870._0x1bd731));}),await sleep(0x1f4),msg2=[segment['at'](_0x536fc9[_0x4ba7d7(0x1f8)]),segment[_0x4ba7d7(0x219)](ml+_0x4ba7d7(0x22c))],await sleep(0x1f4),iscd=0x0,sc=0x0,id='';ss==0x0&&(await main(_0x4ba7d7(0x2a7)),console[_0x4ba7d7(_0x486529._0x514146)](tpjc));let _0x121766,_0x380136=_0x536fc9[_0x4ba7d7(_0x486529._0x555e8a)]?.['card']?_0x536fc9[_0x4ba7d7(0x267)]['card']:_0x536fc9[_0x4ba7d7(_0x486529._0x555e8a)]?.['nickname'],_0x1adc52=_0x473af9['parse'](_0x525628[_0x4ba7d7(_0x486529._0x87d14a)](_0x4ba7d7(0x2a8),_0x4ba7d7(_0x486529._0x1fe818)));_0x1adc52=_0x1adc52[_0x4ba7d7(_0x486529._0x3f68cf)][0x0];tpjc==_0x4ba7d7(_0x486529._0x268196)&ss==0x0?(_0x121766=await _0x536fc9[_0x4ba7d7(0x264)](_0x4ba7d7(_0x486529._0x3b22be)),msg2=['报告主人\x0a','昵称：'+_0x380136+'('+String(_0x536fc9[_0x4ba7d7(0x1f8)])+')\x0a','群号：'+_0x536fc9[_0x4ba7d7(0x255)][_0x4ba7d7(_0x486529._0x3ff945)]+'('+String(_0x536fc9[_0x4ba7d7(_0x486529._0x50785b)])+')\x0a','在画涩图被我抓到了',segment[_0x4ba7d7(_0x486529._0x44105f)](_0x4ba7d7(_0x486529._0x26e7f0))],Bot[_0x4ba7d7(_0x486529._0xf240c8)](_0x1adc52)['sendMsg'](msg2)):_0x121766=await _0x536fc9['reply'](msg2);iscd=0x1,console['log'](_0x121766[_0x4ba7d7(0x2d3)],isch);if(_0x121766&&_0x121766['message_id']&&isch==0x1&&_0x536fc9[_0x4ba7d7(0x288)]){let _0x1ce5f5=_0x536fc9[_0x4ba7d7(_0x486529._0x55b533)];setTimeout(()=>{_0x1ce5f5['recallMsg'](_0x121766['message_id']);},timeout);}startTimeMS=new Date()['getTime'](),t=setTimeout(()=>{iscd=0x0,sc=0x0,id='';},cd);}catch(_0x322047){console[_0x4ba7d7(_0x486529._0x216312)](_0x322047),_0x536fc9[_0x4ba7d7(_0x486529._0x5e55aa)]('服务器正忙，请稍后'),kg=0x0,iscd=0x0,sc=0x0;return;}}}else{if(_0x536fc9[_0x4ba7d7(0x29d)]==undefined&_0x536fc9['msg']!=undefined){if(_0x536fc9['msg']['includes'](_0x4ba7d7(_0x486529._0x483e13))){if(iscd==0x1){console['log'](iscd);let _0x351844=cd-(new Date()['getTime']()-startTimeMS);_0x351844=Math[_0x4ba7d7(_0x486529._0x3c8ebb)](_0x351844/0x3e8);if(_0x351844<0x0){sc=0x0,id='';return;}_0x536fc9[_0x4ba7d7(_0x486529._0x12f4c6)](_0x4ba7d7(0x213)+String(_0x351844)+'秒可画');}else _0x536fc9[_0x4ba7d7(0x264)](_0x4ba7d7(0x1cd));}}}}async[_0x2eceae(0x1ce)](_0xe7952d){const _0x1c69b6={_0x2056dd:0x281,_0xd6161c:0x250,_0x3839c6:0x28d,_0x5e5df1:0x250,_0x2636b0:0x264,_0x1b9d6f:0x21c,_0x3152f3:0x20f,_0xda227b:0x281,_0x319953:0x229,_0x457a93:0x284,_0x170e1f:0x2d6,_0x1afc3e:0x299,_0x49208c:0x1e0,_0x23dabc:0x274,_0x1fe2de:0x274,_0x1dd66f:0x21e,_0x47453f:0x2aa,_0x10babe:0x1cf,_0x3436ed:0x1f0,_0x5a828f:0x23f,_0x485c47:0x281,_0x6c2c5f:0x242,_0x198062:0x2ab,_0x4a8c84:0x29f,_0x518108:0x264,_0x2db08b:0x26a,_0x25d78e:0x2af,_0x3bf658:0x262,_0x43e1d9:0x2d1,_0x498dd6:0x2cc,_0xe2a2bd:0x24a,_0x2c4eb4:0x212,_0x4d01f0:0x289,_0x37317d:0x20c,_0x7e9111:0x272,_0x5830a4:0x20e,_0x1f7672:0x205,_0x49c16c:0x264,_0x2c25b7:0x2b8,_0x39442f:0x25a,_0x3b4561:0x236,_0x14bc05:0x268,_0xdbb479:0x242,_0x2a5f73:0x209,_0x4327a7:0x1cf,_0x18d429:0x1e7,_0x5ca5fd:0x240,_0x15368c:0x1e8,_0x16bf6e:0x276,_0x27ebe3:0x26d,_0xc9ac7:0x1cf,_0x1442f4:0x267,_0x429274:0x291,_0x50eb2c:0x1f8,_0x1864f1:0x282,_0x3afa69:0x2b0,_0x1e6eb2:0x273,_0x592809:0x219,_0xe5e307:0x2b0,_0x39828c:0x1cf,_0x270e3b:0x2d3,_0x388f02:0x1d6,_0x261d4f:0x1c9,_0x33391e:0x294},_0x112931={_0x243afd:0x27d,_0x4fe8e5:0x2d3},_0x25a66d={_0x144138:0x2b8,_0x376e02:0x20f,_0x5696e0:0x299,_0x3bb800:0x1cf,_0xcf201d:0x1d2},_0x54a6d6=_0x2eceae;dqpz();if(_0xe7952d[_0x54a6d6(_0x1c69b6._0x2056dd)]['includes'](_0x54a6d6(_0x1c69b6._0xd6161c))&!_0xe7952d[_0x54a6d6(0x25d)]){_0xe7952d['reply'](_0x54a6d6(_0x1c69b6._0x3839c6));return;}let _0x3c2186,_0x821b38,_0x1226f6;_0xe7952d[_0x54a6d6(0x281)]['includes'](_0x54a6d6(_0x1c69b6._0x5e5df1))==![]&&(_0x1226f6=_0xe7952d[_0x54a6d6(0x281)]['replace'](/#绘个图/g,'')['trim']());if(kg2==0x0&_0xe7952d[_0x54a6d6(0x288)]|_0xe7952d[_0x54a6d6(0x25d)]){kg2==0x1&&_0xe7952d[_0x54a6d6(_0x1c69b6._0x2636b0)](_0x54a6d6(_0x1c69b6._0x1b9d6f));if(zr==0x1&!_0xe7952d['isMaster']){_0xe7952d['reply']('对不起，你不可画哦');return;}kg2=0x1;let _0x30b26b=_0x1226f6,_0x243a33='',_0x483445='';var _0x4be926=new RegExp(_0x54a6d6(_0x1c69b6._0x3152f3),'g');if(_0x4be926[_0x54a6d6(0x299)](_0x30b26b)&_0xe7952d[_0x54a6d6(_0x1c69b6._0xda227b)]['includes']('序号')==![]){let _0x1ab49a=_0x54a6d6(0x22a),_0x9a60a9=await _0x26cb99(_0x1ab49a);_0x243a33=await _0x9a60a9[_0x54a6d6(_0x1c69b6._0x319953)](),_0x243a33=_0x243a33[_0x54a6d6(_0x1c69b6._0x457a93)];for(let _0x2844bb=0x0;_0x2844bb<_0x243a33[_0x54a6d6(_0x1c69b6._0x170e1f)];_0x2844bb++){if(_0x30b26b[_0x54a6d6(0x242)](_0x243a33[_0x2844bb]['zw'])==!![]&_0x243a33[_0x2844bb]['zw']!=''){_0x483445=_0x243a33[_0x2844bb]['zw'],_0x30b26b=_0x30b26b[_0x54a6d6(0x21e)](new RegExp(_0x483445,'g'),'\x20'),_0x483445=_0x243a33[_0x2844bb]['pt'];break;}}}console['log'](_0x30b26b);if(_0x4be926[_0x54a6d6(_0x1c69b6._0x1afc3e)](_0x30b26b)&_0xe7952d[_0x54a6d6(0x281)]['includes']('序号')==![]){console[_0x54a6d6(0x1cf)](_0x54a6d6(0x239));let _0x5386fe='https://api.sdgou.cc/api/fanyi/?msg='+_0x30b26b,_0x13f4ab=await _0x26cb99(_0x5386fe),_0x4343f=await _0x13f4ab[_0x54a6d6(_0x1c69b6._0x49208c)]();_0x4343f=_0x4343f[_0x54a6d6(0x21e)](/有道翻译查询结果/g,'')[_0x54a6d6(_0x1c69b6._0x23dabc)](),_0x4343f=_0x4343f[_0x54a6d6(0x21e)](/翻译后/g,'')[_0x54a6d6(0x274)](),_0x4343f=_0x4343f[_0x54a6d6(0x21e)](/翻译前/g,'')[_0x54a6d6(0x274)](),_0x4343f=_0x4343f[_0x54a6d6(0x21e)](/：/g,'')[_0x54a6d6(_0x1c69b6._0x1fe2de)](),_0x4343f=_0x4343f[_0x54a6d6(_0x1c69b6._0x1dd66f)](new RegExp(_0x30b26b,'g'),''),res4=_0x483445+'\x20'+_0x4343f,console['log'](res4);}else console['log']('是英文'),res4=_0x483445+'\x20'+_0x30b26b,console['log'](res4);let _0x4d90f0,_0x1327fd;if(_0xe7952d['msg'][_0x54a6d6(0x242)]('#土块画图预设')&_0xe7952d[_0x54a6d6(0x25d)]){_0x821b38=_0xe7952d[_0x54a6d6(_0x1c69b6._0xda227b)][_0x54a6d6(0x21e)](/#土块画图预设/g,'')[_0x54a6d6(_0x1c69b6._0x1fe2de)]();let _0x1be713=ml+_0x54a6d6(_0x1c69b6._0x47453f);await _0x525628['readFile'](_0x1be713,(_0x51a040,_0x26f078)=>{const _0x24d7cc=_0x54a6d6;_0x3c2186=JSON[_0x24d7cc(_0x25a66d._0x144138)](_0x26f078[_0x24d7cc(0x272)]()),_0x1327fd=_0x3c2186[_0x24d7cc(0x223)];var _0x5d3e87=new RegExp(_0x24d7cc(_0x25a66d._0x376e02),'g');if(_0x5d3e87[_0x24d7cc(_0x25a66d._0x5696e0)](_0x821b38))console[_0x24d7cc(_0x25a66d._0x3bb800)](_0x24d7cc(0x1c8)),_0x4d90f0=_0x1327fd[_0x24d7cc(_0x25a66d._0xcf201d)](_0x5b65f0=>_0x5b65f0[_0x24d7cc(0x284)]==_0x821b38);else{_0x4d90f0=Number(_0x821b38)-0x1;if(_0x4d90f0>_0x1327fd['length']){_0x4d90f0=-0x1;return;}}}),await sleep(0x1f4),console[_0x54a6d6(_0x1c69b6._0x10babe)](_0x4d90f0);if(_0x4d90f0!=-0x1)res4=_0x1327fd[_0x4d90f0][_0x54a6d6(_0x1c69b6._0x3436ed)];else{_0xe7952d[_0x54a6d6(0x264)](_0x54a6d6(_0x1c69b6._0x5a828f));return;}}if(_0xe7952d[_0x54a6d6(_0x1c69b6._0x485c47)][_0x54a6d6(_0x1c69b6._0x6c2c5f)]('序号')){res4=res4[_0x54a6d6(0x21e)](/序号/g,'')[_0x54a6d6(0x274)]();let _0x25ed47=_0x54a6d6(_0x1c69b6._0x198062),_0x193451=await _0x26cb99(_0x25ed47,{'agent':isdl?await getAgent():''}),_0x482f61=await _0x193451[_0x54a6d6(0x229)](),_0x53e5ba=_0x482f61[_0x54a6d6(0x284)],_0x123280=_0xe7952d['msg'][_0x54a6d6(_0x1c69b6._0x4a8c84)](0x6,0x9);const _0xa3077a=/\d+/;let _0x17670e=_0x123280[_0x54a6d6(0x202)](_0xa3077a),_0x42263d=_0x17670e[0x0];res4=res4['replace'](new RegExp(_0x42263d,'g'),''),_0x17670e=Number(_0x17670e[0x0]);try{res4=_0x53e5ba[_0x17670e+0x1]['pt']+res4,console[_0x54a6d6(0x1cf)](res4);}catch{_0xe7952d['reply']('没有这个序号哦');return;}}await sleep(0x1f4),_0xe7952d[_0x54a6d6(_0x1c69b6._0x518108)](_0x54a6d6(_0x1c69b6._0x2db08b)+_0x483445);let _0x278ec5=Math[_0x54a6d6(0x212)](Math['random']()*0x2);_0x278ec5==0x0&&(changdu=0x200,kuandu=0x300);_0x278ec5==0x1&&(changdu=0x300,kuandu=0x200);console[_0x54a6d6(_0x1c69b6._0x10babe)](_0x278ec5);var _0x5f2c26=_0x54a6d6(0x2b9),_0x36de94=[res4,pc,_0x54a6d6(0x2af),_0x54a6d6(_0x1c69b6._0x25d78e),0x14,_0x54a6d6(0x2d1),![],![],0x1,0x1,0x7,-0x1,-0x1,0x0,0x0,0x0,![],changdu,kuandu,![],![],0.7,_0x54a6d6(_0x1c69b6._0x25d78e),![],![],null,'',_0x54a6d6(_0x1c69b6._0x3bf658),'','Steps','',!![],![],null,'',''],_0x39edfc=[res4,pc,_0x54a6d6(_0x1c69b6._0x25d78e),_0x54a6d6(0x2af),0x1c,_0x54a6d6(_0x1c69b6._0x43e1d9),![],![],0x1,0x1,0xb,-0x1,-0x1,0x0,0x0,0x0,![],0x200,0x200,![],![],0.7,_0x54a6d6(0x2af),![],![],null,'','Seed','',_0x54a6d6(_0x1c69b6._0x498dd6),'',!![],![],null,'',''];let _0x2981c3=_0x54a6d6(_0x1c69b6._0xe2a2bd),_0x59f5ec=Math[_0x54a6d6(_0x1c69b6._0x2c4eb4)](Math[_0x54a6d6(0x2a1)]()*0xb6cff090),_0x2ca264=_0x54a6d6(_0x1c69b6._0x4d01f0)+moxing+_0x54a6d6(_0x1c69b6._0x37317d)+guimo[_0x54a6d6(_0x1c69b6._0x7e9111)]()+_0x54a6d6(_0x1c69b6._0x5830a4)+bushu[_0x54a6d6(0x272)]()+_0x54a6d6(_0x1c69b6._0x1f7672)+_0x59f5ec[_0x54a6d6(_0x1c69b6._0x7e9111)](),_0x48aecc='';try{_0x48aecc=_0x525628['readFileSync']('./resources/th2.txt');}catch{_0xe7952d[_0x54a6d6(_0x1c69b6._0x49c16c)](_0x54a6d6(0x217));return;}_0x48aecc=_0x48aecc[_0x54a6d6(_0x1c69b6._0x7e9111)]();let _0x8bf145=_0x473af9[_0x54a6d6(_0x1c69b6._0x2c25b7)](_0x525628['readFileSync'](_0x54a6d6(0x2a8),_0x54a6d6(_0x1c69b6._0x39442f)));_0x8bf145=_0x8bf145[_0x54a6d6(_0x1c69b6._0x3b4561)][0x0];try{let _0x5b9f36=_0x54a6d6(0x230)+_0x48aecc+_0x54a6d6(0x29b)+String(_0x8bf145);res=await _0x26cb99(_0x5b9f36,{'agent':isdl?await getAgent():''}),console[_0x54a6d6(_0x1c69b6._0x10babe)](_0x54a6d6(0x257));}catch(_0x345dbd){console['log'](_0x345dbd),console[_0x54a6d6(0x1cf)](_0x54a6d6(_0x1c69b6._0x14bc05));}res=await res[_0x54a6d6(_0x1c69b6._0x49208c)]();if(res[_0x54a6d6(_0x1c69b6._0xdbb479)](_0x54a6d6(0x269))==![]){_0xe7952d[_0x54a6d6(0x264)](_0x54a6d6(_0x1c69b6._0x2a5f73)),console[_0x54a6d6(_0x1c69b6._0x4327a7)](res);return;}try{let _0x184b6c=await _0x26cb99(_0x54a6d6(_0x1c69b6._0x18d429),{'method':_0x54a6d6(0x2b6),'agent':isdl?await getAgent():'','headers':{'Content-Type':'application/json','authorization':_0x54a6d6(_0x1c69b6._0x5ca5fd)},'body':JSON[_0x54a6d6(0x1e3)]({'prompt':_0x54a6d6(_0x1c69b6._0x15368c)+res4,'width':kuandu,'height':changdu,'cfg_scale':guimo+0x2,'sampler':moxing,'steps':0x17,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0x184b6c[_0x54a6d6(0x229)](),res=res4[_0x54a6d6(_0x1c69b6._0x16bf6e)][0x0],_0xe7952d['reply'](_0x54a6d6(_0x1c69b6._0x27ebe3)),await _0x525628[_0x54a6d6(0x20a)]('./resources/ht.png',res[_0x54a6d6(_0x1c69b6._0x7e9111)](),_0x54a6d6(0x1e6),_0x362ca6=>{const _0x4bac0e=_0x54a6d6;if(_0x362ca6)console['log'](_0x4bac0e(0x2de));else{}});iscanshu==0x0&&(_0x2ca264='');await sleep(0x1f4);ss==0x0&&(await main('./resources/ht.png'),console[_0x54a6d6(_0x1c69b6._0xc9ac7)](tpjc));let _0x1b9d3f,_0x422167=_0xe7952d[_0x54a6d6(_0x1c69b6._0x1442f4)]?.[_0x54a6d6(_0x1c69b6._0x429274)]?_0xe7952d[_0x54a6d6(0x267)][_0x54a6d6(0x291)]:_0xe7952d['member']?.[_0x54a6d6(0x1dd)];tpjc=='不合规'&ss==0x0?(_0x1b9d3f=await _0xe7952d[_0x54a6d6(_0x1c69b6._0x518108)](_0x54a6d6(0x25e)),msg2=[_0x54a6d6(0x231),_0x54a6d6(0x2db)+_0x422167+'('+String(_0xe7952d[_0x54a6d6(_0x1c69b6._0x50eb2c)])+')\x0a',_0x54a6d6(_0x1c69b6._0x1864f1)+_0xe7952d[_0x54a6d6(0x255)]['name']+'('+String(_0xe7952d[_0x54a6d6(0x2dd)])+')\x0a',_0x54a6d6(0x28f),segment[_0x54a6d6(0x219)](_0x54a6d6(_0x1c69b6._0x3afa69))],Bot[_0x54a6d6(_0x1c69b6._0x1e6eb2)](_0x8bf145)[_0x54a6d6(0x1fa)](msg2)):(msg2=[segment[_0x54a6d6(_0x1c69b6._0x592809)](_0x54a6d6(_0x1c69b6._0xe5e307)),_0x2ca264],_0x1b9d3f=await _0xe7952d[_0x54a6d6(0x264)](msg2,ishuifu));iscd=0x1,console[_0x54a6d6(_0x1c69b6._0x39828c)](_0x1b9d3f[_0x54a6d6(0x2d3)],isch);if(_0x1b9d3f&&_0x1b9d3f[_0x54a6d6(_0x1c69b6._0x270e3b)]&&isch==0x1&&_0xe7952d['isGroup']){let _0x507e3d=_0xe7952d['group'];setTimeout(()=>{const _0x2b09af=_0x54a6d6;_0x507e3d[_0x2b09af(_0x112931._0x243afd)](_0x1b9d3f[_0x2b09af(_0x112931._0x4fe8e5)]);},timeout);}startTimeMS=new Date()[_0x54a6d6(_0x1c69b6._0x388f02)](),t=setTimeout(()=>{kg2=0x0,iscd=0x0;},cd);}catch{_0xe7952d[_0x54a6d6(0x264)](_0x54a6d6(_0x1c69b6._0x261d4f)),kg2=0x0,iscd=0x0;return;}}else{if(iscd==0x1){let _0x13cc8a=cd-(new Date()[_0x54a6d6(0x1d6)]()-startTimeMS);_0x13cc8a=Math[_0x54a6d6(0x1ea)](_0x13cc8a/0x3e8);if(_0x13cc8a<0x0){kg2=0x0;return;}_0xe7952d['reply']('我在cd中，还有'+String(_0x13cc8a)+_0x54a6d6(0x1f4));}else _0xe7952d[_0x54a6d6(_0x1c69b6._0x2636b0)](_0x54a6d6(_0x1c69b6._0x33391e));}}}async function imgUrlToBase64(_0x3a9a30){const _0x128ef3={_0x864ce1:0x221};let _0x266eda;return new Promise(function(_0x162bbc,_0x59bae7){const _0x3bb805={_0x333665:0x2a0},_0x7d2fa6={_0x1a9d90:0x226,_0x4526f4:0x272,_0x2a144d:0x1e6},_0x59e908=_0x169c;let _0x5d6bc1=http['get'](_0x3a9a30,function(_0x3a6809){const _0x3b1770=_0x169c;var _0x14ded=[],_0x48f3e3=0x0;_0x3a6809['on']('data',function(_0x17a0e1){const _0x13220a=_0x169c;_0x14ded[_0x13220a(0x246)](_0x17a0e1),_0x48f3e3+=_0x17a0e1[_0x13220a(0x2d6)];}),_0x3a6809['on'](_0x3b1770(_0x3bb805._0x333665),function(_0x22a366){const _0x59787f=_0x3b1770;var _0x385df1=Buffer[_0x59787f(_0x7d2fa6._0x1a9d90)](_0x14ded,_0x48f3e3);_0x266eda=_0x385df1[_0x59787f(_0x7d2fa6._0x4526f4)](_0x59787f(_0x7d2fa6._0x2a144d)),_0x162bbc({'success':!![],'base64Img':_0x266eda});});});_0x5d6bc1['on']('error',_0x5ca637=>{const _0x45ff09=_0x169c;_0x162bbc({'success':![],'errmsg':_0x5ca637[_0x45ff09(_0x128ef3._0x864ce1)]});}),_0x5d6bc1[_0x59e908(0x2a0)]();});}function _0x5e39(){const _0x5e8ca1=['application/x-www-form-urlencoded','^#绘个图(.*)$|#土块画图预设(.*)$','文件写入成功！','已开启画图冷却，冷却时间为30秒','masterQQ','./plugins/earth-k-plugin/config/config.yaml','^#二次元的他(.*)','包含中文','开启代理成功','txak','code','ysgn','#以图生草相似度','没有这个预设哦','Bearer','规模已设置为','includes','#嘿嘿','.json','#土块鉴黄关闭','push','#关闭参数显示','新增预设成功','wet','https://api.novelai.net/ai/generate-image\x20','当前降噪','Angry','Heun','DPM++\x202S\x20a\x20Karras','#嗯哼','#土块画图预设','#土块画图冷却开启','采样已设置为DPM++\x202M\x20Karras','你还没有配置百度鉴黄api，看教程：https://www.wolai.com/fFYRjryGk8ktsVvTWjgK5i','^#以图生草(.*)$|(.*)','group','^#填写ak(.*)|#填写sk(.*)','访问成功了','/resources/','bot','utf8','^#填写密钥(.*)','data:image/jpeg;base64,','isMaster','又画涩图！你画涩图我已经发给主人了，别再画了！','url','#新增预设','^#新增屏蔽词(.*)$|#查看屏蔽词$|#删除屏蔽词$|#开启默认屏蔽词$','Seed','新增屏蔽词成功','reply','http://q2.qlogo.cn/headimg_dl?dst_uin=','szbs','member','没有访问成功','可以访问','好的，我开始画图了，请稍等哦','iscd','\x0a相似度：','成功了！','screenshot','pop','get','https://www.tukuai.one/ytsc.php','toString','pickUser','trim','default','images','szmx','访问失败了,QAQ,TvT','huatu3','source','不合规','已激活该密钥','recallMsg','DPM++\x202S\x20a','采样已设置为DPM++\x202S\x20a\x20Karras','采样已设置为Euler','msg','群号：','./resources/yb.png','name','#土块画图撤回开启','tianxie','isch','isGroup','模型:','https://aip.baidubce.com/rest/2.0/solution/v1/img_censor/v2/user_defined?access_token=','#土块画图冷却关闭','tsc','你不是主人，不能用预设哦','删除预设成功','在画涩图被我抓到了','./plugins/earth-k-plugin/resources/aiht/mx.html','card','#查看魔法','采样不在合理范围内，1-8为合理范围','正在画图中，我知道你很急，但是你先别急。','#关闭代理','7rPgAnb','https-proxy-agent','#生气','test','1ilWSGb','&qq=','好的，我开始以图生草了','img','^#图生草(.*)|#嗯哼(.*)|#离谱(.*)|#嘿嘿(.*)|#生气(.*)','substring','end','random','readFile','timeout','^#我的二次元','已开启画图撤回，撤回时间为30秒','123','./resources/3.jpg','./config/config/other.yaml','./resources/ys.json','/resources/ys.json','https://www.tukuai.one/wj.php','error','好的，开启鉴黄了','已关闭画图冷却','None','./resources/ht.png','1383340ejgUQR','https://www.tukuai.one//diqiu.php?tk=','^#开启代理|^#关闭代理|^#开启参数显示|^#关闭参数显示|^#开启词条回复|^#关闭词条回复','41036cpjhMC','#仅我可画','POST','post','parse','abc','写入文件成功','Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36','cwd','你不可以生草哦','请添加预设关键词','你好号主','szgm','\x0a规模：','time','规模不在合理范围内，3-12为合理范围','pbc','4272885ITgryF','^#查看所有预设$|#新增预设(.*)|(.*)','\x0a降噪：','30秒还未发图，以图生草已取消','(black\x20and\x20white:1.2y),sketch,wet','seq','请发送要查看魔法的图片,0.0','Steps','./resources/th2.txt','#土块画图撤回','625eGOIXI','#开启词条回复','Euler\x20a','friend','message_id','好的，已关闭，请注意身体哦','getChatHistory','length','qvht','当前屏蔽词有：','base64Img','填写sk成功','昵称：','15秒还未发图，查看魔法已取消','group_id','写入文件错误','已激活密钥，号主为','2358654pUKUyF','土块AI画图','正在查看魔法，请稍后啊，0v0','https://www.tukuai.one/ht.php','kqdl','#填写ak','isPrivate','&spec=5','#查看预设词条','#开启代理','proxyAddress','预设包含中文','服务器正忙，请稍后','#以图生草','splice','181212QzbhrH','正在生草中，我知道你很急，先别急','huatu2','log','你好号主，成功再次激活','split','findIndex','跳过创建','https://api.sdgou.cc/api/fanyi/?msg=','#填写sk','getTime','^#土块画图采样(.*)|^#查看所有采样','已关闭参数显示','二次元的','width','删除屏蔽词成功','采样已设置为DDMI','nickname','#查看所有采样','height','text','Resize\x20and\x20fill','已关闭词条回复','stringify','^#取消画图$|^#所有人可画$|^#仅我可画$|^#土块画图撤回(.*)$|^#土块画图冷却(.*)$|^#土块鉴黄开启|^#土块鉴黄关闭','好吧，那就一起来吧！','base64','https://www.tukuai.one//ht.php','masterpiece,\x20best\x20quality,','catch','round','application/json','请发送图片','access','utf-8','lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','gjc','服务器正忙,请稍后','二次元的空气吗？你艾特谁了？','6058936DNbRaj','秒可画','#关闭词条回复','R_OK','1111ccfDwb','user_id','wdecy','sendMsg','http','以图生草暂不支持私聊','DPM++\x202M','20oDzdWl','该密钥已被激活','模型：','2154972hTyTNT','match','Euler','#删除预设','\x20\x20\x20\x20\x20\x20\x20\x20|seed:','#土块画图冷却','#土块鉴黄开启','填写ak成功','很抱歉，你的密钥错误。','writeFile','#开启参数显示','\x20\x20\x20|规模:','&client_secret=','\x20\x0a步数:','[\x5cu4E00-\x5cu9FFF]+','#查看画图设置','access_token','floor','我在cd中，还有','采样已设置为DPM++\x202S\x20a','已关闭代理','ecydt','你还没有填写密钥哦。','ckmx','image','\x0a步数：','^#查看模型','你是主人，没有cd，欸嘿','已设置撤回时间为','replace','readFileSync','#查看预设','message','writeFileSync','shuju','{{{masterpiece}}},{{genshin\x20kokomi}}，best\x20quality,illustration,1girl,\x20small\x20breast,\x20sailor\x20dress,wet\x20clothes,\x20bikini,\x20sideboob,white\x20shirt,','#土块画图撤回关闭','concat','#新增屏蔽词','conclusion','json','http://www.tukuai.one/wj.php','这个密钥已经被激活了，你想干嘛！','/resources/3.jpg','已开启参数显示','已设置冷却时间为','./plugins/earth-k-plugin/resources/aiht/ml.html','https://www.tukuai.one//qx.php?tk=','报告主人\x0a'];_0x5e39=function(){return _0x5e8ca1;};return _0x5e39();}function sleep(_0x39b05d){return new Promise(_0x1d51d8=>setTimeout(_0x1d51d8,_0x39b05d));}async function dqpz(){const _0x412d23={_0x528a19:0x2b8,_0x56535b:0x21f,_0x4333a7:0x237,_0x2bda64:0x25a,_0x218dca:0x26b},_0x29c92b=_0x2eceae;let _0x2a47e5=_0x473af9[_0x29c92b(_0x412d23._0x528a19)](_0x525628[_0x29c92b(_0x412d23._0x56535b)](_0x29c92b(_0x412d23._0x4333a7),_0x29c92b(_0x412d23._0x2bda64)));cd=_0x2a47e5['cd'],timeout=_0x2a47e5[_0x29c92b(0x2a3)],isch=_0x2a47e5[_0x29c92b(0x287)],iscd=_0x2a47e5[_0x29c92b(_0x412d23._0x218dca)],zr=_0x2a47e5['zr'],ss=_0x2a47e5['ss'],console['log'](cd,timeout,isch,iscd,zr,ss),await sleep(0x1f4);}async function getAgent(){const _0x412ad9={_0xceaa7:0x1c7,_0x49bd4f:0x297},_0x288946=_0x2eceae;let _0x3d9c08=_0xc672b0[_0x288946(0x259)][_0x288946(_0x412ad9._0xceaa7)];if(!_0x3d9c08)return null;if(_0x3d9c08==='http://0.0.0.0:0')return null;HttpsProxyAgent===''&&(HttpsProxyAgent=await import(_0x288946(_0x412ad9._0x49bd4f))[_0x288946(0x1e9)](_0x12ed35=>{logger['error'](_0x12ed35);}),HttpsProxyAgent=HttpsProxyAgent?HttpsProxyAgent[_0x288946(0x275)]:undefined);if(HttpsProxyAgent)return new HttpsProxyAgent(_0x3d9c08);return null;}async function main(_0x5e0a45){const _0x5696df={_0x46abb2:0x232,_0x5297a6:0x1cf},_0x5eb13c=_0x2eceae;let _0xeb866=getFileContentAsBase64(_0x5e0a45),_0x936d4e=_0x5eb13c(0x28a)+await getAccessToken(),_0x4bab1d=await _0x26cb99(_0x936d4e,{'method':'post','body':'image='+encodeURIComponent(_0xeb866),'headers':{'Content-Type':_0x5eb13c(_0x5696df._0x46abb2),'Accept':_0x5eb13c(0x1eb)}});_0x4bab1d=await _0x4bab1d[_0x5eb13c(0x229)](),tpjc=_0x4bab1d[_0x5eb13c(0x228)],console[_0x5eb13c(_0x5696df._0x5297a6)](tpjc);}async function getAccessToken(){const _0x2e1664={_0x50a8ea:0x2b8,_0x50651a:0x211},_0x23652d=_0x2eceae;let _0x444a0f=_0x473af9[_0x23652d(_0x2e1664._0x50a8ea)](_0x525628[_0x23652d(0x21f)](_0x23652d(0x237),_0x23652d(0x25a)));const _0x348b6f=_0x444a0f['ak'],_0x25c8fe=_0x444a0f['sk'];let _0x27835f='https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id='+_0x348b6f+_0x23652d(0x20d)+_0x25c8fe,_0x21d29b=await _0x26cb99(_0x27835f,{'method':_0x23652d(0x2b7)});return _0x21d29b=await _0x21d29b[_0x23652d(0x229)](),_0x21d29b=_0x21d29b[_0x23652d(_0x2e1664._0x50651a)],_0x21d29b;}function _0x169c(_0x1768ee,_0x4ffb6d){const _0x5e3916=_0x5e39();return _0x169c=function(_0x169c5a,_0x1241b8){_0x169c5a=_0x169c5a-0x1be;let _0x3850eb=_0x5e3916[_0x169c5a];return _0x3850eb;},_0x169c(_0x1768ee,_0x4ffb6d);}function getFileContentAsBase64(_0x5a7f3b){const _0x34221e=require('fs');try{return _0x34221e['readFileSync'](_0x5a7f3b,{'encoding':'base64'});}catch(_0x4d21c7){throw new Error(_0x4d21c7);}}
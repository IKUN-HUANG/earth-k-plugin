const _0x22950d=_0x1d2c;(function(_0x2c1897,_0x38a1c8){const _0x4a520f={_0x4d9f9e:0x1f8,_0x3404e7:0x248},_0x23f748=_0x1d2c,_0x2f8bf7=_0x2c1897();while(!![]){try{const _0x36cb32=parseInt(_0x23f748(0x23c))/0x1+parseInt(_0x23f748(0x1dc))/0x2*(parseInt(_0x23f748(0x18f))/0x3)+parseInt(_0x23f748(0x207))/0x4+-parseInt(_0x23f748(_0x4a520f._0x4d9f9e))/0x5*(parseInt(_0x23f748(_0x4a520f._0x3404e7))/0x6)+-parseInt(_0x23f748(0x1ce))/0x7+-parseInt(_0x23f748(0x1b0))/0x8+-parseInt(_0x23f748(0x1cf))/0x9;if(_0x36cb32===_0x38a1c8)break;else _0x2f8bf7['push'](_0x2f8bf7['shift']());}catch(_0x268ad1){_0x2f8bf7['push'](_0x2f8bf7['shift']());}}}(_0x281b,0x2159a));import{segment}from'oicq';import _0x30ef63 from'node-fetch';function _0x1d2c(_0x53f56f,_0x225807){const _0x281b5e=_0x281b();return _0x1d2c=function(_0x1d2c0b,_0x48114c){_0x1d2c0b=_0x1d2c0b-0x17b;let _0xcec2ba=_0x281b5e[_0x1d2c0b];return _0xcec2ba;},_0x1d2c(_0x53f56f,_0x225807);}import _0x1834d8,{chownSync}from'fs';import _0x3a06d2 from'../../../lib/config/config.js';import _0x2ccc60 from'../../../lib/puppeteer/puppeteer.js';let data1={};import{createRequire}from'module';function _0x281b(){const _0x11b543=['Euler\x20a','utf-8','application/json','已开启画图冷却，冷却时间为30秒','screenshot','当前屏蔽词有：','writeFile','^#查看所有预设$|#新增预设(.*)|(.*)','^#土块画图模型(.*)|^#查看所有模型','好的，已关闭了','142064XphZPk','end','成功了！','已取消当前画图','k_euler_ancestral','https://www.tukuai.one/wj.php','message','我知道你要干嘛！注意身体！','访问失败了,QAQ,TvT','k_euler','15秒还未发图，查看魔法已取消','模型不在合理范围内，1-5为合理范围','#删除屏蔽词','#新增屏蔽词','这个密钥已经被激活了，你想干嘛！','error','已经取消','data','findIndex','images','^#取消画图$|^#所有人可画$|^#仅我可画$|^#土块画图撤回(.*)$|^#土块画图冷却(.*)$|^#土块画图涩涩开启|^#土块画图涩涩关闭','https://www.tukuai.one/ytsc.php','replace','tags','已开启词条回复','http','concat','^#绘个图(.*)$|#土块画图预设(.*)$','当前降噪','你好号主，成功再次激活','936754BUvowt','1138329jDLDgV','substring','qvht','bot','parse','https://xiaobapi.top/api/xb/api/upload_image_tags.php?url=','秒可画','nai-diffusion','floor','url','模型已设置为ddim','base64','我在cd中，还有','3354JpZTPD','已关闭词条回复','#土块画图冷却关闭','已开启参数显示','push','可以访问','\x0a规模：','isPrivate','密钥不存在','szgm','文件写入成功！','#以图生草','#关闭参数显示','#关闭词条回复','https://www.tukuai.one//qx.php?tk=','#开启参数显示','./resources/ht.png','gjc','#查看魔法','好的，已开启，请注意身体哦','catch','huatu2','[\x5cu4E00-\x5cu9FFF]+','很抱歉，你的密钥错误，不能生草','recallMsg','以图生草暂不支持私聊','./config/config/other.yaml','stringify','79735OtaLMo','includes','get','reply','https://www.tukuai.one//diqiu.php?tk=','szbs','正在查看魔法，请稍后啊，0v0','getTime','msg','已关闭代理','Steps','当前相似度','code','步数已设置为','\x0a降噪：','990356EhnoGR','#查看所有模型','#土块画图涩涩关闭','https-proxy-agent','https://api.sdgou.cc/api/fanyi/?msg=','json','http://0.0.0.0:0','你好号主','预设包含中文','#取消画图','好的，我开始以图生草了','已关闭画图撤回','https://api.novelai.net/ai/generate-image\x20','#查看预设','szmx','isGroup','Bearer','好的，权限已经关闭，只有你能画了','已激活该密钥','user_id','^#填写密钥(.*)','密钥不存在！不能乱输入哦','没有这个序号哦','safe-diffusion','包含中文','123','ddim','以图生草宽图','random','splice','ckmx','test','length','你是主人，没有cd，欸嘿','#以图生草相似度','请发送图片','1：k_euler_ancestral,\x0a2：k_euler,\x0a3：k_lms,\x0a4：plms,\x0a5：ddim','split','trim','#开启默认屏蔽词','^#新增屏蔽词(.*)$|#查看屏蔽词$|#删除屏蔽词$|#开启默认屏蔽词$','是英文','kqdl','模型:','#查看屏蔽词','^#以图生草(.*)$|(.*)','group','写入文件成功','步数不在合理范围内，28以下为合理范围','text','以图生草长图','对不起，你不可画哦','新增屏蔽词成功','28768BGSCVg','模型已设置为k_euler_ancestral','#新增预设','当前预设有：\x0a','name','None','masterQQ','规模不在合理范围内，3-12为合理范围','已经开启默认屏蔽词','readFile','message_id','已设置冷却时间为','18nhLOEs','#土块画图撤回关闭','#土块画图涩涩开启','已关闭参数显示','lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','土块AI画图','base64Img','log','好吧，那就一起来吧！','好的，我开始画图了，请稍等哦','&qq=','ysgn','#所有人可画','#查看预设词条','魔法是：','tianxie','writeFileSync','#土块画图预设','POST','./plugins/earth-k-plugin/resources/aiht/ml.html','post','#关闭代理','正在画图中，我知道你很急，但是你先别急。','你还没有填写密钥哦。','模型已设置为k_euler','readFileSync','模型：','#土块画图撤回','写入文件错误','模型已设置为plms','/plugins/earth-k-plugin/resources/pz/pz.txt','utf8','isMaster','default','toString','proxyAddress','img','333RvqSpU','round','#以图生草降噪','huatu3','没有访问成功','^#土块画图步数(.*)|^#查看画图设置','./resources/th2.txt','#删除预设','Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36','\x20\x0a步数:','30秒还未发图，以图生草已取消','https://www.tukuai.one//ht.php','请添加预设关键词','pbc','shuju','\x20\x20\x20\x20\x20\x20\x20\x20|seed:','开启代理成功','删除预设成功','访问成功了','\x0a相似度：','正在生草中，我知道你很急，先别急','/plugins/earth-k-plugin/resources/htys/ys.json','./resources/3.jpg'];_0x281b=function(){return _0x11b543;};return _0x281b();}import _0xff769c from'yaml';const require=createRequire(import.meta[_0x22950d(0x1d8)]);let ysct,mf,mfkg=0x0,ml=process['cwd']();var http=require('http');import _0x42471c from'lodash';let yushekg=0x0,kg=0x0,guimo=5.5,kg2=0x0,mfid='',res4,htm='',htm2='',res5,res,zr=0x0,changdu=0x200,kuandu=0x200,msg2,timeout=0x7530,isch=0x1,cd=0x0,t,startTimeMS,iscd=0x0,my,dz,sj1,sj2,shuju,zt=0x0,gjc2,sc=0x0,bushu=0x1c,id='',xsd=0.5,nr,ycqx,jz=0.2,ss='nai-diffusion',Path,ys=[],moxing=_0x22950d(0x1b9),isdl=0x0,iscanshu=0x1,ishuifu=!![],HttpsProxyAgent='',chang,kuan,pc=_0x22950d(0x24c);export class aiht extends plugin{constructor(){const _0x1a4133={_0x5ea1a0:0x24d,_0xc1c846:0x22f,_0x1a5ee9:0x19c,_0x48d798:0x234,_0x1712de:0x253,_0x660513:0x1ae,_0xd76f69:0x215,_0x487e8e:0x1fd},_0xbcb5d4=_0x22950d;super({'name':_0xbcb5d4(_0x1a4133._0x5ea1a0),'dsc':_0xbcb5d4(0x24d),'event':_0xbcb5d4(0x1b6),'priority':0x479,'rule':[{'reg':_0xbcb5d4(0x1cb),'fnc':_0xbcb5d4(0x1f1)},{'reg':_0xbcb5d4(0x1c4),'fnc':_0xbcb5d4(0x1d1)},{'reg':_0xbcb5d4(_0x1a4133._0xc1c846),'fnc':_0xbcb5d4(_0x1a4133._0x1a5ee9)},{'reg':_0xbcb5d4(_0x1a4133._0x48d798),'fnc':_0xbcb5d4(0x192),'log':![]},{'reg':_0xbcb5d4(0x1ad),'fnc':_0xbcb5d4(_0x1a4133._0x1712de),'log':![]},{'reg':'^#土块画图规模(.*)','fnc':_0xbcb5d4(0x1e5)},{'reg':_0xbcb5d4(_0x1a4133._0x660513),'fnc':_0xbcb5d4(_0x1a4133._0xd76f69)},{'reg':_0xbcb5d4(0x194),'fnc':_0xbcb5d4(_0x1a4133._0x487e8e)},{'reg':'^#开启代理|^#关闭代理|^#开启参数显示|^#关闭参数显示|^#开启词条回复|^#关闭词条回复','fnc':_0xbcb5d4(0x231)},{'reg':_0xbcb5d4(0x21b),'fnc':_0xbcb5d4(0x257)},{'reg':'^#查看模型','fnc':_0xbcb5d4(0x225)}]});}async[_0x22950d(0x225)](_0x5ce7ca){const _0x27ce7b={_0x435da4:0x240,_0x46aa68:0x220,_0x2dfe27:0x1fb},_0x4e485d=_0x22950d;let _0x4cff1d='https://www.tukuai.one/wj.php',_0x5f58f7=await _0x30ef63(_0x4cff1d),_0x3d9385=await _0x5f58f7['json'](),_0x10a470=_0x3d9385[_0x4e485d(_0x27ce7b._0x435da4)];data1={'tplFile':'./plugins/earth-k-plugin/resources/aiht/mx.html','dz':ml,'lb':_0x10a470};let _0x1d0303=await _0x2ccc60[_0x4e485d(0x1aa)](_0x4e485d(_0x27ce7b._0x46aa68),{...data1});_0x5ce7ca[_0x4e485d(_0x27ce7b._0x2dfe27)](_0x1d0303);}async[_0x22950d(0x257)](_0x560329){const _0xdef060={_0x59eb20:0x1f6,_0x211559:0x242,_0x5421cf:0x22d,_0x6bbe2a:0x252,_0x20518e:0x1f9,_0x1fc47b:0x21c,_0x8208a0:0x1ac,_0x125501:0x18c,_0x2b18c4:0x21a,_0x579f90:0x1a7,_0x42a525:0x1fb,_0x43d04e:0x1be},_0x30b2c0={_0x222840:0x186},_0x5f345c={_0x33ba10:0x24f,_0x358f9c:0x186},_0x31fc46=_0x22950d;if(_0x560329[_0x31fc46(0x18a)]){let _0x4bb40e=_0xff769c[_0x31fc46(0x1d3)](_0x1834d8['readFileSync'](_0x31fc46(_0xdef060._0x59eb20),'utf8'));_0x4bb40e=_0x4bb40e[_0x31fc46(_0xdef060._0x211559)][0x0],console[_0x31fc46(0x24f)](_0x4bb40e);let _0x2f59b4=_0x560329[_0x31fc46(0x200)][_0x31fc46(0x1c6)](/#填写密钥/g,'')[_0x31fc46(_0xdef060._0x5421cf)](),_0x347c7f=_0x31fc46(0x1fc)+_0x2f59b4+_0x31fc46(_0xdef060._0x6bbe2a)+String(_0x560329[_0x31fc46(0x21a)]),_0x57b5cf=await _0x30ef63(_0x347c7f,{'agent':isdl?await getAgent():''}),_0x44725e=await _0x57b5cf['text']();if(_0x44725e[_0x31fc46(_0xdef060._0x20518e)](_0x31fc46(0x1e4))){_0x560329['reply'](_0x31fc46(_0xdef060._0x1fc47b));return;}if(_0x44725e[_0x31fc46(0x1f9)](_0x31fc46(0x20e))){_0x560329['reply'](_0x31fc46(0x1cd)),await _0x1834d8[_0x31fc46(_0xdef060._0x8208a0)](_0x31fc46(0x195),_0x2f59b4[_0x31fc46(_0xdef060._0x125501)](),_0x31fc46(0x1a7),_0x4f8b79=>{const _0x42a005=_0x31fc46;if(_0x4f8b79)console[_0x42a005(_0x5f345c._0x33ba10)](_0x42a005(_0x5f345c._0x358f9c));else{}});return;}_0x44725e['includes'](_0x31fc46(0x219))&&(_0x560329[_0x31fc46(0x1fb)]('已激活密钥，号主为'+String(_0x560329[_0x31fc46(_0xdef060._0x2b18c4)])),await _0x1834d8[_0x31fc46(0x1ac)](_0x31fc46(0x195),_0x2f59b4[_0x31fc46(0x18c)](),_0x31fc46(_0xdef060._0x579f90),_0x1c79f2=>{const _0x830e92=_0x31fc46;if(_0x1c79f2)console['log'](_0x830e92(_0x30b2c0._0x222840));else{}})),_0x44725e[_0x31fc46(0x1f9)]('该密钥已被激活')&&_0x560329[_0x31fc46(_0xdef060._0x42a525)](_0x31fc46(_0xdef060._0x43d04e));}}async[_0x22950d(0x231)](_0x1f5465){const _0x2d634d={_0x2779f7:0x200,_0x233c22:0x19f,_0xe03b04:0x201,_0x2478b3:0x1fb,_0x284eb5:0x1df,_0x5700d8:0x24b,_0xd3bed1:0x18a,_0x4b7e81:0x1c8,_0x48451f:0x200,_0x25a71a:0x1e9},_0x5de1c5=_0x22950d;_0x1f5465[_0x5de1c5(_0x2d634d._0x2779f7)]=='#开启代理'&_0x1f5465['isMaster']&&(isdl=0x1,_0x1f5465[_0x5de1c5(0x1fb)](_0x5de1c5(_0x2d634d._0x233c22))),_0x1f5465[_0x5de1c5(_0x2d634d._0x2779f7)]==_0x5de1c5(0x17f)&_0x1f5465['isMaster']&&(isdl=0x0,_0x1f5465[_0x5de1c5(0x1fb)](_0x5de1c5(_0x2d634d._0xe03b04))),_0x1f5465[_0x5de1c5(0x200)]==_0x5de1c5(0x1eb)&_0x1f5465[_0x5de1c5(0x18a)]&&(iscanshu=0x1,_0x1f5465[_0x5de1c5(_0x2d634d._0x2478b3)](_0x5de1c5(_0x2d634d._0x284eb5))),_0x1f5465[_0x5de1c5(0x200)]==_0x5de1c5(0x1e8)&_0x1f5465[_0x5de1c5(0x18a)]&&(iscanshu=0x0,_0x1f5465['reply'](_0x5de1c5(_0x2d634d._0x5700d8))),_0x1f5465['msg']=='#开启词条回复'&_0x1f5465[_0x5de1c5(_0x2d634d._0xd3bed1)]&&(ishuifu=!![],_0x1f5465[_0x5de1c5(0x1fb)](_0x5de1c5(_0x2d634d._0x4b7e81))),_0x1f5465[_0x5de1c5(_0x2d634d._0x48451f)]==_0x5de1c5(_0x2d634d._0x25a71a)&_0x1f5465[_0x5de1c5(0x18a)]&&(ishuifu=![],_0x1f5465[_0x5de1c5(_0x2d634d._0x2478b3)](_0x5de1c5(0x1dd)));}async['szbs'](_0x5cc2c4){const _0x546788={_0x35df89:0x24f,_0x31f603:0x1e2,_0x401ff1:0x1a2,_0x784a6:0x206,_0x5ceb4f:0x18c,_0x4ef7c0:0x1c6,_0x578e48:0x1fb,_0x4e9737:0x205},_0x43eeb8=_0x22950d;if(_0x5cc2c4[_0x43eeb8(0x200)]=='#查看画图设置'){console[_0x43eeb8(_0x546788._0x35df89)](guimo);let _0x51f7ff=[_0x43eeb8(0x184),moxing,_0x43eeb8(_0x546788._0x31f603),guimo[_0x43eeb8(0x18c)](),'\x0a步数：',bushu[_0x43eeb8(0x18c)](),_0x43eeb8(_0x546788._0x401ff1),xsd[_0x43eeb8(0x18c)](),_0x43eeb8(_0x546788._0x784a6),jz[_0x43eeb8(_0x546788._0x5ceb4f)]()];_0x5cc2c4[_0x43eeb8(0x1fb)](_0x51f7ff);return;}bushu=_0x5cc2c4[_0x43eeb8(0x200)][_0x43eeb8(_0x546788._0x4ef7c0)](/#土块画图步数/g,'')[_0x43eeb8(0x22d)](),bushu=Number(bushu);if(bushu<0x0|bushu>0x1c){bushu=0x1c,_0x5cc2c4[_0x43eeb8(_0x546788._0x578e48)](_0x43eeb8(0x237));return;}else _0x5cc2c4[_0x43eeb8(0x1fb)](_0x43eeb8(_0x546788._0x4e9737)+String(bushu));}async[_0x22950d(0x215)](_0x4d427b){const _0x7d165d={_0x2e35f6:0x208,_0x6b661:0x1c6,_0xfd75b5:0x22d,_0x51835d:0x1bb,_0x4d09cc:0x1b4,_0x470179:0x23d,_0x398e40:0x1d9},_0x2c2b25=_0x22950d;if(_0x4d427b['msg']==_0x2c2b25(_0x7d165d._0x2e35f6)){let _0x21e959=[_0x2c2b25(0x22b)];_0x4d427b['reply'](_0x21e959);return;}moxing=_0x4d427b[_0x2c2b25(0x200)][_0x2c2b25(_0x7d165d._0x6b661)](/#土块画图模型/g,'')[_0x2c2b25(_0x7d165d._0xfd75b5)](),moxing=Number(moxing);if(moxing<0x0|moxing>0x5){_0x4d427b[_0x2c2b25(0x1fb)](_0x2c2b25(_0x7d165d._0x51835d)),moxing=0x2;return;}moxing==0x1&&(moxing=_0x2c2b25(_0x7d165d._0x4d09cc),_0x4d427b[_0x2c2b25(0x1fb)](_0x2c2b25(_0x7d165d._0x470179))),moxing==0x2&&(moxing='k_euler',_0x4d427b['reply'](_0x2c2b25(0x182))),moxing==0x3&&(moxing='k_lms',_0x4d427b['reply']('模型已设置为k_lms')),moxing==0x4&&(moxing='plms',_0x4d427b[_0x2c2b25(0x1fb)](_0x2c2b25(0x187))),moxing==0x5&&(moxing=_0x2c2b25(0x221),_0x4d427b[_0x2c2b25(0x1fb)](_0x2c2b25(_0x7d165d._0x398e40)));}async['szgm'](_0x1933a9){const _0x217fa6={_0x2972f5:0x1fb},_0x4805f1=_0x22950d;guimo=_0x1933a9['msg']['replace'](/#土块画图规模/g,'')[_0x4805f1(0x22d)](),guimo=Number(guimo);if(guimo<0x3|guimo>0xc){_0x1933a9['reply'](_0x4805f1(0x243)),guimo=5.5;return;}else _0x1933a9[_0x4805f1(_0x217fa6._0x2972f5)]('规模已设置为'+String(guimo));}async[_0x22950d(0x253)](_0xdc1626){const _0x437e0d={_0x1d78d9:0x18e,_0x4f467d:0x1f9,_0x1d8fce:0x200,_0x2bdcb9:0x196,_0x2ea15c:0x255,_0x5a4d07:0x245,_0x5c0796:0x18a,_0x154ea8:0x200,_0x4d609b:0x22c,_0x1d8b31:0x1aa,_0x461579:0x1fb,_0x1b65b4:0x23f,_0x66657c:0x200,_0x4bdee3:0x196,_0x147c50:0x18a,_0x56faf6:0x1c6,_0x1532ae:0x1ac,_0x55d70f:0x23e,_0x582ad7:0x1c6,_0x4bcd75:0x22d,_0x3af245:0x1e0,_0x359769:0x1f7},_0x454a68={_0x339b6e:0x24f,_0x41719f:0x1fb},_0x28a8e4={_0x4d3361:0x18c,_0x511775:0x19d,_0x24d003:0x19d},_0x46b08d=_0x22950d;if(_0xdc1626[_0x46b08d(_0x437e0d._0x1d78d9)]!=undefined)return![];if(yushekg==0x0&_0xdc1626['msg'][_0x46b08d(0x1f9)](_0x46b08d(0x214))==![]&_0xdc1626['msg'][_0x46b08d(_0x437e0d._0x4f467d)]('#新增预设')==![]&_0xdc1626[_0x46b08d(_0x437e0d._0x1d8fce)][_0x46b08d(_0x437e0d._0x4f467d)](_0x46b08d(_0x437e0d._0x2bdcb9))==![]&_0xdc1626[_0x46b08d(0x200)]['includes'](_0x46b08d(_0x437e0d._0x2ea15c))==![])return![];let _0x17eec1=ml+_0x46b08d(0x1a4),_0xce74cc='';await _0x1834d8[_0x46b08d(_0x437e0d._0x5a4d07)](_0x17eec1,(_0x11ca5c,_0x156b95)=>{const _0x33927c=_0x46b08d;if(_0x11ca5c)throw _0x11ca5c;var _0x1d1775=_0x156b95[_0x33927c(0x18c)]()!=''?JSON[_0x33927c(0x1d3)](_0x156b95[_0x33927c(_0x28a8e4._0x4d3361)]()):[];ysct='',_0xce74cc='',shuju=_0x1d1775;for(let _0x2f78e0=0x0;_0x2f78e0<shuju[_0x33927c(_0x28a8e4._0x511775)][_0x33927c(0x227)];_0x2f78e0++){_0xce74cc=_0xce74cc+shuju[_0x33927c(_0x28a8e4._0x24d003)][_0x2f78e0]['name']+',',ysct=ysct+shuju[_0x33927c(_0x28a8e4._0x24d003)][_0x2f78e0][_0x33927c(0x1ed)]+'++';}}),await sleep(0x1f4);if(_0xdc1626[_0x46b08d(0x200)][_0x46b08d(0x1f9)](_0x46b08d(_0x437e0d._0x2ea15c))&_0xdc1626[_0x46b08d(_0x437e0d._0x5c0796)]){let _0x4f856b=_0xdc1626[_0x46b08d(_0x437e0d._0x154ea8)][_0x46b08d(0x1c6)](/#查看预设词条/g,'')[_0x46b08d(0x22d)]();_0x4f856b=Number(_0x4f856b),ysct=ysct[_0x46b08d(0x22c)]('++'),_0xce74cc=_0xce74cc[_0x46b08d(_0x437e0d._0x4d609b)](',');if(_0x4f856b>ysct['length']|_0x4f856b<0x0){_0xdc1626['reply']('数字超过了预设个数');return;}_0xdc1626[_0x46b08d(0x1fb)]([_0xce74cc[_0x4f856b-0x1],':',ysct[_0x4f856b-0x1]]),ysct='',_0xce74cc='';}if(_0xdc1626[_0x46b08d(0x200)]==_0x46b08d(0x214)&_0xdc1626[_0x46b08d(_0x437e0d._0x5c0796)]){_0xce74cc=_0xce74cc[_0x46b08d(0x22c)](','),data1={'tplFile':_0x46b08d(0x17d),'dz':ml,'lb':_0xce74cc,'qsid':0x0};let _0x3fb61d=await _0x2ccc60[_0x46b08d(_0x437e0d._0x1d8b31)](_0x46b08d(0x220),{...data1});_0xdc1626[_0x46b08d(0x1fb)](_0x3fb61d);return;_0xdc1626[_0x46b08d(_0x437e0d._0x461579)](_0x46b08d(_0x437e0d._0x1b65b4)+_0xce74cc);}if(_0xdc1626[_0x46b08d(_0x437e0d._0x66657c)][_0x46b08d(0x1f9)](_0x46b08d(_0x437e0d._0x4bdee3))&_0xdc1626[_0x46b08d(_0x437e0d._0x147c50)]){let _0x15fe1e=_0xdc1626['msg'][_0x46b08d(_0x437e0d._0x56faf6)](/#删除预设/g,'')[_0x46b08d(0x22d)]();_0x15fe1e=Number(_0x15fe1e);if(_0x15fe1e<shuju[_0x46b08d(0x19d)][_0x46b08d(0x227)]+0x1){shuju['shuju'][_0x46b08d(0x224)](_0x15fe1e-0x1,0x1);var _0x1b1a64=JSON[_0x46b08d(0x1f7)](shuju);}_0x1834d8[_0x46b08d(_0x437e0d._0x1532ae)](_0x17eec1,_0x1b1a64,function(_0x330d15){const _0x23c6c0=_0x46b08d;_0x330d15&&console[_0x23c6c0(0x1bf)](_0x330d15),_0xdc1626[_0x23c6c0(0x1fb)](_0x23c6c0(0x1a0));});}if(_0xdc1626[_0x46b08d(0x200)][_0x46b08d(0x1f9)](_0x46b08d(_0x437e0d._0x55d70f))&_0xdc1626[_0x46b08d(_0x437e0d._0x5c0796)]&yushekg==0x0){yushekg=0x1,ys[0x0]=_0xdc1626['msg'][_0x46b08d(_0x437e0d._0x582ad7)](/#新增预设/g,'')[_0x46b08d(_0x437e0d._0x4bcd75)](),_0xdc1626[_0x46b08d(0x1fb)](_0x46b08d(0x19b));return;}if(yushekg==0x1&_0xdc1626['isMaster']){yushekg=0x0,ys[0x1]=_0xdc1626[_0x46b08d(0x200)];let _0x1a1063={'name':ys[0x0],'gjc':ys[0x1]};shuju['shuju'][_0x46b08d(_0x437e0d._0x3af245)](_0x1a1063),console[_0x46b08d(0x24f)](shuju);var _0x1b1a64=JSON[_0x46b08d(_0x437e0d._0x359769)](shuju);_0x1834d8[_0x46b08d(0x1ac)](_0x17eec1,_0x1b1a64,_0x359283=>{const _0x34e361=_0x46b08d;if(_0x359283)throw _0x359283;console[_0x34e361(_0x454a68._0x339b6e)](_0x34e361(0x1e6)),_0xdc1626[_0x34e361(_0x454a68._0x41719f)]('新增预设成功');});return;}}async[_0x22950d(0x19c)](_0x5edaf0){const _0xd0b81b={_0x59c7a9:0x1c6,_0x21b78c:0x200,_0x308fa1:0x233,_0x2165c4:0x18a,_0x4b639c:0x1f9,_0x366912:0x1fb,_0x2af1e8:0x1b7,_0x1a435f:0x22e,_0x5b7446:0x1fb,_0x397ad1:0x244,_0x2ec982:0x24c},_0x3abffb=_0x22950d;_0x5edaf0[_0x3abffb(0x200)][_0x3abffb(0x1f9)](_0x3abffb(0x1bd))&_0x5edaf0[_0x3abffb(0x18a)]&&(_0x5edaf0['reply'](_0x3abffb(0x23b)),pc=_0x5edaf0[_0x3abffb(0x200)][_0x3abffb(_0xd0b81b._0x59c7a9)](/#新增屏蔽词/g,'')[_0x3abffb(0x22d)]()),_0x5edaf0[_0x3abffb(_0xd0b81b._0x21b78c)]==_0x3abffb(_0xd0b81b._0x308fa1)&_0x5edaf0[_0x3abffb(_0xd0b81b._0x2165c4)]&&_0x5edaf0[_0x3abffb(0x1fb)]([_0x3abffb(0x1ab),pc]),_0x5edaf0[_0x3abffb(0x200)][_0x3abffb(_0xd0b81b._0x4b639c)](_0x3abffb(0x1bc))&_0x5edaf0[_0x3abffb(0x18a)]&&(_0x5edaf0[_0x3abffb(_0xd0b81b._0x366912)]('删除屏蔽词成功'+_0x3abffb(_0xd0b81b._0x2af1e8)),pc=''),_0x5edaf0[_0x3abffb(0x200)]['includes'](_0x3abffb(_0xd0b81b._0x1a435f))&_0x5edaf0[_0x3abffb(_0xd0b81b._0x2165c4)]&&(_0x5edaf0[_0x3abffb(_0xd0b81b._0x5b7446)](_0x3abffb(_0xd0b81b._0x397ad1)),pc=_0x3abffb(_0xd0b81b._0x2ec982));}async[_0x22950d(0x1d1)](_0x4a985e){const _0x4c957d={_0x43a1cc:0x1ef,_0x47e6f4:0x209,_0x1113a4:0x18a,_0x4ccc5f:0x1af,_0x5877d0:0x200,_0x1473ab:0x1fb,_0x251656:0x18a,_0x3d0980:0x1a9,_0x138fde:0x1f9,_0x5b8333:0x200,_0x4cf8fc:0x247,_0xdbfb99:0x1a7,_0x5d9fb8:0x185,_0x42fdb8:0x18c,_0xb90bc6:0x24f,_0x54fc30:0x1c0,_0xed734a:0x1fb,_0x1fdd50:0x1b3,_0x2e2431:0x254,_0x11b3da:0x200,_0x173612:0x18a,_0x2558f1:0x1fb,_0x4a0f31:0x218},_0x3dcb00=_0x22950d;_0x4a985e['msg']==_0x3dcb00(0x24a)&_0x4a985e[_0x3dcb00(0x18a)]&&(_0x4a985e['reply'](_0x3dcb00(_0x4c957d._0x43a1cc)),ss=_0x3dcb00(0x1d6));_0x4a985e[_0x3dcb00(0x200)]==_0x3dcb00(_0x4c957d._0x47e6f4)&_0x4a985e[_0x3dcb00(_0x4c957d._0x1113a4)]&&(_0x4a985e[_0x3dcb00(0x1fb)](_0x3dcb00(_0x4c957d._0x4ccc5f)),ss=_0x3dcb00(0x21e));await dqpz();if(_0x4a985e[_0x3dcb00(_0x4c957d._0x5877d0)]['includes'](_0x3dcb00(0x1de))&_0x4a985e[_0x3dcb00(0x18a)]){nr[0x3]=0x0,nr[0x0]=0x0,_0x1834d8[_0x3dcb00(0x258)](Path,nr[_0x3dcb00(0x18c)](),_0x3dcb00(0x1a7)),cd=0x0,kg2=0x0,kg=0x0,sc=0x0,iscd=0x0,_0x4a985e[_0x3dcb00(_0x4c957d._0x1473ab)]('已关闭画图冷却');return;}if(_0x4a985e[_0x3dcb00(0x200)]['includes']('#土块画图冷却开启')&_0x4a985e[_0x3dcb00(_0x4c957d._0x251656)]){nr[0x0]=0x7530,nr[0x3]=0x1,_0x1834d8['writeFileSync'](Path,nr[_0x3dcb00(0x18c)](),'utf-8'),cd=0x7530,_0x4a985e[_0x3dcb00(0x1fb)](_0x3dcb00(_0x4c957d._0x3d0980));return;}if(_0x4a985e['msg'][_0x3dcb00(_0x4c957d._0x138fde)]('#土块画图冷却')&_0x4a985e[_0x3dcb00(0x18a)]){let _0x18e02a=_0x4a985e[_0x3dcb00(_0x4c957d._0x5b8333)][_0x3dcb00(0x1c6)](/#土块画图冷却/g,'')[_0x3dcb00(0x22d)]();cd=Number(_0x18e02a)*0x3e8,nr[0x0]=cd,nr[0x3]=0x1,_0x1834d8[_0x3dcb00(0x258)](Path,nr['toString'](),_0x3dcb00(0x1a7)),_0x4a985e[_0x3dcb00(0x1fb)](_0x3dcb00(_0x4c957d._0x4cf8fc)+_0x18e02a+'秒');}if(_0x4a985e['msg'][_0x3dcb00(0x1f9)](_0x3dcb00(0x249))&_0x4a985e[_0x3dcb00(0x18a)]){nr[0x2]=0x0,_0x1834d8['writeFileSync'](Path,nr['toString'](),_0x3dcb00(0x1a7)),isch=0x0,_0x4a985e[_0x3dcb00(0x1fb)](_0x3dcb00(0x212));return;}if(_0x4a985e['msg'][_0x3dcb00(0x1f9)]('#土块画图撤回开启')&_0x4a985e[_0x3dcb00(_0x4c957d._0x1113a4)]){isch=0x1,nr[0x1]=0x7530,nr[0x2]=0x1,_0x1834d8['writeFileSync'](Path,nr[_0x3dcb00(0x18c)](),_0x3dcb00(_0x4c957d._0xdbfb99)),timeout=0x7530,_0x4a985e['reply']('已开启画图撤回，撤回时间为30秒');return;}if(_0x4a985e['msg'][_0x3dcb00(0x1f9)](_0x3dcb00(_0x4c957d._0x5d9fb8))&_0x4a985e['isMaster']){isch=0x1;let _0x469060=_0x4a985e[_0x3dcb00(0x200)][_0x3dcb00(0x1c6)](/#土块画图撤回/g,'')[_0x3dcb00(0x22d)]();timeout=Number(_0x469060)*0x3e8,nr[0x1]=timeout,nr[0x2]=0x1,_0x1834d8[_0x3dcb00(0x258)](Path,nr[_0x3dcb00(_0x4c957d._0x42fdb8)](),_0x3dcb00(0x1a7)),_0x4a985e['reply']('已设置撤回时间为'+_0x469060+'秒');}_0x4a985e[_0x3dcb00(0x200)]==_0x3dcb00(0x210)&&(kg=0x0,sc=0x0,zt=0x0,id='',console[_0x3dcb00(_0x4c957d._0xb90bc6)](_0x3dcb00(_0x4c957d._0x54fc30)),kg2=0x0,_0x4a985e[_0x3dcb00(_0x4c957d._0xed734a)](_0x3dcb00(_0x4c957d._0x1fdd50))),_0x4a985e[_0x3dcb00(_0x4c957d._0x5b8333)]==_0x3dcb00(_0x4c957d._0x2e2431)&_0x4a985e[_0x3dcb00(0x18a)]&&(_0x4a985e[_0x3dcb00(_0x4c957d._0xed734a)](_0x3dcb00(0x250)),zr=0x0),_0x4a985e[_0x3dcb00(_0x4c957d._0x11b3da)]=='#仅我可画'&_0x4a985e[_0x3dcb00(_0x4c957d._0x173612)]&&(_0x4a985e[_0x3dcb00(_0x4c957d._0x2558f1)](_0x3dcb00(_0x4c957d._0x4a0f31)),zr=0x1);}async['huatu3'](_0x119c45){const _0x47f2d0={_0x373a8f:0x18e,_0x20917c:0x200,_0x504611:0x1e7,_0x2af72e:0x200,_0x41117d:0x1f9,_0xc78905:0x1ee,_0x2ad7dc:0x21a,_0x4331f9:0x1fe,_0x41aade:0x18e,_0x4a4a80:0x20c,_0x2ec406:0x24f,_0x589062:0x1c7,_0x23f404:0x200,_0x3a2f9e:0x18a,_0x9b7329:0x1c6,_0x3a2fff:0x22d,_0x156a4b:0x1fb,_0x2d06f9:0x1f9,_0x196411:0x191,_0x2ee208:0x1cc,_0x19a591:0x1e3,_0x279c07:0x183,_0x1553e0:0x195,_0x4474e1:0x1fb,_0x13fa4f:0x181,_0xf05b85:0x18c,_0x4c4d45:0x1d3,_0x3e9aa1:0x1f6,_0x1d59fb:0x189,_0x16028b:0x242,_0x343beb:0x252,_0x9f49e5:0x24f,_0x46a75b:0x24f,_0x36eed4:0x24f,_0x4638f6:0x200,_0x38f25b:0x1c6,_0x37d40d:0x239,_0x560590:0x1c6,_0x5ad27d:0x22d,_0x5116c7:0x24f,_0x3cacd6:0x21f,_0x2d54f8:0x238,_0xc258e4:0x1fb,_0x212522:0x22a,_0x2e4e99:0x21a,_0x1c84ac:0x18e,_0x2783c4:0x1c6,_0x4f71a7:0x22d,_0x563a47:0x24e,_0x3e1733:0x1a6,_0x48cdd2:0x211,_0x3db77a:0x24f,_0x489892:0x193,_0xeaadc1:0x1c3,_0x534d56:0x1b2,_0x27a21c:0x1a5,_0x43ed8c:0x1da,_0x2e6d6b:0x216,_0x56db48:0x200,_0x5344cf:0x24f,_0x3f2e93:0x190,_0x33efe6:0x1fb,_0x57944d:0x1d5},_0x383ca0={_0x389b91:0x186,_0x1c1a26:0x24f,_0x5e1767:0x236},_0x13ee88={_0x4f37fa:0x1fb},_0x16f52d={_0x489fa5:0x1fb,_0x513fe9:0x1ba},_0x451360=_0x22950d;if(_0x119c45[_0x451360(0x18e)]!=undefined&zt==0x0&mfkg==0x0)return![];if(_0x119c45[_0x451360(_0x47f2d0._0x373a8f)]==undefined&_0x119c45[_0x451360(0x200)]!=undefined){if(_0x119c45[_0x451360(_0x47f2d0._0x20917c)][_0x451360(0x1f9)](_0x451360(_0x47f2d0._0x504611))==![]&_0x119c45[_0x451360(_0x47f2d0._0x373a8f)]==undefined&zt==0x0&_0x119c45[_0x451360(_0x47f2d0._0x2af72e)][_0x451360(_0x47f2d0._0x41117d)](_0x451360(_0x47f2d0._0xc78905))==![]&mfkg==0x0)return![];}mfkg==0x0&_0x119c45[_0x451360(_0x47f2d0._0x20917c)]==_0x451360(0x1ee)&&(mfkg=0x1,mfid=_0x119c45[_0x451360(0x21a)],_0x119c45['reply']('请发送要查看魔法的图片,0.0'),mf=setTimeout(()=>{const _0x349440=_0x451360;if(mfkg==0x1){mfkg=0x0,_0x119c45[_0x349440(_0x16f52d._0x489fa5)](_0x349440(_0x16f52d._0x513fe9));return;}},0x3a98));if(_0x119c45['img']!=undefined&mfkg==0x1&mfid==_0x119c45[_0x451360(_0x47f2d0._0x2ad7dc)]){clearTimeout(mf),_0x119c45['reply'](_0x451360(_0x47f2d0._0x4331f9)),mfkg=0x0,mfid='';let _0x8f753d=_0x451360(0x1d4);console['log'](_0x119c45[_0x451360(_0x47f2d0._0x41aade)]),_0x8f753d=_0x8f753d+_0x119c45[_0x451360(0x18e)][0x0],res=await _0x30ef63(_0x8f753d,{'method':_0x451360(0x1fa),'headers':{'Content-Type':_0x451360(0x1a8),'User-Agent':_0x451360(0x197)}});let _0x54a5b8=await res[_0x451360(_0x47f2d0._0x4a4a80)]();console[_0x451360(_0x47f2d0._0x2ec406)](_0x451360(0x256)+_0x54a5b8),console[_0x451360(0x24f)](_0x54a5b8);if(_0x54a5b8!=undefined)_0x119c45[_0x451360(0x1fb)](_0x54a5b8[_0x451360(_0x47f2d0._0x589062)],!![]),_0x54a5b8[_0x451360(0x204)]==-0x1&&(_0x119c45[_0x451360(0x1fb)](_0x451360(0x1b8)),mfkg=0x0,mfid='');else{}}if(_0x119c45[_0x451360(0x18e)]==undefined&zt==0x1)return![];if(_0x119c45[_0x451360(_0x47f2d0._0x41aade)]==undefined&_0x119c45[_0x451360(_0x47f2d0._0x23f404)]!=undefined){dqpz();if(_0x119c45[_0x451360(_0x47f2d0._0x2af72e)]['includes'](_0x451360(0x229))&_0x119c45[_0x451360(_0x47f2d0._0x3a2f9e)]){xsd=Number(_0x119c45[_0x451360(_0x47f2d0._0x20917c)][_0x451360(_0x47f2d0._0x9b7329)](/#以图生草相似度/g,'')[_0x451360(_0x47f2d0._0x3a2fff)]())/0x64,_0x119c45[_0x451360(_0x47f2d0._0x156a4b)](_0x451360(0x203)+String(xsd)),console['log'](xsd);return;}if(_0x119c45[_0x451360(0x200)][_0x451360(_0x47f2d0._0x2d06f9)](_0x451360(_0x47f2d0._0x196411))&_0x119c45[_0x451360(_0x47f2d0._0x3a2f9e)]){jz=Number(_0x119c45[_0x451360(_0x47f2d0._0x2af72e)][_0x451360(0x1c6)](/#以图生草降噪/g,'')[_0x451360(_0x47f2d0._0x3a2fff)]())/0x64,_0x119c45[_0x451360(_0x47f2d0._0x156a4b)](_0x451360(_0x47f2d0._0x2ee208)+String(jz)),console[_0x451360(0x24f)](jz);return;}if(zt==0x0&&sc==0x0&&_0x119c45[_0x451360(_0x47f2d0._0x20917c)][_0x451360(0x1f9)](_0x451360(_0x47f2d0._0x504611))){if(_0x119c45[_0x451360(_0x47f2d0._0x19a591)]){_0x119c45['reply'](_0x451360(0x1f5));return;}dqpz();let _0x4a9198='';try{_0x4a9198=_0x1834d8[_0x451360(_0x47f2d0._0x279c07)](_0x451360(_0x47f2d0._0x1553e0));}catch{_0x119c45[_0x451360(_0x47f2d0._0x4474e1)](_0x451360(_0x47f2d0._0x13fa4f));return;}_0x4a9198=_0x4a9198[_0x451360(_0x47f2d0._0xf05b85)]();let _0x3608ff=_0xff769c[_0x451360(_0x47f2d0._0x4c4d45)](_0x1834d8[_0x451360(0x183)](_0x451360(_0x47f2d0._0x3e9aa1),_0x451360(_0x47f2d0._0x1d59fb)));_0x3608ff=_0x3608ff[_0x451360(_0x47f2d0._0x16028b)][0x0];try{let _0x561ba5=_0x451360(0x1ea)+_0x4a9198+_0x451360(_0x47f2d0._0x343beb)+String(_0x3608ff);res=await _0x30ef63(_0x561ba5,{'agent':isdl?await getAgent():''}),console[_0x451360(_0x47f2d0._0x9f49e5)]('访问成功了');}catch(_0x3fd228){console[_0x451360(_0x47f2d0._0x46a75b)](_0x3fd228),console[_0x451360(_0x47f2d0._0x9f49e5)](_0x451360(0x193));}res=await res[_0x451360(0x238)]();if(res['includes'](_0x451360(0x1e1))==![]){_0x119c45['reply'](_0x451360(0x1f3)),console[_0x451360(0x24f)](res);return;}console[_0x451360(_0x47f2d0._0x36eed4)]('以图生草'),id=_0x119c45['user_id'],chang=0x200,kuan=0x200,gjc2=_0x119c45['msg'][_0x451360(_0x47f2d0._0x9b7329)](/#以图生草/g,'')['trim']();_0x119c45[_0x451360(0x200)][_0x451360(0x1f9)]('以图生草长图')&&(chang=0x300,kuan=0x200,gjc2=_0x119c45[_0x451360(_0x47f2d0._0x4638f6)][_0x451360(0x1c6)](/#以图生草长图/g,'')['trim']());_0x119c45[_0x451360(_0x47f2d0._0x20917c)][_0x451360(0x1f9)](_0x451360(0x222))&&(chang=0x200,kuan=0x300,gjc2=_0x119c45[_0x451360(_0x47f2d0._0x20917c)][_0x451360(_0x47f2d0._0x38f25b)](/#以图生草宽图/g,'')[_0x451360(0x22d)]());gjc2=_0x119c45[_0x451360(0x200)]['replace'](/#以图生草/g,'')[_0x451360(0x22d)]();_0x119c45['msg'][_0x451360(0x1f9)](_0x451360(_0x47f2d0._0x37d40d))&&(chang=0x300,kuan=0x200,gjc2=_0x119c45[_0x451360(_0x47f2d0._0x23f404)][_0x451360(_0x47f2d0._0x9b7329)](/#以图生草长图/g,'')[_0x451360(0x22d)]());_0x119c45[_0x451360(0x200)][_0x451360(0x1f9)](_0x451360(0x222))&&(chang=0x200,kuan=0x300,gjc2=_0x119c45['msg'][_0x451360(_0x47f2d0._0x560590)](/#以图生草宽图/g,'')[_0x451360(_0x47f2d0._0x5ad27d)]());var _0x47b6a5=new RegExp(_0x451360(0x1f2),'g');if(_0x47b6a5[_0x451360(0x226)](gjc2)){console[_0x451360(_0x47f2d0._0x5116c7)](_0x451360(_0x47f2d0._0x3cacd6));let _0x47f5d8=_0x451360(0x20b)+gjc2,_0x4d121e=await _0x30ef63(_0x47f5d8),_0x17648f=await _0x4d121e[_0x451360(_0x47f2d0._0x2d54f8)]();_0x17648f=_0x17648f['replace'](/有道翻译查询结果/g,'')[_0x451360(_0x47f2d0._0x3a2fff)](),_0x17648f=_0x17648f[_0x451360(0x1c6)](/翻译后/g,'')['trim'](),_0x17648f=_0x17648f['replace'](/翻译前/g,'')[_0x451360(0x22d)](),_0x17648f=_0x17648f['replace'](/：/g,'')['trim'](),_0x17648f=_0x17648f[_0x451360(0x1c6)](new RegExp(gjc2,'g'),''),gjc2=_0x17648f,console[_0x451360(_0x47f2d0._0x46a75b)](gjc2);}else console[_0x451360(0x24f)](_0x451360(0x230));zt=0x1,ycqx=setTimeout(()=>{const _0x4e4c6e=_0x451360;if(zt==0x1){zt=0x0,_0x119c45[_0x4e4c6e(_0x13ee88._0x4f37fa)](_0x4e4c6e(0x199));return;}},0x7530),_0x119c45[_0x451360(_0x47f2d0._0xc258e4)]([segment['at'](id),_0x451360(_0x47f2d0._0x212522)]);return;}}if(sc==0x0&_0x119c45['isGroup']&zt==0x1&_0x119c45[_0x451360(0x18e)]!=undefined){clearTimeout(ycqx);if(_0x119c45[_0x451360(_0x47f2d0._0x2e4e99)]==id&zt==0x1){sc=0x1;let _0x123351=await imgUrlToBase64(_0x119c45[_0x451360(_0x47f2d0._0x1c84ac)][0x0][_0x451360(_0x47f2d0._0x2783c4)](/https/g,_0x451360(0x1c9))[_0x451360(_0x47f2d0._0x4f71a7)]()),_0x4b7fa0=_0x123351[_0x451360(_0x47f2d0._0x563a47)],_0x5e1589=Math[_0x451360(0x1d7)](Math[_0x451360(0x223)]()*0xb6cff090);var _0x3c650e={'init_images':['data:image/jpeg;base64,'+_0x4b7fa0],'resize_mode':0x2,'denoising_strength':0x1-xsd,'mask_blur':0x4,'inpainting_fill':0x0,'inpaint_full_res':!![],'inpaint_full_res_padding':0x0,'inpainting_mask_invert':0x0,'prompt':gjc2,'styles':['Resize\x20and\x20fill'],'seed':-0x1,'subseed':-0x1,'subseed_strength':0x0,'seed_resize_from_h':-0x1,'seed_resize_from_w':-0x1,'sampler_name':'Resize\x20and\x20fill','batch_size':0x1,'n_iter':0x1,'steps':0x32,'cfg_scale':guimo+0x2,'width':kuan,'height':chang,'restore_faces':![],'tiling':![],'negative_prompt':pc,'eta':0x0,'s_churn':0x0,'s_tmax':0x0,'s_tmin':0x0,'s_noise':0x1,'override_settings':{},'sampler_index':_0x451360(_0x47f2d0._0x3e1733),'include_init_images':![]};_0x119c45[_0x451360(_0x47f2d0._0x156a4b)](_0x451360(_0x47f2d0._0x48cdd2)),zt=0x0;try{res=await _0x30ef63(_0x451360(0x1c5),{'method':_0x451360(0x17e),'agent':isdl?await getAgent():'','body':JSON['stringify'](_0x3c650e),'headers':{'Content-Type':'application/json','User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36'}});}catch(_0x1c714c){console[_0x451360(0x24f)](_0x1c714c),console[_0x451360(_0x47f2d0._0x3db77a)](_0x451360(_0x47f2d0._0x489892)),kg=0x0;return;}let _0x917dfb=await res[_0x451360(0x20c)]();_0x917dfb=_0x917dfb[_0x451360(_0x47f2d0._0xeaadc1)],_0x119c45[_0x451360(0x1fb)](_0x451360(_0x47f2d0._0x534d56)),await _0x1834d8[_0x451360(0x1ac)](_0x451360(_0x47f2d0._0x27a21c),_0x917dfb[_0x451360(0x18c)](),_0x451360(_0x47f2d0._0x43ed8c),_0x179b4e=>{const _0x21783b=_0x451360;_0x179b4e?console[_0x21783b(0x24f)](_0x21783b(_0x383ca0._0x389b91)):console[_0x21783b(_0x383ca0._0x1c1a26)](_0x21783b(_0x383ca0._0x5e1767));}),await sleep(0x1f4),msg2=[segment['at'](_0x119c45[_0x451360(_0x47f2d0._0x2ad7dc)]),segment['image'](ml+'/resources/3.jpg')],await sleep(0x1f4),iscd=0x0,sc=0x0,id='';let _0x5de47b=await _0x119c45[_0x451360(_0x47f2d0._0x4474e1)](msg2);iscd=0x1,console[_0x451360(_0x47f2d0._0x36eed4)](_0x5de47b['message_id'],isch);if(_0x5de47b&&_0x5de47b['message_id']&&isch==0x1&&_0x119c45[_0x451360(_0x47f2d0._0x2e6d6b)]){let _0x26d641=_0x119c45[_0x451360(0x235)];setTimeout(()=>{const _0x3cbcbf=_0x451360;_0x26d641[_0x3cbcbf(0x1f4)](_0x5de47b[_0x3cbcbf(0x246)]);},timeout);}startTimeMS=new Date()[_0x451360(0x1ff)](),t=setTimeout(()=>{iscd=0x0,sc=0x0,id='';},cd);}}else{if(_0x119c45[_0x451360(0x18e)]==undefined&_0x119c45[_0x451360(_0x47f2d0._0x56db48)]!=undefined){if(_0x119c45[_0x451360(0x200)]['includes'](_0x451360(0x1e7))){if(iscd==0x1){console[_0x451360(_0x47f2d0._0x5344cf)](iscd);let _0x55c8f7=cd-(new Date()[_0x451360(0x1ff)]()-startTimeMS);_0x55c8f7=Math[_0x451360(_0x47f2d0._0x3f2e93)](_0x55c8f7/0x3e8);if(_0x55c8f7<0x0){sc=0x0,id='';return;}_0x119c45[_0x451360(_0x47f2d0._0x33efe6)]('我在cd中，还有'+String(_0x55c8f7)+_0x451360(_0x47f2d0._0x57944d));}else _0x119c45['reply'](_0x451360(0x1a3));}}}}async[_0x22950d(0x1f1)](_0x387425){const _0x1ede55={_0x317e28:0x200,_0x45b828:0x17b,_0x1bbae4:0x1fb,_0xa1c1a3:0x228,_0x4ad260:0x23a,_0x4f7f89:0x24f,_0x1312fd:0x1c6,_0x2c80b7:0x22d,_0x2cf436:0x1f9,_0x3b76b1:0x18a,_0x428abe:0x200,_0x46d467:0x1c6,_0x4b9910:0x24f,_0x16cbba:0x1ed,_0x569779:0x22d,_0x5e380e:0x240,_0x5cdfc2:0x200,_0x557e9e:0x1d0,_0x4eab0a:0x21d,_0x3f5907:0x251,_0xb25f6a:0x1d7,_0x1364f4:0x241,_0x16ee27:0x1a6,_0x13e329:0x202,_0x30c23c:0x241,_0x5e3c8d:0x232,_0x5ae9cc:0x183,_0xb31002:0x181,_0x5717d8:0x1f6,_0x4d301b:0x242,_0x5455b1:0x1ea,_0x42c1b5:0x252,_0x40e435:0x24f,_0x295c65:0x1a1,_0x3e32ec:0x238,_0x268f04:0x1f3,_0x37a422:0x19a,_0x698eed:0x17c,_0x3bb3be:0x1a8,_0x39f635:0x217,_0x1ee4ee:0x1a6,_0x3a365f:0x1c3,_0x52563f:0x1da,_0x3c0fea:0x1ec,_0x3f7fc8:0x1ff,_0x57dc25:0x1db},_0x142aa4={_0x2f3a37:0x1f4},_0x1fe195={_0x5ad29f:0x1d3,_0x39cd06:0x18c,_0x27e1cb:0x24f,_0xa048f:0x20f,_0x387ce1:0x1c2,_0x5f184a:0x227},_0x33d67e=_0x22950d;dqpz();if(_0x387425[_0x33d67e(0x200)][_0x33d67e(0x1f9)]('#土块画图预设')&!_0x387425[_0x33d67e(0x18a)]){_0x387425['reply']('你不是主人，不能用预设哦');return;}let _0x52a4fd,_0x30c99f,_0x1d9ae2;_0x387425[_0x33d67e(_0x1ede55._0x317e28)][_0x33d67e(0x1f9)](_0x33d67e(_0x1ede55._0x45b828))==![]&&(_0x1d9ae2=_0x387425[_0x33d67e(_0x1ede55._0x317e28)]['replace'](/#绘个图/g,'')[_0x33d67e(0x22d)]());if(kg2==0x0&_0x387425[_0x33d67e(0x216)]|_0x387425['isMaster']){kg2==0x1&&_0x387425[_0x33d67e(_0x1ede55._0x1bbae4)](_0x33d67e(_0x1ede55._0xa1c1a3));if(zr==0x1&!_0x387425['isMaster']){_0x387425['reply'](_0x33d67e(_0x1ede55._0x4ad260));return;}kg2=0x1;let _0x102cdb=_0x1d9ae2;var _0x349d32=new RegExp(_0x33d67e(0x1f2),'g');if(_0x349d32['test'](_0x102cdb)&_0x387425[_0x33d67e(0x200)]['includes']('序号')==![]){console[_0x33d67e(_0x1ede55._0x4f7f89)]('包含中文');let _0x363270='https://api.sdgou.cc/api/fanyi/?msg='+_0x102cdb,_0x5ece9d=await _0x30ef63(_0x363270),_0x2a6f6e=await _0x5ece9d[_0x33d67e(0x238)]();_0x2a6f6e=_0x2a6f6e[_0x33d67e(_0x1ede55._0x1312fd)](/有道翻译查询结果/g,'')[_0x33d67e(0x22d)](),_0x2a6f6e=_0x2a6f6e[_0x33d67e(_0x1ede55._0x1312fd)](/翻译后/g,'')[_0x33d67e(0x22d)](),_0x2a6f6e=_0x2a6f6e[_0x33d67e(0x1c6)](/翻译前/g,'')[_0x33d67e(_0x1ede55._0x2c80b7)](),_0x2a6f6e=_0x2a6f6e['replace'](/：/g,'')[_0x33d67e(0x22d)](),_0x2a6f6e=_0x2a6f6e['replace'](new RegExp(_0x102cdb,'g'),''),res4=_0x2a6f6e,console[_0x33d67e(_0x1ede55._0x4f7f89)](res4);}else console['log']('是英文'),res4=_0x102cdb;let _0x4553ac,_0x45f253;if(_0x387425[_0x33d67e(0x200)][_0x33d67e(_0x1ede55._0x2cf436)](_0x33d67e(0x17b))&_0x387425[_0x33d67e(_0x1ede55._0x3b76b1)]){_0x30c99f=_0x387425[_0x33d67e(_0x1ede55._0x428abe)][_0x33d67e(_0x1ede55._0x46d467)](/#土块画图预设/g,'')[_0x33d67e(_0x1ede55._0x2c80b7)]();let _0x1f6bb5=ml+_0x33d67e(0x1a4);await _0x1834d8[_0x33d67e(0x245)](_0x1f6bb5,(_0x39b37e,_0xdcfb93)=>{const _0x17a8f0=_0x33d67e;_0x52a4fd=JSON[_0x17a8f0(_0x1fe195._0x5ad29f)](_0xdcfb93[_0x17a8f0(_0x1fe195._0x39cd06)]()),_0x45f253=_0x52a4fd['shuju'];var _0x1c663c=new RegExp('[\x5cu4E00-\x5cu9FFF]+','g');if(_0x1c663c[_0x17a8f0(0x226)](_0x30c99f))console[_0x17a8f0(_0x1fe195._0x27e1cb)](_0x17a8f0(_0x1fe195._0xa048f)),_0x4553ac=_0x45f253[_0x17a8f0(_0x1fe195._0x387ce1)](_0x99d19=>_0x99d19['name']==_0x30c99f);else{_0x4553ac=Number(_0x30c99f)-0x1;if(_0x4553ac>_0x45f253[_0x17a8f0(_0x1fe195._0x5f184a)]){_0x4553ac=-0x1;return;}}}),await sleep(0x1f4),console[_0x33d67e(_0x1ede55._0x4b9910)](_0x4553ac);if(_0x4553ac!=-0x1)res4=_0x45f253[_0x4553ac][_0x33d67e(_0x1ede55._0x16cbba)];else{_0x387425['reply']('没有这个预设哦');return;}}if(_0x387425[_0x33d67e(0x200)][_0x33d67e(0x1f9)]('序号')){res4=res4[_0x33d67e(0x1c6)](/序号/g,'')[_0x33d67e(_0x1ede55._0x569779)]();let _0x1701f7=_0x33d67e(0x1b5),_0x566345=await _0x30ef63(_0x1701f7,{'agent':isdl?await getAgent():''}),_0x12c69a=await _0x566345[_0x33d67e(0x20c)](),_0x575eee=_0x12c69a[_0x33d67e(_0x1ede55._0x5e380e)],_0x3490be=_0x387425[_0x33d67e(_0x1ede55._0x5cdfc2)][_0x33d67e(_0x1ede55._0x557e9e)](0x6,0x9);const _0x5a3495=/\d+/;let _0x244895=_0x3490be['match'](_0x5a3495),_0x1c142f=_0x244895[0x0];res4=res4[_0x33d67e(_0x1ede55._0x1312fd)](new RegExp(_0x1c142f,'g'),''),_0x244895=Number(_0x244895[0x0]);try{res4=_0x575eee[_0x244895+0x1]['pt']+res4,console['log'](res4);}catch{_0x387425['reply'](_0x33d67e(_0x1ede55._0x4eab0a));return;w;}}await sleep(0x1f4),_0x387425[_0x33d67e(_0x1ede55._0x1bbae4)](_0x33d67e(_0x1ede55._0x3f5907));let _0x362361=Math[_0x33d67e(_0x1ede55._0xb25f6a)](Math[_0x33d67e(0x223)]()*0x2);_0x362361==0x0&&(changdu=0x200,kuandu=0x300);_0x362361==0x1&&(changdu=0x300,kuandu=0x200);console['log'](_0x362361);var _0x2533f0='abc',_0x2de179=[res4,pc,_0x33d67e(_0x1ede55._0x1364f4),_0x33d67e(0x241),0x14,_0x33d67e(_0x1ede55._0x16ee27),![],![],0x1,0x1,0x7,-0x1,-0x1,0x0,0x0,0x0,![],changdu,kuandu,![],![],0.7,'None',![],![],null,'','Seed','',_0x33d67e(_0x1ede55._0x13e329),'',!![],![],null,'',''],_0x23411b=[res4,pc,'None',_0x33d67e(_0x1ede55._0x30c23c),0x1c,_0x33d67e(0x1a6),![],![],0x1,0x1,0xb,-0x1,-0x1,0x0,0x0,0x0,![],0x200,0x200,![],![],0.7,_0x33d67e(_0x1ede55._0x1364f4),![],![],null,'','Seed','',_0x33d67e(0x202),'',!![],![],null,'',''];let _0x2d3768=_0x33d67e(0x213),_0x1a4f7d=Math[_0x33d67e(_0x1ede55._0xb25f6a)](Math[_0x33d67e(0x223)]()*0xb6cff090),_0x3dcc38=_0x33d67e(_0x1ede55._0x5e3c8d)+moxing+'\x20\x20\x20|规模:'+guimo['toString']()+_0x33d67e(0x198)+bushu[_0x33d67e(0x18c)]()+_0x33d67e(0x19e)+_0x1a4f7d[_0x33d67e(0x18c)](),_0x5aaf38='';try{_0x5aaf38=_0x1834d8[_0x33d67e(_0x1ede55._0x5ae9cc)](_0x33d67e(0x195));}catch{_0x387425[_0x33d67e(_0x1ede55._0x1bbae4)](_0x33d67e(_0x1ede55._0xb31002));return;}_0x5aaf38=_0x5aaf38[_0x33d67e(0x18c)]();let _0x2bf54c=_0xff769c[_0x33d67e(0x1d3)](_0x1834d8['readFileSync'](_0x33d67e(_0x1ede55._0x5717d8),_0x33d67e(0x189)));_0x2bf54c=_0x2bf54c[_0x33d67e(_0x1ede55._0x4d301b)][0x0];try{let _0x4bfd6e=_0x33d67e(_0x1ede55._0x5455b1)+_0x5aaf38+_0x33d67e(_0x1ede55._0x42c1b5)+String(_0x2bf54c);res=await _0x30ef63(_0x4bfd6e,{'agent':isdl?await getAgent():''}),console[_0x33d67e(_0x1ede55._0x40e435)](_0x33d67e(_0x1ede55._0x295c65));}catch(_0x5388fd){console['log'](_0x5388fd),console[_0x33d67e(_0x1ede55._0x4f7f89)]('没有访问成功');}res=await res[_0x33d67e(_0x1ede55._0x3e32ec)]();if(res['includes']('可以访问')==![]){_0x387425['reply'](_0x33d67e(_0x1ede55._0x268f04)),console['log'](res);return;}let _0xa7735a=await _0x30ef63(_0x33d67e(_0x1ede55._0x37a422),{'method':_0x33d67e(_0x1ede55._0x698eed),'agent':isdl?await getAgent():'','headers':{'Content-Type':_0x33d67e(_0x1ede55._0x3bb3be),'authorization':_0x33d67e(_0x1ede55._0x39f635)},'body':JSON[_0x33d67e(0x1f7)]({'prompt':'masterpiece,\x20best\x20quality,'+res4,'width':kuandu,'height':changdu,'cfg_scale':guimo+0x2,'sampler':_0x33d67e(_0x1ede55._0x1ee4ee),'steps':0x17,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0xa7735a[_0x33d67e(0x20c)](),_0x387425['reply']('成功了！'),res=res4[_0x33d67e(_0x1ede55._0x3a365f)][0x0],await _0x1834d8[_0x33d67e(0x1ac)](_0x33d67e(0x1ec),res[_0x33d67e(0x18c)](),_0x33d67e(_0x1ede55._0x52563f),_0x3077b7=>{const _0xe5d2f9=_0x33d67e;if(_0x3077b7)console['log'](_0xe5d2f9(0x186));else{}});iscanshu==0x0&&(_0x3dcc38='');await sleep(0x1f4),msg2=[segment['image'](_0x33d67e(_0x1ede55._0x3c0fea)),_0x3dcc38];let _0x102b4c=await _0x387425[_0x33d67e(_0x1ede55._0x1bbae4)](msg2,ishuifu);iscd=0x1,console[_0x33d67e(0x24f)](_0x102b4c[_0x33d67e(0x246)],isch);if(_0x102b4c&&_0x102b4c['message_id']&&isch==0x1&&_0x387425[_0x33d67e(0x216)]){let _0x154297=_0x387425['group'];setTimeout(()=>{const _0x5cedf8=_0x33d67e;_0x154297[_0x5cedf8(_0x142aa4._0x2f3a37)](_0x102b4c[_0x5cedf8(0x246)]);},timeout);}startTimeMS=new Date()[_0x33d67e(0x1ff)](),t=setTimeout(()=>{kg2=0x0,iscd=0x0;},cd);}else{if(iscd==0x1){let _0x225e3e=cd-(new Date()[_0x33d67e(_0x1ede55._0x3f7fc8)]()-startTimeMS);_0x225e3e=Math[_0x33d67e(0x190)](_0x225e3e/0x3e8);if(_0x225e3e<0x0){kg2=0x0;return;}_0x387425[_0x33d67e(0x1fb)](_0x33d67e(_0x1ede55._0x57dc25)+String(_0x225e3e)+'秒可画');}else _0x387425[_0x33d67e(_0x1ede55._0x1bbae4)](_0x33d67e(0x180));}}}async function imgUrlToBase64(_0x5907cc){const _0x22918c={_0x1702e4:0x1b1};let _0x440fc3;return new Promise(function(_0xe0a59e,_0x1d919b){const _0x157012={_0x48f6bf:0x1b1},_0x1250b4=_0x1d2c;let _0x5b98db=http[_0x1250b4(0x1fa)](_0x5907cc,function(_0x5f58b3){const _0x52bad2={_0x45de21:0x1ca},_0x501ee9={_0x483ee5:0x227},_0x2334d5=_0x1250b4;var _0x46207e=[],_0x11b4e3=0x0;_0x5f58b3['on'](_0x2334d5(0x1c1),function(_0x9858d6){const _0x59dff8=_0x2334d5;_0x46207e[_0x59dff8(0x1e0)](_0x9858d6),_0x11b4e3+=_0x9858d6[_0x59dff8(_0x501ee9._0x483ee5)];}),_0x5f58b3['on'](_0x2334d5(_0x157012._0x48f6bf),function(_0x5ea2ef){const _0x4c4fc3=_0x2334d5;var _0x4eecaa=Buffer[_0x4c4fc3(_0x52bad2._0x45de21)](_0x46207e,_0x11b4e3);_0x440fc3=_0x4eecaa[_0x4c4fc3(0x18c)](_0x4c4fc3(0x1da)),_0xe0a59e({'success':!![],'base64Img':_0x440fc3});});});_0x5b98db['on'](_0x1250b4(0x1bf),_0x3f2f93=>{_0xe0a59e({'success':![],'errmsg':_0x3f2f93['message']});}),_0x5b98db[_0x1250b4(_0x22918c._0x1702e4)]();});}function sleep(_0x32262d){return new Promise(_0x1d0ddd=>setTimeout(_0x1d0ddd,_0x32262d));}async function dqpz(){const _0x16c92d={_0x2120a1:0x245},_0x28fc03={_0x3d76a1:0x18c},_0x376161=_0x22950d;Path=ml+_0x376161(0x188),await _0x1834d8[_0x376161(_0x16c92d._0x2120a1)](Path,(_0x45ed57,_0x4ac298)=>{const _0x2eea8a=_0x376161;nr=_0x4ac298[_0x2eea8a(_0x28fc03._0x3d76a1)](),nr=nr['split'](','),cd=nr[0x0],timeout=nr[0x1],isch=nr[0x2],iscd=nr[0x3],console['log'](cd,timeout,isch,iscd);}),await sleep(0x1f4);}async function getAgent(){const _0x32099c={_0x1d3d06:0x20a,_0x937258:0x1f0},_0x3a4e39={_0x2e5592:0x1bf},_0x585563=_0x22950d;let _0x5425b6=_0x3a06d2[_0x585563(0x1d2)][_0x585563(0x18d)];if(!_0x5425b6)return null;if(_0x5425b6===_0x585563(0x20d))return null;HttpsProxyAgent===''&&(HttpsProxyAgent=await import(_0x585563(_0x32099c._0x1d3d06))[_0x585563(_0x32099c._0x937258)](_0x31d599=>{const _0x5cd220=_0x585563;logger[_0x5cd220(_0x3a4e39._0x2e5592)](_0x31d599);}),HttpsProxyAgent=HttpsProxyAgent?HttpsProxyAgent[_0x585563(0x18b)]:undefined);if(HttpsProxyAgent)return new HttpsProxyAgent(_0x5425b6);return null;}
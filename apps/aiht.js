const _0x37b3d5=_0x26a6;(function(_0x17637e,_0x55edba){const _0x55b06e={_0x1a75f8:0x190,_0x39ddb3:0x186,_0x7ebc1:0x1d1,_0x4b87a4:0x1d2},_0xbd6db0=_0x26a6,_0x1a38d0=_0x17637e();while(!![]){try{const _0x1d7da6=-parseInt(_0xbd6db0(_0x55b06e._0x1a75f8))/0x1*(parseInt(_0xbd6db0(0x19b))/0x2)+-parseInt(_0xbd6db0(0x224))/0x3+-parseInt(_0xbd6db0(0x17d))/0x4+parseInt(_0xbd6db0(0x1d0))/0x5+-parseInt(_0xbd6db0(_0x55b06e._0x39ddb3))/0x6+parseInt(_0xbd6db0(_0x55b06e._0x7ebc1))/0x7*(-parseInt(_0xbd6db0(0x1da))/0x8)+parseInt(_0xbd6db0(0x17f))/0x9*(parseInt(_0xbd6db0(_0x55b06e._0x4b87a4))/0xa);if(_0x1d7da6===_0x55edba)break;else _0x1a38d0['push'](_0x1a38d0['shift']());}catch(_0x1f47e9){_0x1a38d0['push'](_0x1a38d0['shift']());}}}(_0x2cef,0xb26b4));import{segment}from'oicq';import _0x35c8ae from'node-fetch';import _0x36773a,{chownSync}from'fs';function _0x26a6(_0x461d1c,_0x227905){const _0x2cef6c=_0x2cef();return _0x26a6=function(_0x26a6d9,_0x37b783){_0x26a6d9=_0x26a6d9-0x15c;let _0x2fe7f3=_0x2cef6c[_0x26a6d9];return _0x2fe7f3;},_0x26a6(_0x461d1c,_0x227905);}import _0x25c376 from'../../../lib/config/config.js';import _0xd6508b from'../../../lib/puppeteer/puppeteer.js';let data1={};import{createRequire}from'module';import _0x3bff8b from'yaml';const require=createRequire(import.meta['url']);let ysct,mf,mfkg=0x0,ml=process[_0x37b3d5(0x16f)]();var http=require(_0x37b3d5(0x1e0));import _0x454df0 from'lodash';let yushekg=0x0,kg=0x0,guimo=5.5,kg2=0x0,mfid='',res4,htm='',htm2='',res5,res,zr=0x0,changdu=0x200,kuandu=0x200,msg2,timeout=0x7530,isch=0x1,cd=0x0,t,startTimeMS,iscd=0x0,my,dz,sj1,sj2,shuju,zt=0x0,gjc2,sc=0x0,bushu=0x1c,id='',xsd=0.5,nr,ycqx,jz=0.2,ss=_0x37b3d5(0x221),Path,ys=[],moxing=_0x37b3d5(0x1eb),isdl=0x0,iscanshu=0x1,ishuifu=!![],HttpsProxyAgent='',chang,kuan,pc=_0x37b3d5(0x1c1);export class aiht extends plugin{constructor(){const _0x56772b={_0x1943ee:0x1e7,_0x21ce91:0x160,_0x58dbd3:0x18f,_0x2a7f70:0x184,_0x2d8f94:0x20e,_0x3c42e1:0x1b5,_0x285c1f:0x1cd,_0xdebfa0:0x16d,_0x2bb4cc:0x1c2,_0x20747e:0x17b},_0x3798f0=_0x37b3d5;super({'name':_0x3798f0(0x1e7),'dsc':_0x3798f0(_0x56772b._0x1943ee),'event':'message','priority':0x479,'rule':[{'reg':_0x3798f0(_0x56772b._0x21ce91),'fnc':_0x3798f0(0x213)},{'reg':_0x3798f0(0x19c),'fnc':_0x3798f0(_0x56772b._0x58dbd3)},{'reg':_0x3798f0(_0x56772b._0x2a7f70),'fnc':'pbc'},{'reg':_0x3798f0(_0x56772b._0x2d8f94),'fnc':'huatu3','log':![]},{'reg':'^#查看所有预设$|#新增预设(.*)|(.*)','fnc':'ysgn','log':![]},{'reg':_0x3798f0(0x23a),'fnc':_0x3798f0(0x1d3)},{'reg':_0x3798f0(_0x56772b._0x3c42e1),'fnc':_0x3798f0(0x176)},{'reg':_0x3798f0(0x1d8),'fnc':_0x3798f0(_0x56772b._0x285c1f)},{'reg':'^#开启代理|^#关闭代理|^#开启参数显示|^#关闭参数显示|^#开启词条回复|^#关闭词条回复','fnc':'kqdl'},{'reg':_0x3798f0(_0x56772b._0xdebfa0),'fnc':_0x3798f0(_0x56772b._0x2bb4cc)},{'reg':_0x3798f0(_0x56772b._0x20747e),'fnc':_0x3798f0(0x1b6)}]});}async[_0x37b3d5(0x1b6)](_0x3c8f6c){const _0x1a8e3c={_0x561abc:0x227,_0x59a3e7:0x1e3},_0x3c6d2c=_0x37b3d5;let _0x3f8157=_0x3c6d2c(_0x1a8e3c._0x561abc),_0x2519f5=await _0x35c8ae(_0x3f8157),_0x1540ba=await _0x2519f5[_0x3c6d2c(0x1b7)](),_0x3b41b9=_0x1540ba[_0x3c6d2c(0x19f)];data1={'tplFile':_0x3c6d2c(0x195),'dz':ml,'lb':_0x3b41b9};let _0x5574ba=await _0xd6508b['screenshot']('123',{...data1});_0x3c8f6c[_0x3c6d2c(_0x1a8e3c._0x59a3e7)](_0x5574ba);}async[_0x37b3d5(0x1c2)](_0x3c7a7e){const _0x730bc1={_0x44e2e2:0x23e,_0x4918fd:0x1d5,_0x4669c0:0x1ad,_0x16e7de:0x1dd,_0x17d191:0x172,_0x4257e9:0x217,_0x6acdfb:0x1e3,_0x13caf9:0x1e5,_0x387af2:0x1c6,_0x593334:0x1d9,_0x14686a:0x219,_0x4f9c57:0x172,_0x99adb9:0x1fa,_0x43c315:0x1ff,_0x12ced8:0x15d},_0x475af6={_0x37df09:0x166,_0x1c350c:0x177},_0x2f54ca=_0x37b3d5;if(_0x3c7a7e[_0x2f54ca(0x170)]){let _0x3af985=_0x3bff8b[_0x2f54ca(_0x730bc1._0x44e2e2)](_0x36773a[_0x2f54ca(0x1f0)](_0x2f54ca(0x1b4),'utf8'));_0x3af985=_0x3af985['masterQQ'][0x0],console[_0x2f54ca(0x166)](_0x3af985);let _0x4fc62f=_0x3c7a7e[_0x2f54ca(_0x730bc1._0x4918fd)][_0x2f54ca(_0x730bc1._0x4669c0)](/#填写密钥/g,'')[_0x2f54ca(0x1a8)](),_0x10061e=_0x2f54ca(_0x730bc1._0x16e7de)+_0x4fc62f+'&qq='+String(_0x3c7a7e[_0x2f54ca(_0x730bc1._0x17d191)]),_0x396fb6=await _0x35c8ae(_0x10061e,{'agent':isdl?await getAgent():''}),_0x4cd139=await _0x396fb6[_0x2f54ca(0x1f7)]();if(_0x4cd139[_0x2f54ca(0x161)](_0x2f54ca(_0x730bc1._0x4257e9))){_0x3c7a7e[_0x2f54ca(_0x730bc1._0x6acdfb)](_0x2f54ca(0x20a));return;}if(_0x4cd139[_0x2f54ca(0x161)](_0x2f54ca(_0x730bc1._0x13caf9))){_0x3c7a7e['reply'](_0x2f54ca(_0x730bc1._0x387af2)),await _0x36773a['writeFile'](_0x2f54ca(0x1fa),_0x4fc62f[_0x2f54ca(0x210)](),'utf-8',_0x4205ec=>{const _0x4a8839=_0x2f54ca;if(_0x4205ec)console['log'](_0x4a8839(0x177));else{}});return;}_0x4cd139['includes'](_0x2f54ca(_0x730bc1._0x593334))&&(_0x3c7a7e[_0x2f54ca(0x1e3)](_0x2f54ca(_0x730bc1._0x14686a)+String(_0x3c7a7e[_0x2f54ca(_0x730bc1._0x4f9c57)])),await _0x36773a[_0x2f54ca(0x1b1)](_0x2f54ca(_0x730bc1._0x99adb9),_0x4fc62f['toString'](),_0x2f54ca(0x1ae),_0xce7707=>{const _0x2f27ae=_0x2f54ca;if(_0xce7707)console[_0x2f27ae(_0x475af6._0x37df09)](_0x2f27ae(_0x475af6._0x1c350c));else{}})),_0x4cd139['includes'](_0x2f54ca(_0x730bc1._0x43c315))&&_0x3c7a7e[_0x2f54ca(_0x730bc1._0x6acdfb)](_0x2f54ca(_0x730bc1._0x12ced8));}}async['kqdl'](_0x233d17){const _0x1ae11a={_0x4b93d7:0x1d5,_0x21bbf1:0x1e3,_0x1f4996:0x1ab,_0x2f27f2:0x170,_0x47b8f8:0x170,_0x49164e:0x1e3,_0x43a247:0x187,_0x38060f:0x1cb,_0x5910a5:0x214,_0x8425c5:0x1c7},_0x497b9b=_0x37b3d5;_0x233d17[_0x497b9b(_0x1ae11a._0x4b93d7)]=='#开启代理'&_0x233d17['isMaster']&&(isdl=0x1,_0x233d17[_0x497b9b(_0x1ae11a._0x21bbf1)]('开启代理成功')),_0x233d17['msg']==_0x497b9b(_0x1ae11a._0x1f4996)&_0x233d17[_0x497b9b(_0x1ae11a._0x2f27f2)]&&(isdl=0x0,_0x233d17['reply'](_0x497b9b(0x19a))),_0x233d17[_0x497b9b(_0x1ae11a._0x4b93d7)]==_0x497b9b(0x1fd)&_0x233d17[_0x497b9b(_0x1ae11a._0x47b8f8)]&&(iscanshu=0x1,_0x233d17[_0x497b9b(_0x1ae11a._0x49164e)](_0x497b9b(_0x1ae11a._0x43a247))),_0x233d17[_0x497b9b(0x1d5)]==_0x497b9b(_0x1ae11a._0x38060f)&_0x233d17[_0x497b9b(_0x1ae11a._0x47b8f8)]&&(iscanshu=0x0,_0x233d17['reply'](_0x497b9b(0x238))),_0x233d17[_0x497b9b(0x1d5)]=='#开启词条回复'&_0x233d17[_0x497b9b(_0x1ae11a._0x2f27f2)]&&(ishuifu=!![],_0x233d17[_0x497b9b(_0x1ae11a._0x49164e)](_0x497b9b(_0x1ae11a._0x5910a5))),_0x233d17['msg']==_0x497b9b(0x20b)&_0x233d17[_0x497b9b(0x170)]&&(ishuifu=![],_0x233d17[_0x497b9b(_0x1ae11a._0x49164e)](_0x497b9b(_0x1ae11a._0x8425c5)));}async[_0x37b3d5(0x1cd)](_0x3b9420){const _0x498d38={_0x47e93b:0x1d5,_0xe3f0d0:0x1a7,_0x55f406:0x166,_0xba6902:0x1f3,_0x339646:0x1bb,_0xc1abe8:0x21c,_0x62d8c9:0x210,_0x289261:0x1d5,_0x1662d7:0x1ad,_0x1d50fb:0x1e3},_0x23fb96=_0x37b3d5;if(_0x3b9420[_0x23fb96(_0x498d38._0x47e93b)]==_0x23fb96(_0x498d38._0xe3f0d0)){console[_0x23fb96(_0x498d38._0x55f406)](guimo);let _0x555bf9=[_0x23fb96(_0x498d38._0xba6902),moxing,_0x23fb96(_0x498d38._0x339646),guimo[_0x23fb96(0x210)](),'\x0a步数：',bushu[_0x23fb96(0x210)](),_0x23fb96(_0x498d38._0xc1abe8),xsd['toString'](),_0x23fb96(0x207),jz[_0x23fb96(_0x498d38._0x62d8c9)]()];_0x3b9420[_0x23fb96(0x1e3)](_0x555bf9);return;}bushu=_0x3b9420[_0x23fb96(_0x498d38._0x289261)][_0x23fb96(_0x498d38._0x1662d7)](/#土块画图步数/g,'')['trim'](),bushu=Number(bushu);if(bushu<0x0|bushu>0x1c){bushu=0x1c,_0x3b9420['reply'](_0x23fb96(0x189));return;}else _0x3b9420[_0x23fb96(_0x498d38._0x1d50fb)](_0x23fb96(0x21e)+String(bushu));}async[_0x37b3d5(0x176)](_0x2e1e6b){const _0x424ab7={_0x549866:0x1d5,_0xc87275:0x239,_0x3251e7:0x1ad,_0x5f07ec:0x1e3,_0x1bf31a:0x1fb,_0x14299d:0x1f8,_0x5bb865:0x1e3,_0x114a12:0x235,_0x517227:0x22f,_0x3881bb:0x1ec,_0x155ade:0x1e3,_0x421714:0x216,_0x5545d8:0x1e3},_0x47a32a=_0x37b3d5;if(_0x2e1e6b[_0x47a32a(_0x424ab7._0x549866)]==_0x47a32a(_0x424ab7._0xc87275)){let _0x26cec0=[_0x47a32a(0x178)];_0x2e1e6b[_0x47a32a(0x1e3)](_0x26cec0);return;}moxing=_0x2e1e6b[_0x47a32a(0x1d5)][_0x47a32a(_0x424ab7._0x3251e7)](/#土块画图采样/g,'')['trim'](),moxing=Number(moxing);if(moxing<0x0|moxing>0x8){_0x2e1e6b[_0x47a32a(0x1e3)](_0x47a32a(0x1bc)),moxing=0x2;return;}moxing==0x1&&(moxing=_0x47a32a(0x1eb),_0x2e1e6b[_0x47a32a(_0x424ab7._0x5f07ec)](_0x47a32a(0x171))),moxing==0x2&&(moxing=_0x47a32a(_0x424ab7._0x1bf31a),_0x2e1e6b[_0x47a32a(0x1e3)](_0x47a32a(0x1f4))),moxing==0x3&&(moxing='Heun',_0x2e1e6b['reply'](_0x47a32a(0x236))),moxing==0x4&&(moxing=_0x47a32a(0x164),_0x2e1e6b['reply'](_0x47a32a(0x1c8))),moxing==0x5&&(moxing=_0x47a32a(_0x424ab7._0x14299d),_0x2e1e6b[_0x47a32a(_0x424ab7._0x5bb865)]('采样已设置为DPM++\x202M')),moxing==0x6&&(moxing=_0x47a32a(_0x424ab7._0x114a12),_0x2e1e6b[_0x47a32a(0x1e3)](_0x47a32a(_0x424ab7._0x517227))),moxing==0x7&&(moxing=_0x47a32a(_0x424ab7._0x3881bb),_0x2e1e6b[_0x47a32a(_0x424ab7._0x155ade)](_0x47a32a(_0x424ab7._0x421714))),moxing==0x8&&(moxing=_0x47a32a(0x15e),_0x2e1e6b[_0x47a32a(_0x424ab7._0x5545d8)](_0x47a32a(0x225)));}async['szgm'](_0x41d1f0){const _0x56fc9b=_0x37b3d5;guimo=_0x41d1f0[_0x56fc9b(0x1d5)]['replace'](/#土块画图规模/g,'')[_0x56fc9b(0x1a8)](),guimo=Number(guimo);if(guimo<0x3|guimo>0xc){_0x41d1f0[_0x56fc9b(0x1e3)]('规模不在合理范围内，3-12为合理范围'),guimo=5.5;return;}else _0x41d1f0[_0x56fc9b(0x1e3)](_0x56fc9b(0x230)+String(guimo));}async[_0x37b3d5(0x1d6)](_0x1b4bc9){const _0x546fac={_0x2d3284:0x1d5,_0x38eb49:0x161,_0x3952c9:0x161,_0xebd57c:0x161,_0x5abf6c:0x161,_0x584a86:0x1a8,_0x39114d:0x1ea,_0x4fb74c:0x1f6,_0x404622:0x1d5,_0x351ca6:0x1de,_0x3291f9:0x170,_0xb99f60:0x197,_0x419a97:0x1d5,_0x50c188:0x1ad,_0x919a4d:0x191,_0x19cf15:0x18b,_0x3d1a67:0x194,_0x2030b0:0x1b1,_0x454716:0x162,_0x36ccad:0x170,_0x6f6e16:0x1d5,_0x3d1d27:0x1b1},_0x4e1f84={_0x7e543d:0x166,_0x4ddc90:0x1e3},_0x3b8a6d={_0x14821a:0x1d4},_0x4aabf7={_0x5609fa:0x191,_0x567558:0x18b,_0x288aac:0x19f,_0x4c69b7:0x18d},_0x3b7170=_0x37b3d5;if(_0x1b4bc9['img']!=undefined)return![];if(yushekg==0x0&_0x1b4bc9[_0x3b7170(_0x546fac._0x2d3284)][_0x3b7170(_0x546fac._0x38eb49)]('#查看预设')==![]&_0x1b4bc9[_0x3b7170(0x1d5)][_0x3b7170(_0x546fac._0x38eb49)](_0x3b7170(0x162))==![]&_0x1b4bc9[_0x3b7170(0x1d5)][_0x3b7170(_0x546fac._0x3952c9)]('#删除预设')==![]&_0x1b4bc9['msg'][_0x3b7170(_0x546fac._0xebd57c)]('#查看预设词条')==![])return![];let _0x3f8a88=ml+_0x3b7170(0x1f2),_0x5b087c='';await _0x36773a['readFile'](_0x3f8a88,(_0x51ab29,_0x41d310)=>{const _0xcabb7e=_0x3b7170;if(_0x51ab29)throw _0x51ab29;var _0x4a46b8=_0x41d310['toString']()!=''?JSON[_0xcabb7e(0x23e)](_0x41d310['toString']()):[];ysct='',_0x5b087c='',shuju=_0x4a46b8;for(let _0x1de63b=0x0;_0x1de63b<shuju[_0xcabb7e(0x18b)][_0xcabb7e(_0x4aabf7._0x5609fa)];_0x1de63b++){_0x5b087c=_0x5b087c+shuju[_0xcabb7e(_0x4aabf7._0x567558)][_0x1de63b][_0xcabb7e(_0x4aabf7._0x288aac)]+',',ysct=ysct+shuju[_0xcabb7e(0x18b)][_0x1de63b][_0xcabb7e(_0x4aabf7._0x4c69b7)]+'++';}}),await sleep(0x1f4);if(_0x1b4bc9[_0x3b7170(0x1d5)][_0x3b7170(_0x546fac._0x5abf6c)](_0x3b7170(0x215))&_0x1b4bc9[_0x3b7170(0x170)]){let _0x542fc6=_0x1b4bc9[_0x3b7170(0x1d5)]['replace'](/#查看预设词条/g,'')[_0x3b7170(_0x546fac._0x584a86)]();_0x542fc6=Number(_0x542fc6),ysct=ysct[_0x3b7170(_0x546fac._0x39114d)]('++'),_0x5b087c=_0x5b087c['split'](',');if(_0x542fc6>ysct['length']|_0x542fc6<0x0){_0x1b4bc9['reply'](_0x3b7170(_0x546fac._0x4fb74c));return;}_0x1b4bc9[_0x3b7170(0x1e3)]([_0x5b087c[_0x542fc6-0x1],':',ysct[_0x542fc6-0x1]]),ysct='',_0x5b087c='';}if(_0x1b4bc9[_0x3b7170(_0x546fac._0x404622)]==_0x3b7170(_0x546fac._0x351ca6)&_0x1b4bc9[_0x3b7170(_0x546fac._0x3291f9)]){_0x5b087c=_0x5b087c[_0x3b7170(_0x546fac._0x39114d)](','),data1={'tplFile':_0x3b7170(0x226),'dz':ml,'lb':_0x5b087c,'qsid':0x0};let _0x3452f3=await _0xd6508b[_0x3b7170(0x1a1)](_0x3b7170(_0x546fac._0xb99f60),{...data1});_0x1b4bc9[_0x3b7170(0x1e3)](_0x3452f3);return;_0x1b4bc9['reply'](_0x3b7170(0x1ba)+_0x5b087c);}if(_0x1b4bc9[_0x3b7170(_0x546fac._0x419a97)][_0x3b7170(0x161)](_0x3b7170(0x192))&_0x1b4bc9['isMaster']){let _0x585af=_0x1b4bc9[_0x3b7170(_0x546fac._0x2d3284)][_0x3b7170(_0x546fac._0x50c188)](/#删除预设/g,'')['trim']();_0x585af=Number(_0x585af);if(_0x585af<shuju['shuju'][_0x3b7170(_0x546fac._0x919a4d)]+0x1){shuju[_0x3b7170(_0x546fac._0x19cf15)][_0x3b7170(_0x546fac._0x3d1a67)](_0x585af-0x1,0x1);var _0x3aea8e=JSON[_0x3b7170(0x1e6)](shuju);}_0x36773a[_0x3b7170(_0x546fac._0x2030b0)](_0x3f8a88,_0x3aea8e,function(_0x3e3824){const _0x9d843c=_0x3b7170;_0x3e3824&&console[_0x9d843c(_0x3b8a6d._0x14821a)](_0x3e3824),_0x1b4bc9['reply']('删除预设成功');});}if(_0x1b4bc9[_0x3b7170(0x1d5)][_0x3b7170(0x161)](_0x3b7170(_0x546fac._0x454716))&_0x1b4bc9[_0x3b7170(0x170)]&yushekg==0x0){yushekg=0x1,ys[0x0]=_0x1b4bc9['msg'][_0x3b7170(_0x546fac._0x50c188)](/#新增预设/g,'')[_0x3b7170(0x1a8)](),_0x1b4bc9[_0x3b7170(0x1e3)](_0x3b7170(0x21f));return;}if(yushekg==0x1&_0x1b4bc9[_0x3b7170(_0x546fac._0x36ccad)]){yushekg=0x0,ys[0x1]=_0x1b4bc9[_0x3b7170(_0x546fac._0x6f6e16)];let _0x12240c={'name':ys[0x0],'gjc':ys[0x1]};shuju[_0x3b7170(_0x546fac._0x19cf15)][_0x3b7170(0x1e2)](_0x12240c),console[_0x3b7170(0x166)](shuju);var _0x3aea8e=JSON[_0x3b7170(0x1e6)](shuju);_0x36773a[_0x3b7170(_0x546fac._0x3d1d27)](_0x3f8a88,_0x3aea8e,_0x3302d4=>{const _0x58cb95=_0x3b7170;if(_0x3302d4)throw _0x3302d4;console[_0x58cb95(_0x4e1f84._0x7e543d)]('文件写入成功！'),_0x1b4bc9[_0x58cb95(_0x4e1f84._0x4ddc90)](_0x58cb95(0x20d));});return;}}async[_0x37b3d5(0x167)](_0xa4a026){const _0x2c7b30={_0x179636:0x1d5,_0x2451c5:0x170,_0x1b992f:0x1e3,_0x1260a3:0x173,_0x3a8b5c:0x1ad,_0x187d59:0x161,_0x1ad80a:0x1e3,_0x2a5a36:0x21b,_0x46ea9a:0x1c5},_0x2402f1=_0x37b3d5;_0xa4a026[_0x2402f1(_0x2c7b30._0x179636)]['includes']('#新增屏蔽词')&_0xa4a026[_0x2402f1(_0x2c7b30._0x2451c5)]&&(_0xa4a026[_0x2402f1(_0x2c7b30._0x1b992f)](_0x2402f1(_0x2c7b30._0x1260a3)),pc=_0xa4a026['msg'][_0x2402f1(_0x2c7b30._0x3a8b5c)](/#新增屏蔽词/g,'')['trim']()),_0xa4a026['msg']==_0x2402f1(0x22b)&_0xa4a026[_0x2402f1(0x170)]&&_0xa4a026[_0x2402f1(0x1e3)]([_0x2402f1(0x196),pc]),_0xa4a026[_0x2402f1(_0x2c7b30._0x179636)][_0x2402f1(_0x2c7b30._0x187d59)]('#删除屏蔽词')&_0xa4a026[_0x2402f1(_0x2c7b30._0x2451c5)]&&(_0xa4a026[_0x2402f1(_0x2c7b30._0x1ad80a)](_0x2402f1(_0x2c7b30._0x2a5a36)+_0x2402f1(0x1e8)),pc=''),_0xa4a026[_0x2402f1(_0x2c7b30._0x179636)][_0x2402f1(_0x2c7b30._0x187d59)](_0x2402f1(0x22d))&_0xa4a026[_0x2402f1(_0x2c7b30._0x2451c5)]&&(_0xa4a026[_0x2402f1(0x1e3)](_0x2402f1(_0x2c7b30._0x46ea9a)),pc=_0x2402f1(0x1c1));}async[_0x37b3d5(0x18f)](_0x57e063){const _0x3971ee={_0x4b97e4:0x170,_0x567d8d:0x221,_0xc89afc:0x1e3,_0x1a8f4f:0x210,_0x479faa:0x1ae,_0x159e56:0x161,_0x3107ae:0x1ae,_0x30ce45:0x1e3,_0x554d87:0x209,_0x361057:0x1e3,_0x24b2f8:0x1d5,_0x3c288a:0x23d,_0x118d64:0x20f,_0xcd046e:0x170,_0x1fcdf5:0x1a8,_0x3a238c:0x210,_0x555b6b:0x1a0,_0xc1f919:0x1a5,_0x4e7a7a:0x1d5,_0x3584ff:0x22e,_0xb7c3ce:0x174,_0x19e135:0x1a2},_0x24797f=_0x37b3d5;_0x57e063['msg']==_0x24797f(0x233)&_0x57e063[_0x24797f(_0x3971ee._0x4b97e4)]&&(_0x57e063[_0x24797f(0x1e3)]('好的，已开启，请注意身体哦'),ss=_0x24797f(_0x3971ee._0x567d8d));_0x57e063['msg']==_0x24797f(0x218)&_0x57e063['isMaster']&&(_0x57e063[_0x24797f(_0x3971ee._0xc89afc)](_0x24797f(0x18c)),ss=_0x24797f(0x17a));await dqpz();if(_0x57e063['msg']['includes'](_0x24797f(0x193))&_0x57e063[_0x24797f(0x170)]){nr[0x3]=0x0,nr[0x0]=0x0,_0x36773a['writeFileSync'](Path,nr[_0x24797f(_0x3971ee._0x1a8f4f)](),_0x24797f(_0x3971ee._0x479faa)),cd=0x0,kg2=0x0,kg=0x0,sc=0x0,iscd=0x0,_0x57e063[_0x24797f(_0x3971ee._0xc89afc)](_0x24797f(0x1ac));return;}if(_0x57e063[_0x24797f(0x1d5)][_0x24797f(_0x3971ee._0x159e56)](_0x24797f(0x223))&_0x57e063[_0x24797f(0x170)]){nr[0x0]=0x7530,nr[0x3]=0x1,_0x36773a[_0x24797f(0x23d)](Path,nr[_0x24797f(0x210)](),_0x24797f(_0x3971ee._0x3107ae)),cd=0x7530,_0x57e063[_0x24797f(_0x3971ee._0x30ce45)](_0x24797f(0x1ef));return;}if(_0x57e063[_0x24797f(0x1d5)][_0x24797f(0x161)](_0x24797f(_0x3971ee._0x554d87))&_0x57e063[_0x24797f(0x170)]){let _0x1016cf=_0x57e063[_0x24797f(0x1d5)][_0x24797f(0x1ad)](/#土块画图冷却/g,'')[_0x24797f(0x1a8)]();cd=Number(_0x1016cf)*0x3e8,nr[0x0]=cd,nr[0x3]=0x1,_0x36773a[_0x24797f(0x23d)](Path,nr['toString'](),_0x24797f(0x1ae)),_0x57e063[_0x24797f(_0x3971ee._0x361057)](_0x24797f(0x232)+_0x1016cf+'秒');}if(_0x57e063['msg'][_0x24797f(0x161)]('#土块画图撤回关闭')&_0x57e063[_0x24797f(_0x3971ee._0x4b97e4)]){nr[0x2]=0x0,_0x36773a[_0x24797f(0x23d)](Path,nr['toString'](),_0x24797f(0x1ae)),isch=0x0,_0x57e063['reply'](_0x24797f(0x220));return;}if(_0x57e063[_0x24797f(_0x3971ee._0x24b2f8)][_0x24797f(0x161)](_0x24797f(0x16b))&_0x57e063['isMaster']){isch=0x1,nr[0x1]=0x7530,nr[0x2]=0x1,_0x36773a[_0x24797f(_0x3971ee._0x3c288a)](Path,nr[_0x24797f(0x210)](),_0x24797f(0x1ae)),timeout=0x7530,_0x57e063[_0x24797f(0x1e3)]('已开启画图撤回，撤回时间为30秒');return;}if(_0x57e063[_0x24797f(_0x3971ee._0x24b2f8)]['includes'](_0x24797f(_0x3971ee._0x118d64))&_0x57e063[_0x24797f(_0x3971ee._0xcd046e)]){isch=0x1;let _0x38e37b=_0x57e063['msg']['replace'](/#土块画图撤回/g,'')[_0x24797f(_0x3971ee._0x1fcdf5)]();timeout=Number(_0x38e37b)*0x3e8,nr[0x1]=timeout,nr[0x2]=0x1,_0x36773a[_0x24797f(0x23d)](Path,nr[_0x24797f(_0x3971ee._0x3a238c)](),_0x24797f(_0x3971ee._0x479faa)),_0x57e063[_0x24797f(0x1e3)]('已设置撤回时间为'+_0x38e37b+'秒');}_0x57e063['msg']==_0x24797f(0x1a4)&&(kg=0x0,sc=0x0,zt=0x0,id='',console[_0x24797f(0x166)](_0x24797f(_0x3971ee._0x555b6b)),kg2=0x0,_0x57e063[_0x24797f(_0x3971ee._0x361057)](_0x24797f(_0x3971ee._0xc1f919))),_0x57e063[_0x24797f(_0x3971ee._0x4e7a7a)]=='#所有人可画'&_0x57e063[_0x24797f(0x170)]&&(_0x57e063[_0x24797f(0x1e3)](_0x24797f(_0x3971ee._0x3584ff)),zr=0x0),_0x57e063['msg']==_0x24797f(_0x3971ee._0xb7c3ce)&_0x57e063[_0x24797f(_0x3971ee._0xcd046e)]&&(_0x57e063[_0x24797f(0x1e3)](_0x24797f(_0x3971ee._0x19e135)),zr=0x1);}async[_0x37b3d5(0x180)](_0xd5e739){const _0x19626d={_0x412f9b:0x1e9,_0x18b573:0x1d5,_0x3676fc:0x1d5,_0x55e71b:0x161,_0x2ecfc4:0x1d5,_0x7e7ff7:0x1e9,_0x52d5dc:0x206,_0x5852e0:0x182,_0x3983c2:0x166,_0x41eef0:0x1e3,_0x42d07c:0x19d,_0x2a4069:0x1a8,_0x50f636:0x166,_0x1a55cd:0x161,_0x51f81d:0x1e3,_0x109d13:0x16e,_0x158c26:0x23e,_0x553322:0x23b,_0x4bcbc9:0x166,_0x530667:0x1be,_0x552a67:0x166,_0x1f1dbc:0x1a8,_0x1465e9:0x161,_0x33b878:0x1d5,_0xb78777:0x1d5,_0x2bc716:0x1a8,_0x2e7f55:0x1dc,_0x3a38a2:0x202,_0x33a368:0x1ad,_0x42701b:0x19f,_0x216a60:0x191,_0x7cc36a:0x161,_0x1c3355:0x166,_0x59c8c6:0x23f,_0x32dbbb:0x1fc,_0x3d455e:0x205,_0x73e81c:0x179,_0x111df8:0x1a3,_0x2a9757:0x1ce,_0x41aba9:0x22c,_0xdeab92:0x169,_0x2127b0:0x166,_0x2860e5:0x231,_0x985882:0x1b1,_0x5f00cc:0x1ca,_0x24f878:0x1e4,_0x1e40e8:0x1b8},_0xd44e16={_0x4ecbcf:0x166,_0x4d5b95:0x177,_0x1a522d:0x1f5},_0x31759f={_0x67726b:0x1e3},_0xebfa65=_0x37b3d5;if(_0xd5e739['img']!=undefined&zt==0x0&mfkg==0x0)return![];if(_0xd5e739[_0xebfa65(_0x19626d._0x412f9b)]==undefined&_0xd5e739[_0xebfa65(_0x19626d._0x18b573)]!=undefined){if(_0xd5e739[_0xebfa65(_0x19626d._0x3676fc)][_0xebfa65(_0x19626d._0x55e71b)]('#以图生草')==![]&_0xd5e739['img']==undefined&zt==0x0&_0xd5e739[_0xebfa65(0x1d5)]['includes'](_0xebfa65(0x1b2))==![]&mfkg==0x0)return![];}mfkg==0x0&_0xd5e739[_0xebfa65(_0x19626d._0x2ecfc4)]==_0xebfa65(0x1b2)&&(mfkg=0x1,mfid=_0xd5e739[_0xebfa65(0x172)],_0xd5e739[_0xebfa65(0x1e3)](_0xebfa65(0x200)),mf=setTimeout(()=>{const _0x19db0b=_0xebfa65;if(mfkg==0x1){mfkg=0x0,_0xd5e739[_0x19db0b(0x1e3)]('15秒还未发图，查看魔法已取消');return;}},0x3a98));if(_0xd5e739[_0xebfa65(_0x19626d._0x7e7ff7)]!=undefined&mfkg==0x1&mfid==_0xd5e739['user_id']){clearTimeout(mf),_0xd5e739[_0xebfa65(0x1e3)](_0xebfa65(0x237)),mfkg=0x0,mfid='';let _0x113fd2='https://xiaobapi.top/api/xb/api/upload_image_tags.php?url=';console[_0xebfa65(0x166)](_0xd5e739[_0xebfa65(0x1e9)]),_0x113fd2=_0x113fd2+_0xd5e739[_0xebfa65(0x1e9)][0x0],res=await _0x35c8ae(_0x113fd2,{'method':_0xebfa65(_0x19626d._0x52d5dc),'headers':{'Content-Type':_0xebfa65(0x169),'User-Agent':_0xebfa65(0x1c9)}});let _0x22899b=await res[_0xebfa65(0x1b7)]();console['log'](_0xebfa65(_0x19626d._0x5852e0)+_0x22899b),console[_0xebfa65(_0x19626d._0x3983c2)](_0x22899b);if(_0x22899b!=undefined)_0xd5e739[_0xebfa65(_0x19626d._0x41eef0)](_0x22899b[_0xebfa65(_0x19626d._0x42d07c)],!![]),_0x22899b[_0xebfa65(0x188)]==-0x1&&(_0xd5e739[_0xebfa65(_0x19626d._0x41eef0)]('访问失败了,QAQ,TvT'),mfkg=0x0,mfid='');else{}}if(_0xd5e739['img']==undefined&zt==0x1)return![];if(_0xd5e739[_0xebfa65(0x1e9)]==undefined&_0xd5e739[_0xebfa65(_0x19626d._0x3676fc)]!=undefined){dqpz();if(_0xd5e739[_0xebfa65(0x1d5)][_0xebfa65(0x161)](_0xebfa65(0x1c0))&_0xd5e739[_0xebfa65(0x170)]){xsd=Number(_0xd5e739[_0xebfa65(_0x19626d._0x2ecfc4)][_0xebfa65(0x1ad)](/#以图生草相似度/g,'')[_0xebfa65(_0x19626d._0x2a4069)]())/0x64,_0xd5e739[_0xebfa65(_0x19626d._0x41eef0)]('当前相似度'+String(xsd)),console['log'](xsd);return;}if(_0xd5e739['msg'][_0xebfa65(0x161)](_0xebfa65(0x17e))&_0xd5e739[_0xebfa65(0x170)]){jz=Number(_0xd5e739['msg']['replace'](/#以图生草降噪/g,'')[_0xebfa65(0x1a8)]())/0x64,_0xd5e739['reply']('当前降噪'+String(jz)),console[_0xebfa65(_0x19626d._0x50f636)](jz);return;}if(zt==0x0&&sc==0x0&&_0xd5e739[_0xebfa65(0x1d5)][_0xebfa65(_0x19626d._0x1a55cd)](_0xebfa65(0x1bf))){if(_0xd5e739[_0xebfa65(0x1db)]){_0xd5e739[_0xebfa65(_0x19626d._0x51f81d)]('以图生草暂不支持私聊');return;}dqpz();let _0x3f183d='';try{_0x3f183d=_0x36773a['readFileSync'](_0xebfa65(0x1fa));}catch{_0xd5e739[_0xebfa65(0x1e3)](_0xebfa65(_0x19626d._0x109d13));return;}_0x3f183d=_0x3f183d['toString']();let _0x496067=_0x3bff8b[_0xebfa65(_0x19626d._0x158c26)](_0x36773a[_0xebfa65(0x1f0)](_0xebfa65(0x1b4),_0xebfa65(0x21d)));_0x496067=_0x496067['masterQQ'][0x0];try{let _0x238894=_0xebfa65(_0x19626d._0x553322)+_0x3f183d+'&qq='+String(_0x496067);res=await _0x35c8ae(_0x238894,{'agent':isdl?await getAgent():''}),console['log'](_0xebfa65(0x175));}catch(_0x40159e){console[_0xebfa65(_0x19626d._0x4bcbc9)](_0x40159e),console[_0xebfa65(0x166)]('没有访问成功');}res=await res['text']();if(res['includes']('可以访问')==![]){_0xd5e739['reply'](_0xebfa65(_0x19626d._0x530667)),console[_0xebfa65(_0x19626d._0x50f636)](res);return;}console[_0xebfa65(_0x19626d._0x552a67)](_0xebfa65(0x18e)),id=_0xd5e739[_0xebfa65(0x172)],chang=0x200,kuan=0x200,gjc2=_0xd5e739[_0xebfa65(0x1d5)]['replace'](/#以图生草/g,'')['trim']();_0xd5e739['msg'][_0xebfa65(_0x19626d._0x1a55cd)](_0xebfa65(0x1dc))&&(chang=0x300,kuan=0x200,gjc2=_0xd5e739[_0xebfa65(0x1d5)][_0xebfa65(0x1ad)](/#以图生草长图/g,'')[_0xebfa65(_0x19626d._0x1f1dbc)]());_0xd5e739['msg'][_0xebfa65(_0x19626d._0x1465e9)]('以图生草宽图')&&(chang=0x200,kuan=0x300,gjc2=_0xd5e739[_0xebfa65(_0x19626d._0x33b878)][_0xebfa65(0x1ad)](/#以图生草宽图/g,'')[_0xebfa65(0x1a8)]());gjc2=_0xd5e739[_0xebfa65(_0x19626d._0xb78777)][_0xebfa65(0x1ad)](/#以图生草/g,'')[_0xebfa65(_0x19626d._0x2bc716)]();_0xd5e739['msg'][_0xebfa65(_0x19626d._0x55e71b)](_0xebfa65(_0x19626d._0x2e7f55))&&(chang=0x300,kuan=0x200,gjc2=_0xd5e739[_0xebfa65(0x1d5)][_0xebfa65(0x1ad)](/#以图生草长图/g,'')[_0xebfa65(0x1a8)]());_0xd5e739[_0xebfa65(0x1d5)]['includes'](_0xebfa65(_0x19626d._0x3a38a2))&&(chang=0x200,kuan=0x300,gjc2=_0xd5e739[_0xebfa65(0x1d5)][_0xebfa65(_0x19626d._0x33a368)](/#以图生草宽图/g,'')[_0xebfa65(0x1a8)]());var _0x171ad4=new RegExp('[\x5cu4E00-\x5cu9FFF]+','g');let _0xdcaabc='',_0xcb0978='';if(_0x171ad4[_0xebfa65(0x211)](gjc2)&_0xd5e739[_0xebfa65(0x1d5)][_0xebfa65(0x161)]('序号')==![]){let _0x2c6f1b='http://42.194.131.94/wj.php',_0x513a13=await _0x35c8ae(_0x2c6f1b);_0xdcaabc=await _0x513a13['json'](),_0xdcaabc=_0xdcaabc[_0xebfa65(_0x19626d._0x42701b)];for(let _0x42b423=0x0;_0x42b423<_0xdcaabc[_0xebfa65(_0x19626d._0x216a60)];_0x42b423++){if(gjc2[_0xebfa65(_0x19626d._0x7cc36a)](_0xdcaabc[_0x42b423]['zw'])==!![]&_0xdcaabc[_0x42b423]['zw']!=''){_0xcb0978=_0xdcaabc[_0x42b423]['zw'],gjc2=gjc2[_0xebfa65(0x1ad)](new RegExp(_0xcb0978,'g'),_0xebfa65(0x1b9)),_0xcb0978=_0xdcaabc[_0x42b423]['pt'];break;}}}console[_0xebfa65(0x166)](gjc2);if(_0x171ad4[_0xebfa65(0x211)](gjc2)){console[_0xebfa65(_0x19626d._0x1c3355)](_0xebfa65(_0x19626d._0x59c8c6));let _0x59624f=_0xebfa65(_0x19626d._0x32dbbb)+gjc2,_0x442434=await _0x35c8ae(_0x59624f),_0x27b41f=await _0x442434[_0xebfa65(0x1f7)]();_0x27b41f=_0x27b41f['replace'](/有道翻译查询结果/g,'')['trim'](),_0x27b41f=_0x27b41f[_0xebfa65(0x1ad)](/翻译后/g,'')['trim'](),_0x27b41f=_0x27b41f[_0xebfa65(0x1ad)](/翻译前/g,'')['trim'](),_0x27b41f=_0x27b41f[_0xebfa65(0x1ad)](/：/g,'')[_0xebfa65(_0x19626d._0x2bc716)](),_0x27b41f=_0x27b41f[_0xebfa65(0x1ad)](new RegExp(gjc2,'g'),''),gjc2=_0xcb0978+','+_0x27b41f,console[_0xebfa65(0x166)](gjc2);}else console[_0xebfa65(0x166)](_0xebfa65(0x21a));zt=0x1,ycqx=setTimeout(()=>{const _0x443ff8=_0xebfa65;if(zt==0x1){zt=0x0,_0xd5e739[_0x443ff8(_0x31759f._0x67726b)]('30秒还未发图，以图生草已取消');return;}},0x7530),_0xd5e739[_0xebfa65(0x1e3)]([segment['at'](id),_0xebfa65(_0x19626d._0x3d455e)]);return;}}if(sc==0x0&_0xd5e739[_0xebfa65(_0x19626d._0x73e81c)]&zt==0x1&_0xd5e739['img']!=undefined){clearTimeout(ycqx);if(_0xd5e739['user_id']==id&zt==0x1){sc=0x1;let _0x3a67b3=await imgUrlToBase64(_0xd5e739[_0xebfa65(0x1e9)][0x0][_0xebfa65(0x1ad)](/https/g,'http')['trim']()),_0x2a98a6=_0x3a67b3[_0xebfa65(0x204)],_0x35ae5a=Math[_0xebfa65(_0x19626d._0x111df8)](Math['random']()*0xb6cff090);var _0x3e4187={'init_images':[_0xebfa65(0x1c3)+_0x2a98a6],'resize_mode':0x2,'denoising_strength':0x1-xsd,'mask_blur':0x4,'inpainting_fill':0x0,'inpaint_full_res':!![],'inpaint_full_res_padding':0x0,'inpainting_mask_invert':0x0,'prompt':gjc2,'styles':['Resize\x20and\x20fill'],'seed':-0x1,'subseed':-0x1,'subseed_strength':0x0,'seed_resize_from_h':-0x1,'seed_resize_from_w':-0x1,'sampler_name':'Resize\x20and\x20fill','batch_size':0x1,'n_iter':0x1,'steps':0x32,'cfg_scale':guimo+0x2,'width':kuan,'height':chang,'restore_faces':![],'tiling':![],'negative_prompt':pc,'eta':0x0,'s_churn':0x0,'s_tmax':0x0,'s_tmin':0x0,'s_noise':0x1,'override_settings':{},'sampler_index':_0xebfa65(0x1eb),'include_init_images':![]};_0xd5e739[_0xebfa65(_0x19626d._0x51f81d)](_0xebfa65(_0x19626d._0x2a9757)),zt=0x0;try{res=await _0x35c8ae(_0xebfa65(0x20c),{'method':_0xebfa65(_0x19626d._0x41aba9),'agent':isdl?await getAgent():'','body':JSON[_0xebfa65(0x1e6)](_0x3e4187),'headers':{'Content-Type':_0xebfa65(_0x19626d._0xdeab92),'User-Agent':_0xebfa65(0x1c9)}});}catch(_0x145354){console[_0xebfa65(0x166)](_0x145354),console[_0xebfa65(_0x19626d._0x2127b0)](_0xebfa65(_0x19626d._0x2860e5)),kg=0x0;return;}let _0x526cf0=await res[_0xebfa65(0x1b7)]();_0x526cf0=_0x526cf0['images'],_0xd5e739[_0xebfa65(0x1e3)](_0xebfa65(0x19e)),await _0x36773a[_0xebfa65(_0x19626d._0x985882)](_0xebfa65(0x185),_0x526cf0[_0xebfa65(0x210)](),_0xebfa65(_0x19626d._0x5f00cc),_0x371e32=>{const _0x12eca2=_0xebfa65;_0x371e32?console[_0x12eca2(_0xd44e16._0x4ecbcf)](_0x12eca2(_0xd44e16._0x4d5b95)):console[_0x12eca2(_0xd44e16._0x4ecbcf)](_0x12eca2(_0xd44e16._0x1a522d));}),await sleep(0x1f4),msg2=[segment['at'](_0xd5e739[_0xebfa65(0x172)]),segment[_0xebfa65(0x198)](ml+'/resources/3.jpg')],await sleep(0x1f4),iscd=0x0,sc=0x0,id='';let _0x2f454a=await _0xd5e739[_0xebfa65(_0x19626d._0x51f81d)](msg2);iscd=0x1,console[_0xebfa65(_0x19626d._0x50f636)](_0x2f454a[_0xebfa65(0x15c)],isch);if(_0x2f454a&&_0x2f454a['message_id']&&isch==0x1&&_0xd5e739[_0xebfa65(0x179)]){let _0x16f51e=_0xd5e739[_0xebfa65(0x165)];setTimeout(()=>{const _0xea10d4=_0xebfa65;_0x16f51e[_0xea10d4(0x163)](_0x2f454a[_0xea10d4(0x15c)]);},timeout);}startTimeMS=new Date()[_0xebfa65(0x1b3)](),t=setTimeout(()=>{iscd=0x0,sc=0x0,id='';},cd);}}else{if(_0xd5e739['img']==undefined&_0xd5e739['msg']!=undefined){if(_0xd5e739[_0xebfa65(_0x19626d._0x3676fc)]['includes']('#以图生草')){if(iscd==0x1){console[_0xebfa65(0x166)](iscd);let _0xeaf94=cd-(new Date()['getTime']()-startTimeMS);_0xeaf94=Math['round'](_0xeaf94/0x3e8);if(_0xeaf94<0x0){sc=0x0,id='';return;}_0xd5e739[_0xebfa65(0x1e3)]('我在cd中，还有'+String(_0xeaf94)+_0xebfa65(_0x19626d._0x24f878));}else _0xd5e739[_0xebfa65(0x1e3)](_0xebfa65(_0x19626d._0x1e40e8));}}}}async[_0x37b3d5(0x213)](_0x391928){const _0x414cb5={_0x495e08:0x1e3,_0x51a1e0:0x161,_0x5710db:0x1d5,_0xaac774:0x179,_0x373105:0x1e3,_0x2b2869:0x22a,_0x25de3c:0x161,_0x223041:0x1f7,_0x5804d4:0x1a8,_0x1ab04d:0x21a,_0x48df30:0x166,_0x3273cc:0x1d5,_0x1bfdb5:0x228,_0x6edfca:0x1ad,_0x4a8b87:0x18d,_0x7bdda2:0x16c,_0x4ae3d0:0x1d5,_0x5458a0:0x227,_0x116fd0:0x1b0,_0x1b2d10:0x1eb,_0x4c3c77:0x1ee,_0x9b503a:0x1ee,_0x38b5bf:0x212,_0x48586a:0x199,_0x17738d:0x1a6,_0x30daab:0x1bd,_0x2bea7f:0x1c4,_0x39e915:0x210,_0x27c3ad:0x1e3,_0x57c3bb:0x16e,_0x4d793e:0x210,_0x2091d2:0x1f0,_0x1f11dd:0x203,_0x52a2bf:0x231,_0x569ec5:0x1f9,_0x22bade:0x1e3,_0x1291ce:0x1af,_0x2e77ba:0x1ca,_0x14cacf:0x1e3,_0x403988:0x15c,_0x270723:0x1b3,_0x5d149a:0x1b3,_0x350e23:0x1ed,_0x4f58d3:0x1cc,_0xe6e7b9:0x1e4,_0x3b0686:0x222},_0x23d70a={_0x5f3c76:0x163},_0x5e7359={_0x3f3c63:0x18b,_0x141d1b:0x1cf},_0x193c7d=_0x37b3d5;dqpz();if(_0x391928['msg'][_0x193c7d(0x161)](_0x193c7d(0x228))&!_0x391928[_0x193c7d(0x170)]){_0x391928[_0x193c7d(_0x414cb5._0x495e08)]('你不是主人，不能用预设哦');return;}let _0x7bc51b,_0x310989,_0x5516f1;_0x391928['msg'][_0x193c7d(_0x414cb5._0x51a1e0)]('#土块画图预设')==![]&&(_0x5516f1=_0x391928[_0x193c7d(_0x414cb5._0x5710db)][_0x193c7d(0x1ad)](/#绘个图/g,'')[_0x193c7d(0x1a8)]());if(kg2==0x0&_0x391928[_0x193c7d(_0x414cb5._0xaac774)]|_0x391928[_0x193c7d(0x170)]){kg2==0x1&&_0x391928[_0x193c7d(_0x414cb5._0x373105)]('你是主人，没有cd，欸嘿');if(zr==0x1&!_0x391928[_0x193c7d(0x170)]){_0x391928['reply'](_0x193c7d(0x16a));return;}kg2=0x1;let _0xddacda=_0x5516f1,_0x30eeb4='',_0x5cf48c='';var _0x40cb13=new RegExp(_0x193c7d(_0x414cb5._0x2b2869),'g');if(_0x40cb13[_0x193c7d(0x211)](_0xddacda)&_0x391928['msg']['includes']('序号')==![]){let _0x4f98e9=_0x193c7d(0x1aa),_0x1c323d=await _0x35c8ae(_0x4f98e9);_0x30eeb4=await _0x1c323d[_0x193c7d(0x1b7)](),_0x30eeb4=_0x30eeb4['name'];for(let _0x5a31d7=0x0;_0x5a31d7<_0x30eeb4['length'];_0x5a31d7++){if(_0xddacda[_0x193c7d(_0x414cb5._0x25de3c)](_0x30eeb4[_0x5a31d7]['zw'])==!![]&_0x30eeb4[_0x5a31d7]['zw']!=''){_0x5cf48c=_0x30eeb4[_0x5a31d7]['zw'],_0xddacda=_0xddacda[_0x193c7d(0x1ad)](new RegExp(_0x5cf48c,'g'),_0x30eeb4[_0x5a31d7]['pt']),_0x5cf48c=_0x30eeb4[_0x5a31d7]['pt'];break;}}}console['log'](_0xddacda);if(_0x40cb13['test'](_0xddacda)&_0x391928[_0x193c7d(_0x414cb5._0x5710db)][_0x193c7d(_0x414cb5._0x51a1e0)]('序号')==![]){console[_0x193c7d(0x166)](_0x193c7d(0x23f));let _0x14558a='https://api.sdgou.cc/api/fanyi/?msg='+_0xddacda,_0x1564e9=await _0x35c8ae(_0x14558a),_0x5ba128=await _0x1564e9[_0x193c7d(_0x414cb5._0x223041)]();_0x5ba128=_0x5ba128[_0x193c7d(0x1ad)](/有道翻译查询结果/g,'')[_0x193c7d(_0x414cb5._0x5804d4)](),_0x5ba128=_0x5ba128[_0x193c7d(0x1ad)](/翻译后/g,'')[_0x193c7d(0x1a8)](),_0x5ba128=_0x5ba128['replace'](/翻译前/g,'')[_0x193c7d(_0x414cb5._0x5804d4)](),_0x5ba128=_0x5ba128[_0x193c7d(0x1ad)](/：/g,'')[_0x193c7d(0x1a8)](),_0x5ba128=_0x5ba128[_0x193c7d(0x1ad)](new RegExp(_0xddacda,'g'),''),res4=_0x5cf48c+','+_0x5ba128,console['log'](res4);}else console[_0x193c7d(0x166)](_0x193c7d(_0x414cb5._0x1ab04d)),res4=_0x5cf48c+','+_0xddacda,console[_0x193c7d(_0x414cb5._0x48df30)](res4);let _0x4e8b6d,_0x47eda7;if(_0x391928[_0x193c7d(_0x414cb5._0x3273cc)][_0x193c7d(0x161)](_0x193c7d(_0x414cb5._0x1bfdb5))&_0x391928['isMaster']){_0x310989=_0x391928['msg'][_0x193c7d(_0x414cb5._0x6edfca)](/#土块画图预设/g,'')[_0x193c7d(0x1a8)]();let _0x298463=ml+'/plugins/earth-k-plugin/resources/htys/ys.json';await _0x36773a['readFile'](_0x298463,(_0x17e920,_0x3ac754)=>{const _0x8b848f=_0x193c7d;_0x7bc51b=JSON['parse'](_0x3ac754[_0x8b848f(0x210)]()),_0x47eda7=_0x7bc51b[_0x8b848f(_0x5e7359._0x3f3c63)];var _0x253adf=new RegExp('[\x5cu4E00-\x5cu9FFF]+','g');if(_0x253adf[_0x8b848f(0x211)](_0x310989))console[_0x8b848f(0x166)](_0x8b848f(0x183)),_0x4e8b6d=_0x47eda7[_0x8b848f(_0x5e7359._0x141d1b)](_0x50c4dd=>_0x50c4dd[_0x8b848f(0x19f)]==_0x310989);else{_0x4e8b6d=Number(_0x310989)-0x1;if(_0x4e8b6d>_0x47eda7[_0x8b848f(0x191)]){_0x4e8b6d=-0x1;return;}}}),await sleep(0x1f4),console[_0x193c7d(0x166)](_0x4e8b6d);if(_0x4e8b6d!=-0x1)res4=_0x47eda7[_0x4e8b6d][_0x193c7d(_0x414cb5._0x4a8b87)];else{_0x391928['reply'](_0x193c7d(_0x414cb5._0x7bdda2));return;}}if(_0x391928[_0x193c7d(_0x414cb5._0x4ae3d0)][_0x193c7d(0x161)]('序号')){res4=res4[_0x193c7d(0x1ad)](/序号/g,'')[_0x193c7d(0x1a8)]();let _0x318f7f=_0x193c7d(_0x414cb5._0x5458a0),_0x5c96b8=await _0x35c8ae(_0x318f7f,{'agent':isdl?await getAgent():''}),_0x3b4beb=await _0x5c96b8['json'](),_0x5bc6fb=_0x3b4beb['name'],_0x352a06=_0x391928['msg']['substring'](0x6,0x9);const _0x455fbc=/\d+/;let _0xb31a92=_0x352a06[_0x193c7d(0x1a9)](_0x455fbc),_0x4e60fd=_0xb31a92[0x0];res4=res4[_0x193c7d(0x1ad)](new RegExp(_0x4e60fd,'g'),''),_0xb31a92=Number(_0xb31a92[0x0]);try{res4=_0x5bc6fb[_0xb31a92+0x1]['pt']+res4,console[_0x193c7d(_0x414cb5._0x48df30)](res4);}catch{_0x391928[_0x193c7d(0x1e3)](_0x193c7d(0x181));return;}}await sleep(0x1f4),_0x391928[_0x193c7d(0x1e3)]('好的，我开始画图了，请稍等哦');let _0x4ce5bf=Math[_0x193c7d(0x1a3)](Math[_0x193c7d(0x199)]()*0x2);_0x4ce5bf==0x0&&(changdu=0x200,kuandu=0x300);_0x4ce5bf==0x1&&(changdu=0x300,kuandu=0x200);console[_0x193c7d(0x166)](_0x4ce5bf);var _0x242db1=_0x193c7d(_0x414cb5._0x116fd0),_0x55f3c1=[res4,pc,_0x193c7d(0x208),_0x193c7d(0x208),0x14,_0x193c7d(_0x414cb5._0x1b2d10),![],![],0x1,0x1,0x7,-0x1,-0x1,0x0,0x0,0x0,![],changdu,kuandu,![],![],0.7,'None',![],![],null,'',_0x193c7d(_0x414cb5._0x4c3c77),'','Steps','',!![],![],null,'',''],_0x3f42d9=[res4,pc,_0x193c7d(0x208),'None',0x1c,_0x193c7d(_0x414cb5._0x1b2d10),![],![],0x1,0x1,0xb,-0x1,-0x1,0x0,0x0,0x0,![],0x200,0x200,![],![],0.7,_0x193c7d(0x208),![],![],null,'',_0x193c7d(_0x414cb5._0x9b503a),'',_0x193c7d(_0x414cb5._0x38b5bf),'',!![],![],null,'',''];let _0x21a790=_0x193c7d(0x23c),_0x4284d7=Math[_0x193c7d(0x1a3)](Math[_0x193c7d(_0x414cb5._0x48586a)]()*0xb6cff090),_0xd7b16=_0x193c7d(_0x414cb5._0x17738d)+moxing+_0x193c7d(_0x414cb5._0x30daab)+guimo[_0x193c7d(0x210)]()+_0x193c7d(_0x414cb5._0x2bea7f)+bushu['toString']()+_0x193c7d(0x234)+_0x4284d7[_0x193c7d(_0x414cb5._0x39e915)](),_0x15cf5d='';try{_0x15cf5d=_0x36773a['readFileSync'](_0x193c7d(0x1fa));}catch{_0x391928[_0x193c7d(_0x414cb5._0x27c3ad)](_0x193c7d(_0x414cb5._0x57c3bb));return;}_0x15cf5d=_0x15cf5d[_0x193c7d(_0x414cb5._0x4d793e)]();let _0x5abfbc=_0x3bff8b[_0x193c7d(0x23e)](_0x36773a[_0x193c7d(_0x414cb5._0x2091d2)](_0x193c7d(0x1b4),_0x193c7d(0x21d)));_0x5abfbc=_0x5abfbc['masterQQ'][0x0];try{let _0x36395e='https://www.tukuai.one//qx.php?tk='+_0x15cf5d+_0x193c7d(_0x414cb5._0x1f11dd)+String(_0x5abfbc);res=await _0x35c8ae(_0x36395e,{'agent':isdl?await getAgent():''}),console['log'](_0x193c7d(0x175));}catch(_0x4c837b){console['log'](_0x4c837b),console[_0x193c7d(_0x414cb5._0x48df30)](_0x193c7d(_0x414cb5._0x52a2bf));}res=await res[_0x193c7d(0x1f7)]();if(res[_0x193c7d(0x161)](_0x193c7d(_0x414cb5._0x569ec5))==![]){_0x391928[_0x193c7d(_0x414cb5._0x22bade)]('很抱歉你的网络可能不行，请尝试挂代理，或者你的密钥错误'),console[_0x193c7d(_0x414cb5._0x48df30)](res);return;}let _0x374e78=await _0x35c8ae(_0x193c7d(_0x414cb5._0x1291ce),{'method':'POST','agent':isdl?await getAgent():'','headers':{'Content-Type':_0x193c7d(0x169),'authorization':_0x193c7d(0x18a)},'body':JSON['stringify']({'prompt':_0x193c7d(0x168)+res4,'width':kuandu,'height':changdu,'cfg_scale':guimo+0x2,'sampler':moxing,'steps':0x17,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0x374e78[_0x193c7d(0x1b7)](),_0x391928[_0x193c7d(0x1e3)](_0x193c7d(0x19e)),res=res4['images'][0x0],await _0x36773a['writeFile']('./resources/ht.png',res['toString'](),_0x193c7d(_0x414cb5._0x2e77ba),_0xea0de0=>{const _0x3ccdd7=_0x193c7d;if(_0xea0de0)console[_0x3ccdd7(0x166)]('写入文件错误');else{}});iscanshu==0x0&&(_0xd7b16='');await sleep(0x1f4),msg2=[segment['image']('./resources/ht.png'),_0xd7b16];let _0x20000a=await _0x391928[_0x193c7d(_0x414cb5._0x14cacf)](msg2,ishuifu);iscd=0x1,console['log'](_0x20000a[_0x193c7d(0x15c)],isch);if(_0x20000a&&_0x20000a[_0x193c7d(_0x414cb5._0x403988)]&&isch==0x1&&_0x391928[_0x193c7d(0x179)]){let _0x53492e=_0x391928['group'];setTimeout(()=>{const _0x569e07=_0x193c7d;_0x53492e[_0x569e07(_0x23d70a._0x5f3c76)](_0x20000a['message_id']);},timeout);}startTimeMS=new Date()[_0x193c7d(_0x414cb5._0x270723)](),t=setTimeout(()=>{kg2=0x0,iscd=0x0;},cd);}else{if(iscd==0x1){let _0x1b6d9a=cd-(new Date()[_0x193c7d(_0x414cb5._0x5d149a)]()-startTimeMS);_0x1b6d9a=Math[_0x193c7d(_0x414cb5._0x350e23)](_0x1b6d9a/0x3e8);if(_0x1b6d9a<0x0){kg2=0x0;return;}_0x391928['reply'](_0x193c7d(_0x414cb5._0x4f58d3)+String(_0x1b6d9a)+_0x193c7d(_0x414cb5._0xe6e7b9));}else _0x391928[_0x193c7d(0x1e3)](_0x193c7d(_0x414cb5._0x3b0686));}}}async function imgUrlToBase64(_0x22909c){const _0x5471f8={_0x317baf:0x229},_0x4e77a6={_0x4f1dd3:0x229};let _0x28453b;return new Promise(function(_0x1ee860,_0x39c521){const _0x576b14={_0x380496:0x15f},_0x2a8715={_0x4fb2ce:0x1ca},_0x53032c=_0x26a6;let _0x2fe73d=http[_0x53032c(0x206)](_0x22909c,function(_0x36c0b7){const _0x5c3e5a=_0x53032c;var _0x312078=[],_0x22fa81=0x0;_0x36c0b7['on'](_0x5c3e5a(0x1fe),function(_0x27dd3a){_0x312078['push'](_0x27dd3a),_0x22fa81+=_0x27dd3a['length'];}),_0x36c0b7['on'](_0x5c3e5a(_0x4e77a6._0x4f1dd3),function(_0xcbf05c){const _0x45310c=_0x5c3e5a;var _0x349073=Buffer[_0x45310c(0x201)](_0x312078,_0x22fa81);_0x28453b=_0x349073[_0x45310c(0x210)](_0x45310c(_0x2a8715._0x4fb2ce)),_0x1ee860({'success':!![],'base64Img':_0x28453b});});});_0x2fe73d['on'](_0x53032c(0x1d4),_0x1ea1ea=>{const _0x404a61=_0x53032c;_0x1ee860({'success':![],'errmsg':_0x1ea1ea[_0x404a61(_0x576b14._0x380496)]});}),_0x2fe73d[_0x53032c(_0x5471f8._0x317baf)]();});}function sleep(_0x2cecb2){return new Promise(_0x39aed2=>setTimeout(_0x39aed2,_0x2cecb2));}async function dqpz(){const _0xc58ce0={_0x2f1501:0x1f1,_0x255896:0x17c},_0x3d5a21={_0x50143f:0x166},_0x17a472=_0x37b3d5;Path=ml+_0x17a472(_0xc58ce0._0x2f1501),await _0x36773a[_0x17a472(_0xc58ce0._0x255896)](Path,(_0x2bf026,_0x33269a)=>{const _0x46f7f8=_0x17a472;nr=_0x33269a[_0x46f7f8(0x210)](),nr=nr['split'](','),cd=nr[0x0],timeout=nr[0x1],isch=nr[0x2],iscd=nr[0x3],console[_0x46f7f8(_0x3d5a21._0x50143f)](cd,timeout,isch,iscd);}),await sleep(0x1f4);}function _0x2cef(){const _0x39e3d9=['screenshot','好的，权限已经关闭，只有你能画了','floor','#取消画图','已取消当前画图','模型:','#查看画图设置','trim','match','http://42.194.131.94/wj.php','#关闭代理','已关闭画图冷却','replace','utf-8','https://www.tukuai.one//ht.php','abc','writeFile','#查看魔法','getTime','./config/config/other.yaml','^#土块画图采样(.*)|^#查看所有采样','ckmx','json','正在生草中，我知道你很急，先别急','best\x20quality','当前预设有：\x0a','\x0a规模：','采样不在合理范围内，1-8为合理范围','\x20\x20\x20|规模:','很抱歉，你的密钥错误，不能生草,或者网络不行','#以图生草','#以图生草相似度','lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','tianxie','data:image/jpeg;base64,','\x20\x0a步数:','已经开启默认屏蔽词','你好号主，成功再次激活','已关闭词条回复','采样已设置为DPM++\x202S\x20a','Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36','base64','#关闭参数显示','我在cd中，还有','szbs','好的，我开始以图生草了','findIndex','3728710WqDFKC','7IVHjwV','310bnRAhg','szgm','error','msg','ysgn','default','^#土块画图步数(.*)|^#查看画图设置','已激活该密钥','11217584LYviyT','isPrivate','以图生草长图','https://www.tukuai.one//diqiu.php?tk=','#查看预设','https-proxy-agent','http','proxyAddress','push','reply','秒可画','你好号主','stringify','土块AI画图','我知道你要干嘛！注意身体！','img','split','Euler\x20a','DPM++\x202M\x20Karras','round','Seed','已开启画图冷却，冷却时间为30秒','readFileSync','/plugins/earth-k-plugin/resources/pz/pz.txt','/plugins/earth-k-plugin/resources/htys/ys.json','模型：','采样已设置为Euler','写入文件成功','数字超过了预设个数','text','DPM++\x202M','可以访问','./resources/th2.txt','Euler','https://api.sdgou.cc/api/fanyi/?msg=','#开启参数显示','data','该密钥已被激活','请发送要查看魔法的图片,0.0','concat','以图生草宽图','&qq=','base64Img','请发送图片','get','\x0a降噪：','None','#土块画图冷却','密钥不存在！不能乱输入哦','#关闭词条回复','https://www.tukuai.one/ytsc.php','新增预设成功','^#以图生草(.*)$|(.*)','#土块画图撤回','toString','test','Steps','huatu2','已开启词条回复','#查看预设词条','采样已设置为DPM++\x202M\x20Karras','密钥不存在','#土块画图涩涩关闭','已激活密钥，号主为','是英文','删除屏蔽词成功','\x0a相似度：','utf8','步数已设置为','请添加预设关键词','已关闭画图撤回','nai-diffusion','正在画图中，我知道你很急，但是你先别急。','#土块画图冷却开启','1478865fdYNIK','采样已设置为DDMI','./plugins/earth-k-plugin/resources/aiht/ml.html','https://www.tukuai.one/wj.php','#土块画图预设','end','[\x5cu4E00-\x5cu9FFF]+','#查看屏蔽词','post','#开启默认屏蔽词','好吧，那就一起来吧！','采样已设置为DPM++\x202S\x20a\x20Karras','规模已设置为','没有访问成功','已设置冷却时间为','#土块画图涩涩开启','\x20\x20\x20\x20\x20\x20\x20\x20|seed:','DPM++\x202S\x20a\x20Karras','采样已设置为Heun','正在查看魔法，请稍后啊，0v0','已关闭参数显示','#查看所有采样','^#土块画图规模(.*)','https://www.tukuai.one//qx.php?tk=','https://api.novelai.net/ai/generate-image\x20','writeFileSync','parse','包含中文','message_id','这个密钥已经被激活了，你想干嘛！','DDMI','message','^#绘个图(.*)$|#土块画图预设(.*)$','includes','#新增预设','recallMsg','DPM++\x202S\x20a','group','log','pbc','masterpiece,\x20best\x20quality,','application/json','对不起，你不可画哦','#土块画图撤回开启','没有这个预设哦','^#填写密钥(.*)','你还没有填写密钥哦。','cwd','isMaster','采样已设置为Euler\x20a','user_id','新增屏蔽词成功','#仅我可画','访问成功了','szmx','写入文件错误','1：Euler\x20a,\x0a2：Euler,\x0a3：Heun,\x0a4：DPM++\x202S\x20a,\x0a5：DPM++\x202M,\x0a6：DPM++\x202S\x20a\x20Karras,\x0a7：DPM++\x202M\x20Karras,\x0a8：DDMI','isGroup','safe-diffusion','^#查看模型','readFile','794796zgLElF','#以图生草降噪','1025127lEHBEO','huatu3','没有这个序号哦','魔法是：','预设包含中文','^#新增屏蔽词(.*)$|#查看屏蔽词$|#删除屏蔽词$|#开启默认屏蔽词$','./resources/3.jpg','5042616kGaBVz','已开启参数显示','code','步数不在合理范围内，28以下为合理范围','Bearer','shuju','好的，已关闭了','gjc','以图生草','qvht','51jtoMkx','length','#删除预设','#土块画图冷却关闭','splice','./plugins/earth-k-plugin/resources/aiht/mx.html','当前屏蔽词有：','123','image','random','已关闭代理','23986NpRZIV','^#取消画图$|^#所有人可画$|^#仅我可画$|^#土块画图撤回(.*)$|^#土块画图冷却(.*)$|^#土块画图涩涩开启|^#土块画图涩涩关闭','tags','成功了！','name','已经取消'];_0x2cef=function(){return _0x39e3d9;};return _0x2cef();}async function getAgent(){const _0x303553={_0x1320af:0x1df},_0x57706e=_0x37b3d5;let _0xb2200d=_0x25c376['bot'][_0x57706e(0x1e1)];if(!_0xb2200d)return null;if(_0xb2200d==='http://0.0.0.0:0')return null;HttpsProxyAgent===''&&(HttpsProxyAgent=await import(_0x57706e(_0x303553._0x1320af))['catch'](_0x1c60fc=>{logger['error'](_0x1c60fc);}),HttpsProxyAgent=HttpsProxyAgent?HttpsProxyAgent[_0x57706e(0x1d7)]:undefined);if(HttpsProxyAgent)return new HttpsProxyAgent(_0xb2200d);return null;}
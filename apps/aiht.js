const _0xc9fb07=_0x16b2;(function(_0x5f52a3,_0x572585){const _0xd679bb=_0x16b2,_0xecebc7=_0x5f52a3();while(!![]){try{const _0x53341c=parseInt(_0xd679bb(0xa6))/0x1+-parseInt(_0xd679bb(0x93))/0x2+-parseInt(_0xd679bb(0x82))/0x3+parseInt(_0xd679bb(0x96))/0x4*(parseInt(_0xd679bb(0xb3))/0x5)+-parseInt(_0xd679bb(0xbc))/0x6*(parseInt(_0xd679bb(0xc5))/0x7)+parseInt(_0xd679bb(0x86))/0x8+-parseInt(_0xd679bb(0x129))/0x9;if(_0x53341c===_0x572585)break;else _0xecebc7['push'](_0xecebc7['shift']());}catch(_0x387796){_0xecebc7['push'](_0xecebc7['shift']());}}}(_0x4d76,0x668f0));const _0x33df65=(function(){let _0x497cbf=!![];return function(_0x1846c6,_0x2d9684){const _0x410b50=_0x497cbf?function(){if(_0x2d9684){const _0x41b9a7=_0x2d9684['apply'](_0x1846c6,arguments);return _0x2d9684=null,_0x41b9a7;}}:function(){};return _0x497cbf=![],_0x410b50;};}()),_0x281988=_0x33df65(this,function(){const _0xbd0aa4=_0x16b2;return _0x281988[_0xbd0aa4(0xb0)]()[_0xbd0aa4(0xa7)]('(((.+)+)+)+$')[_0xbd0aa4(0xb0)]()[_0xbd0aa4(0x123)](_0x281988)[_0xbd0aa4(0xa7)](_0xbd0aa4(0x8f));});_0x281988();const _0x182d73=(function(){let _0x21644=!![];return function(_0x934383,_0x4703cf){const _0x57f4fb=_0x21644?function(){if(_0x4703cf){const _0x146424=_0x4703cf['apply'](_0x934383,arguments);return _0x4703cf=null,_0x146424;}}:function(){};return _0x21644=![],_0x57f4fb;};}()),_0x299a0d=_0x182d73(this,function(){const _0x127564=_0x16b2,_0x1d6b88=function(){const _0x152da1=_0x16b2;let _0x1127b4;try{_0x1127b4=Function(_0x152da1(0xcf)+_0x152da1(0xea)+');')();}catch(_0x4c6482){_0x1127b4=window;}return _0x1127b4;},_0x1c1b00=_0x1d6b88(),_0x556731=_0x1c1b00[_0x127564(0x9b)]=_0x1c1b00[_0x127564(0x9b)]||{},_0x204cee=[_0x127564(0x100),_0x127564(0xff),_0x127564(0x75),_0x127564(0x13a),_0x127564(0xdd),'table','trace'];for(let _0x4235f0=0x0;_0x4235f0<_0x204cee['length'];_0x4235f0++){const _0x40290c=_0x182d73[_0x127564(0x123)][_0x127564(0xd7)][_0x127564(0x9f)](_0x182d73),_0x20c0a6=_0x204cee[_0x4235f0],_0x36b781=_0x556731[_0x20c0a6]||_0x40290c;_0x40290c[_0x127564(0x115)]=_0x182d73['bind'](_0x182d73),_0x40290c[_0x127564(0xb0)]=_0x36b781['toString']['bind'](_0x36b781),_0x556731[_0x20c0a6]=_0x40290c;}});_0x299a0d();import{segment}from'oicq';import _0x123ac1 from'node-fetch';import _0x1f5aaa,{chownSync}from'fs';import _0x2276a1 from'../../../lib/config/config.js';import _0x387b7c from'../../../lib/puppeteer/puppeteer.js';let data1={};import{createRequire}from'module';import{Console}from'console';const require=createRequire(import.meta[_0xc9fb07(0xe2)]);let ysct,mf,mfkg=0x0,ml=process[_0xc9fb07(0xca)]();var http=require(_0xc9fb07(0x94));import _0x59696a from'lodash';let yushekg=0x0,kg=0x0,guimo=5.5,kg2=0x0,mfid='',res4,htm='',htm2='',res5,res,zr=0x0,changdu=0x200,kuandu=0x200,msg2,timeout=0x7530,isch=0x1,cd=0x0,t,startTimeMS,iscd=0x0,my,dz,sj1,sj2,shuju,zt=0x0,gjc2,sc=0x0,bushu=0x1c,id='',xsd=0.4,nr,ycqx,jz=0.2,ss=_0xc9fb07(0xd6),Path,ys=[],moxing=_0xc9fb07(0xbf),isdl=0x0,iscanshu=0x1,ishuifu=!![],HttpsProxyAgent='',pc=_0xc9fb07(0x12f);export class aiht extends plugin{constructor(){const _0x975b66=_0xc9fb07;super({'name':'土块AI绘个图','dsc':'土块AI绘个图','event':_0x975b66(0xb6),'priority':0x479,'rule':[{'reg':_0x975b66(0x117),'fnc':'huatu2'},{'reg':'^#取消画图$|^#所有人可画$|^#仅我可画$|^#土块画图撤回(.*)$|^#土块画图冷却(.*)$|^#土块画图涩涩开启|^#土块画图涩涩关闭','fnc':_0x975b66(0xe1)},{'reg':_0x975b66(0x81),'fnc':_0x975b66(0x112)},{'reg':_0x975b66(0xe3),'fnc':_0x975b66(0x10d),'log':![]},{'reg':'^#查看所有预设$|#新增预设(.*)|(.*)','fnc':_0x975b66(0xee),'log':![]},{'reg':_0x975b66(0x141),'fnc':_0x975b66(0xd4)},{'reg':_0x975b66(0xf4),'fnc':'szmx'},{'reg':'^#土块画图步数(.*)|^#查看画图设置','fnc':_0x975b66(0xd8)},{'reg':'^#开启代理|^#关闭代理|^#开启参数显示|^#关闭参数显示|^#开启词条回复|^#关闭词条回复','fnc':_0x975b66(0x104)}]});}async[_0xc9fb07(0x104)](_0x1f174d){const _0xee2f01=_0xc9fb07;_0x1f174d[_0xee2f01(0xb2)]=='#开启代理'&_0x1f174d[_0xee2f01(0x72)]&&(isdl=0x1,_0x1f174d[_0xee2f01(0x14a)]('开启代理成功')),_0x1f174d[_0xee2f01(0xb2)]==_0xee2f01(0x12d)&_0x1f174d['isMaster']&&(isdl=0x0,_0x1f174d[_0xee2f01(0x14a)](_0xee2f01(0xf0))),_0x1f174d[_0xee2f01(0xb2)]==_0xee2f01(0x133)&_0x1f174d['isMaster']&&(iscanshu=0x1,_0x1f174d['reply'](_0xee2f01(0x119))),_0x1f174d[_0xee2f01(0xb2)]=='#关闭参数显示'&_0x1f174d['isMaster']&&(iscanshu=0x0,_0x1f174d[_0xee2f01(0x14a)](_0xee2f01(0x8d))),_0x1f174d[_0xee2f01(0xb2)]==_0xee2f01(0xe9)&_0x1f174d[_0xee2f01(0x72)]&&(ishuifu=!![],_0x1f174d[_0xee2f01(0x14a)]('已开启词条回复')),_0x1f174d[_0xee2f01(0xb2)]==_0xee2f01(0x113)&_0x1f174d[_0xee2f01(0x72)]&&(ishuifu=![],_0x1f174d['reply'](_0xee2f01(0xbd)));}async[_0xc9fb07(0xd8)](_0x49a9e5){const _0x13d6a1=_0xc9fb07;if(_0x49a9e5[_0x13d6a1(0xb2)]=='#查看画图设置'){console['log'](guimo);let _0x1b77de=[_0x13d6a1(0xed),moxing,_0x13d6a1(0x130),guimo['toString'](),_0x13d6a1(0x10e),bushu[_0x13d6a1(0xb0)](),_0x13d6a1(0x136),xsd[_0x13d6a1(0xb0)](),_0x13d6a1(0x146),jz['toString']()];_0x49a9e5[_0x13d6a1(0x14a)](_0x1b77de);return;}bushu=_0x49a9e5['msg']['replace'](/#土块画图步数/g,'')[_0x13d6a1(0xc7)](),bushu=Number(bushu);if(bushu<0x0|bushu>0x1c){bushu=0x1c,_0x49a9e5['reply'](_0x13d6a1(0xbe));return;}else _0x49a9e5[_0x13d6a1(0x14a)](_0x13d6a1(0xa1)+String(bushu));}async[_0xc9fb07(0x12b)](_0x431710){const _0x1a8a83=_0xc9fb07;if(_0x431710[_0x1a8a83(0xb2)]==_0x1a8a83(0x7b)){let _0xe44576=['1：k_euler_ancestral,\x0a2：k_euler,\x0a3：k_lms,\x0a4：plms,\x0a5：ddim'];_0x431710['reply'](_0xe44576);return;}moxing=_0x431710[_0x1a8a83(0xb2)][_0x1a8a83(0x109)](/#土块画图模型/g,'')[_0x1a8a83(0xc7)](),moxing=Number(moxing);if(moxing<0x0|moxing>0x5){_0x431710[_0x1a8a83(0x14a)]('模型不在合理范围内，1-5为合理范围'),moxing=0x2;return;}moxing==0x1&&(moxing='k_euler_ancestral',_0x431710['reply'](_0x1a8a83(0xc8))),moxing==0x2&&(moxing=_0x1a8a83(0xbf),_0x431710['reply'](_0x1a8a83(0x13f))),moxing==0x3&&(moxing=_0x1a8a83(0x77),_0x431710[_0x1a8a83(0x14a)]('模型已设置为k_lms')),moxing==0x4&&(moxing=_0x1a8a83(0xfe),_0x431710[_0x1a8a83(0x14a)]('模型已设置为plms')),moxing==0x5&&(moxing=_0x1a8a83(0x14b),_0x431710[_0x1a8a83(0x14a)](_0x1a8a83(0x76)));}async[_0xc9fb07(0xd4)](_0xed2bec){const _0x5d2560=_0xc9fb07;guimo=_0xed2bec[_0x5d2560(0xb2)]['replace'](/#土块画图规模/g,'')['trim'](),guimo=Number(guimo);if(guimo<0x3|guimo>0xc){_0xed2bec[_0x5d2560(0x14a)](_0x5d2560(0x138)),guimo=5.5;return;}else _0xed2bec[_0x5d2560(0x14a)](_0x5d2560(0x105)+String(guimo));}async[_0xc9fb07(0xee)](_0x54a5b7){const _0x19992e=_0xc9fb07;if(_0x54a5b7[_0x19992e(0xeb)]!=undefined)return![];if(yushekg==0x0&_0x54a5b7['msg'][_0x19992e(0x12a)](_0x19992e(0xa5))==![]&_0x54a5b7[_0x19992e(0xb2)][_0x19992e(0x12a)](_0x19992e(0xdc))==![]&_0x54a5b7[_0x19992e(0xb2)]['includes'](_0x19992e(0x85))==![]&_0x54a5b7[_0x19992e(0xb2)][_0x19992e(0x12a)](_0x19992e(0xf6))==![])return![];let _0x203588=ml+_0x19992e(0xba),_0x876ab2='';await _0x1f5aaa[_0x19992e(0x7e)](_0x203588,(_0x5c84f5,_0x4aa151)=>{const _0x4957f6=_0x19992e;if(_0x5c84f5)throw _0x5c84f5;var _0xea8161=_0x4aa151[_0x4957f6(0xb0)]()!=''?JSON['parse'](_0x4aa151[_0x4957f6(0xb0)]()):[];ysct='',_0x876ab2='',shuju=_0xea8161;for(let _0x2b3f32=0x0;_0x2b3f32<shuju[_0x4957f6(0xe6)][_0x4957f6(0xb9)];_0x2b3f32++){_0x876ab2=_0x876ab2+shuju[_0x4957f6(0xe6)][_0x2b3f32][_0x4957f6(0x114)]+',',ysct=ysct+shuju['shuju'][_0x2b3f32]['gjc']+'++';}}),await sleep(0x1f4);if(_0x54a5b7['msg'][_0x19992e(0x12a)](_0x19992e(0xf6))&_0x54a5b7[_0x19992e(0x72)]){let _0x23c2c9=_0x54a5b7[_0x19992e(0xb2)][_0x19992e(0x109)](/#查看预设词条/g,'')['trim']();_0x23c2c9=Number(_0x23c2c9),ysct=ysct[_0x19992e(0x13d)]('++'),_0x876ab2=_0x876ab2['split'](',');if(_0x23c2c9>ysct['length']|_0x23c2c9<0x0){_0x54a5b7[_0x19992e(0x14a)]('数字超过了预设个数');return;}_0x54a5b7['reply']([_0x876ab2[_0x23c2c9-0x1],':',ysct[_0x23c2c9-0x1]]),ysct='',_0x876ab2='';}if(_0x54a5b7[_0x19992e(0xb2)]=='#查看预设'&_0x54a5b7[_0x19992e(0x72)]){_0x876ab2=_0x876ab2['split'](','),data1={'tplFile':_0x19992e(0xe7),'dz':ml,'lb':_0x876ab2,'qsid':0x0};let _0x180ca7=await _0x387b7c['screenshot'](_0x19992e(0xad),{...data1});_0x54a5b7[_0x19992e(0x14a)](_0x180ca7);return;_0x54a5b7[_0x19992e(0x14a)]('当前预设有：\x0a'+_0x876ab2);}if(_0x54a5b7[_0x19992e(0xb2)]['includes'](_0x19992e(0x85))&_0x54a5b7[_0x19992e(0x72)]){let _0x2e7c1b=_0x54a5b7[_0x19992e(0xb2)][_0x19992e(0x109)](/#删除预设/g,'')[_0x19992e(0xc7)]();_0x2e7c1b=Number(_0x2e7c1b);if(_0x2e7c1b<shuju['shuju']['length']+0x1){shuju[_0x19992e(0xe6)][_0x19992e(0xdb)](_0x2e7c1b-0x1,0x1);var _0x4b0c84=JSON[_0x19992e(0xf3)](shuju);}_0x1f5aaa[_0x19992e(0xae)](_0x203588,_0x4b0c84,function(_0x5a8baa){const _0x1411b7=_0x19992e;_0x5a8baa&&console[_0x1411b7(0x13a)](_0x5a8baa),_0x54a5b7[_0x1411b7(0x14a)](_0x1411b7(0x134));});}if(_0x54a5b7[_0x19992e(0xb2)]['includes']('#新增预设')&_0x54a5b7[_0x19992e(0x72)]&yushekg==0x0){yushekg=0x1,ys[0x0]=_0x54a5b7[_0x19992e(0xb2)][_0x19992e(0x109)](/#新增预设/g,'')[_0x19992e(0xc7)](),_0x54a5b7['reply'](_0x19992e(0x11e));return;}if(yushekg==0x1&_0x54a5b7[_0x19992e(0x72)]){yushekg=0x0,ys[0x1]=_0x54a5b7[_0x19992e(0xb2)];let _0x485312={'name':ys[0x0],'gjc':ys[0x1]};shuju[_0x19992e(0xe6)][_0x19992e(0xcc)](_0x485312),console['log'](shuju);var _0x4b0c84=JSON[_0x19992e(0xf3)](shuju);_0x1f5aaa[_0x19992e(0xae)](_0x203588,_0x4b0c84,_0xb23a72=>{const _0x52419c=_0x19992e;if(_0xb23a72)throw _0xb23a72;console[_0x52419c(0x100)](_0x52419c(0xaf)),_0x54a5b7['reply']('新增预设成功');});return;}}async[_0xc9fb07(0x112)](_0x233f2e){const _0x29f512=_0xc9fb07;_0x233f2e[_0x29f512(0xb2)]['includes'](_0x29f512(0x12c))&_0x233f2e[_0x29f512(0x72)]&&(_0x233f2e['reply'](_0x29f512(0x89)),pc=_0x233f2e[_0x29f512(0xb2)][_0x29f512(0x109)](/#新增屏蔽词/g,'')['trim']()),_0x233f2e[_0x29f512(0xb2)]==_0x29f512(0xde)&_0x233f2e[_0x29f512(0x72)]&&_0x233f2e[_0x29f512(0x14a)]([_0x29f512(0x10a),pc]),_0x233f2e[_0x29f512(0xb2)][_0x29f512(0x12a)](_0x29f512(0x71))&_0x233f2e['isMaster']&&(_0x233f2e['reply'](_0x29f512(0x108)+_0x29f512(0x9a)),pc=''),_0x233f2e['msg'][_0x29f512(0x12a)](_0x29f512(0x95))&_0x233f2e['isMaster']&&(_0x233f2e[_0x29f512(0x14a)]('已经开启默认屏蔽词'),pc=_0x29f512(0x12f));}async[_0xc9fb07(0xe1)](_0x3fd6d7){const _0x546a4d=_0xc9fb07;_0x3fd6d7[_0x546a4d(0xb2)]==_0x546a4d(0x8c)&_0x3fd6d7[_0x546a4d(0x72)]&&(_0x3fd6d7[_0x546a4d(0x14a)](_0x546a4d(0x97)),ss='nai-diffusion');_0x3fd6d7[_0x546a4d(0xb2)]==_0x546a4d(0xa3)&_0x3fd6d7[_0x546a4d(0x72)]&&(_0x3fd6d7[_0x546a4d(0x14a)](_0x546a4d(0x147)),ss=_0x546a4d(0xb7));await dqpz();if(_0x3fd6d7[_0x546a4d(0xb2)][_0x546a4d(0x12a)]('#土块画图冷却关闭')&_0x3fd6d7[_0x546a4d(0x72)]){nr[0x3]=0x0,nr[0x0]=0x0,_0x1f5aaa[_0x546a4d(0xb5)](Path,nr['toString'](),_0x546a4d(0x6e)),cd=0x0,kg2=0x0,kg=0x0,sc=0x0,iscd=0x0,_0x3fd6d7[_0x546a4d(0x14a)]('已关闭画图冷却');return;}if(_0x3fd6d7[_0x546a4d(0xb2)][_0x546a4d(0x12a)](_0x546a4d(0x107))&_0x3fd6d7['isMaster']){nr[0x0]=0x7530,nr[0x3]=0x1,_0x1f5aaa[_0x546a4d(0xb5)](Path,nr[_0x546a4d(0xb0)](),_0x546a4d(0x6e)),cd=0x7530,_0x3fd6d7[_0x546a4d(0x14a)](_0x546a4d(0xcd));return;}if(_0x3fd6d7[_0x546a4d(0xb2)][_0x546a4d(0x12a)](_0x546a4d(0x8b))&_0x3fd6d7[_0x546a4d(0x72)]){let _0x2d155b=_0x3fd6d7[_0x546a4d(0xb2)][_0x546a4d(0x109)](/#土块画图冷却/g,'')['trim']();cd=Number(_0x2d155b)*0x3e8,nr[0x0]=cd,nr[0x3]=0x1,_0x1f5aaa[_0x546a4d(0xb5)](Path,nr[_0x546a4d(0xb0)](),'utf-8'),_0x3fd6d7[_0x546a4d(0x14a)]('已设置冷却时间为'+_0x2d155b+'秒');}if(_0x3fd6d7[_0x546a4d(0xb2)][_0x546a4d(0x12a)](_0x546a4d(0xdf))&_0x3fd6d7[_0x546a4d(0x72)]){nr[0x2]=0x0,_0x1f5aaa[_0x546a4d(0xb5)](Path,nr[_0x546a4d(0xb0)](),_0x546a4d(0x6e)),isch=0x0,_0x3fd6d7[_0x546a4d(0x14a)](_0x546a4d(0xd0));return;}if(_0x3fd6d7[_0x546a4d(0xb2)]['includes'](_0x546a4d(0x11d))&_0x3fd6d7[_0x546a4d(0x72)]){isch=0x1,nr[0x1]=0x7530,nr[0x2]=0x1,_0x1f5aaa[_0x546a4d(0xb5)](Path,nr[_0x546a4d(0xb0)](),_0x546a4d(0x6e)),timeout=0x7530,_0x3fd6d7[_0x546a4d(0x14a)](_0x546a4d(0xa2));return;}if(_0x3fd6d7['msg']['includes'](_0x546a4d(0x9d))&_0x3fd6d7[_0x546a4d(0x72)]){isch=0x1;let _0xe5bea9=_0x3fd6d7['msg']['replace'](/#土块画图撤回/g,'')[_0x546a4d(0xc7)]();timeout=Number(_0xe5bea9)*0x3e8,nr[0x1]=timeout,nr[0x2]=0x1,_0x1f5aaa['writeFileSync'](Path,nr[_0x546a4d(0xb0)](),_0x546a4d(0x6e)),_0x3fd6d7[_0x546a4d(0x14a)](_0x546a4d(0x7f)+_0xe5bea9+'秒');}_0x3fd6d7['msg']==_0x546a4d(0xd9)&&(kg=0x0,sc=0x0,zt=0x0,id='',console[_0x546a4d(0x100)](_0x546a4d(0x121)),kg2=0x0,_0x3fd6d7[_0x546a4d(0x14a)](_0x546a4d(0x10b))),_0x3fd6d7[_0x546a4d(0xb2)]==_0x546a4d(0x13b)&_0x3fd6d7[_0x546a4d(0x72)]&&(_0x3fd6d7[_0x546a4d(0x14a)](_0x546a4d(0xa9)),zr=0x0),_0x3fd6d7[_0x546a4d(0xb2)]==_0x546a4d(0x11a)&_0x3fd6d7[_0x546a4d(0x72)]&&(_0x3fd6d7[_0x546a4d(0x14a)](_0x546a4d(0xe0)),zr=0x1);}async['huatu3'](_0x595821){const _0x5b6a37=_0xc9fb07;if(_0x595821[_0x5b6a37(0xeb)]!=undefined&zt==0x0&mfkg==0x0)return![];if(_0x595821[_0x5b6a37(0xeb)]==undefined&_0x595821[_0x5b6a37(0xb2)]!=undefined){if(_0x595821['msg']['includes'](_0x5b6a37(0x120))==![]&_0x595821['img']==undefined&zt==0x0&_0x595821[_0x5b6a37(0xb2)][_0x5b6a37(0x12a)](_0x5b6a37(0xda))==![]&mfkg==0x0)return![];}mfkg==0x0&_0x595821['msg']=='#查看魔法'&&(mfkg=0x1,mfid=_0x595821['user_id'],_0x595821['reply'](_0x5b6a37(0xe8)),mf=setTimeout(()=>{const _0x232f95=_0x5b6a37;if(mfkg==0x1){mfkg=0x0,_0x595821[_0x232f95(0x14a)]('15秒还未发图，查看魔法已取消');return;}},0x3a98));if(_0x595821['img']!=undefined&mfkg==0x1&mfid==_0x595821[_0x5b6a37(0x140)]){clearTimeout(mf),_0x595821[_0x5b6a37(0x14a)](_0x5b6a37(0xd2)),mfkg=0x0,mfid='';let _0x1b1fb3=_0x5b6a37(0x79);console[_0x5b6a37(0x100)](_0x595821[_0x5b6a37(0xeb)]),_0x1b1fb3=_0x1b1fb3+_0x595821[_0x5b6a37(0xeb)][0x0],res=await _0x123ac1(_0x1b1fb3,{'method':_0x5b6a37(0xc2),'headers':{'Content-Type':_0x5b6a37(0xf8),'User-Agent':_0x5b6a37(0xb8)}});let _0x312429=await res[_0x5b6a37(0x103)]();console[_0x5b6a37(0x100)](_0x5b6a37(0x101)+_0x312429),console[_0x5b6a37(0x100)](_0x312429);if(_0x312429!=undefined)_0x595821[_0x5b6a37(0x14a)](_0x312429[_0x5b6a37(0xc9)],!![]),_0x312429[_0x5b6a37(0x145)]==-0x1&&(_0x595821['reply']('访问失败了,QAQ,TvT'),mfkg=0x0,mfid='');else{}}if(_0x595821['img']==undefined&zt==0x1)return![];if(_0x595821[_0x5b6a37(0xeb)]==undefined&_0x595821[_0x5b6a37(0xb2)]!=undefined){dqpz();if(_0x595821['msg'][_0x5b6a37(0x12a)](_0x5b6a37(0x118))&_0x595821['isMaster']){xsd=Number(_0x595821[_0x5b6a37(0xb2)][_0x5b6a37(0x109)](/#以图生草相似度/g,'')['trim']())/0x64,_0x595821[_0x5b6a37(0x14a)](_0x5b6a37(0xfa)+String(xsd)),console[_0x5b6a37(0x100)](xsd);return;}if(_0x595821[_0x5b6a37(0xb2)][_0x5b6a37(0x12a)](_0x5b6a37(0x137))&_0x595821[_0x5b6a37(0x72)]){jz=Number(_0x595821[_0x5b6a37(0xb2)][_0x5b6a37(0x109)](/#以图生草降噪/g,'')[_0x5b6a37(0xc7)]())/0x64,_0x595821[_0x5b6a37(0x14a)]('当前降噪'+String(jz)),console[_0x5b6a37(0x100)](jz);return;}if(zt==0x0&&sc==0x0&&_0x595821[_0x5b6a37(0xb2)][_0x5b6a37(0x12a)](_0x5b6a37(0x120))){if(_0x595821[_0x5b6a37(0x7c)]){_0x595821[_0x5b6a37(0x14a)](_0x5b6a37(0xce));return;}dqpz();const {machineId:_0x429ce6,machineIdSync:_0x2aa611}=require(_0x5b6a37(0x91));htm=_0x2aa611();try{htm2=_0x1f5aaa['readFileSync'](_0x5b6a37(0x70));}catch{_0x595821[_0x5b6a37(0x14a)](_0x5b6a37(0xa8));return;}htm2==htm&&(htm2='');htm2=htm2[_0x5b6a37(0xb0)](),htm2=htm2['replace'](/]Q/g,'a')[_0x5b6a37(0xc7)](),htm2=htm2[_0x5b6a37(0x109)](/\[W/g,'c')[_0x5b6a37(0xc7)](),htm2=htm2[_0x5b6a37(0x109)](/\*T/g,'e')[_0x5b6a37(0xc7)](),htm2=htm2[_0x5b6a37(0x109)](/\-R/g,'g')['trim'](),htm2=htm2[_0x5b6a37(0x109)](/\*Z/g,'1')['trim'](),htm2=htm2[_0x5b6a37(0x109)](/\+X/g,'2')['trim'](),htm2=htm2['replace'](/\-C/g,'3')[_0x5b6a37(0xc7)](),htm2=htm2['replace'](/\)V/g,'4')['trim'](),htm2=htm2[_0x5b6a37(0x109)](/\&Z/g,'9')[_0x5b6a37(0xc7)](),htm2=htm2[_0x5b6a37(0x109)](/\^X/g,'8')[_0x5b6a37(0xc7)](),htm2=htm2['replace'](/\%C/g,'7')[_0x5b6a37(0xc7)](),htm2=htm2[_0x5b6a37(0x109)](/\$V/g,'6')[_0x5b6a37(0xc7)]();if(htm!=htm2){_0x595821[_0x5b6a37(0x14a)](_0x5b6a37(0xf2));return;}console[_0x5b6a37(0x100)](_0x5b6a37(0xf7)),id=_0x595821[_0x5b6a37(0x140)],gjc2=_0x595821[_0x5b6a37(0xb2)][_0x5b6a37(0x109)](/#以图生草/g,'')[_0x5b6a37(0xc7)]();var _0x20b438=new RegExp(_0x5b6a37(0x6d),'g');if(_0x20b438[_0x5b6a37(0x11f)](gjc2)){console[_0x5b6a37(0x100)]('包含中文');let _0x81c823=_0x5b6a37(0xbb)+gjc2,_0x2fef56=await _0x123ac1(_0x81c823),_0x5e72c4=await _0x2fef56['text']();_0x5e72c4=_0x5e72c4[_0x5b6a37(0x109)](/有道翻译查询结果/g,'')[_0x5b6a37(0xc7)](),_0x5e72c4=_0x5e72c4[_0x5b6a37(0x109)](/翻译后/g,'')[_0x5b6a37(0xc7)](),_0x5e72c4=_0x5e72c4['replace'](/翻译前/g,'')[_0x5b6a37(0xc7)](),_0x5e72c4=_0x5e72c4[_0x5b6a37(0x109)](/：/g,'')[_0x5b6a37(0xc7)](),_0x5e72c4=_0x5e72c4[_0x5b6a37(0x109)](new RegExp(gjc2,'g'),''),gjc2=_0x5e72c4,console['log'](gjc2);}else console['log'](_0x5b6a37(0x9e));zt=0x1,ycqx=setTimeout(()=>{const _0x320c70=_0x5b6a37;if(zt==0x1){zt=0x0,_0x595821[_0x320c70(0x14a)](_0x320c70(0x83));return;}},0x7530),_0x595821[_0x5b6a37(0x14a)]([segment['at'](id),_0x5b6a37(0xe4)]);return;}}if(sc==0x0&_0x595821[_0x5b6a37(0x148)]&zt==0x1&_0x595821[_0x5b6a37(0xeb)]!=undefined){clearTimeout(ycqx);if(_0x595821[_0x5b6a37(0x140)]==id&zt==0x1){sc=0x1;let _0x49eb26=await imgUrlToBase64(_0x595821['img'][0x0][_0x5b6a37(0x109)](/https/g,'http')[_0x5b6a37(0xc7)]()),_0x5f1cda=_0x49eb26[_0x5b6a37(0xb4)],_0x1e8d92=Math['floor'](Math[_0x5b6a37(0x80)]()*0xb6cff090);var _0x368a27={'prompt':'masterpiece,\x20best\x20quality,'+gjc2,'width':0x180,'height':0x200,'scale':guimo,'sampler':moxing,'steps':0x32,'seed':_0x1e8d92,'n_samples':0x1,'strength':0x1-xsd,'noise':jz,'ucPreset':0x0,'image':_0x5f1cda,'uc':pc};_0x595821[_0x5b6a37(0x14a)](_0x5b6a37(0xef)),zt=0x0;try{res=await _0x123ac1(_0x5b6a37(0xd3),{'method':_0x5b6a37(0x8a),'body':JSON[_0x5b6a37(0xf3)](_0x368a27),'headers':{'Content-Type':_0x5b6a37(0xf8),'User-Agent':_0x5b6a37(0xb8)}});}catch(_0x5e4348){console[_0x5b6a37(0x100)](_0x5e4348),console[_0x5b6a37(0x100)](_0x5b6a37(0x6f)),kg=0x0;return;}let _0x1749ff=await res[_0x5b6a37(0xc0)]();_0x1749ff=_0x1749ff[_0x5b6a37(0x109)](/id: 1/g,'')[_0x5b6a37(0xc7)](),_0x1749ff=_0x1749ff[_0x5b6a37(0x109)](/event: newImage/g,'')[_0x5b6a37(0xc7)](),_0x1749ff=_0x1749ff['replace'](/data:/g,'')[_0x5b6a37(0xc7)]();if(res==''){_0x595821[_0x5b6a37(0x14a)]('我没画成功，再来一次吧。');return;}_0x595821['reply']('成功了！'),await _0x1f5aaa[_0x5b6a37(0xae)]('./3.jpg',_0x1749ff[_0x5b6a37(0xb0)](),_0x5b6a37(0x13e),_0x547747=>{const _0x5f3cef=_0x5b6a37;_0x547747?console['log'](_0x5f3cef(0xa0)):console[_0x5f3cef(0x100)](_0x5f3cef(0x78));}),msg2=[segment['at'](_0x595821['user_id']),segment[_0x5b6a37(0x111)](ml+_0x5b6a37(0xcb))],await sleep(0x1f4);let _0x3bd21f=await _0x595821[_0x5b6a37(0x14a)](msg2);iscd=0x1,console['log'](_0x3bd21f[_0x5b6a37(0xab)],isch);if(_0x3bd21f&&_0x3bd21f[_0x5b6a37(0xab)]&&isch==0x1&&_0x595821[_0x5b6a37(0x148)]){let _0xffd6ed=_0x595821[_0x5b6a37(0xfc)];setTimeout(()=>{const _0x4720d9=_0x5b6a37;_0xffd6ed['recallMsg'](_0x3bd21f[_0x4720d9(0xab)]);},timeout);}startTimeMS=new Date()[_0x5b6a37(0x84)](),t=setTimeout(()=>{iscd=0x0,sc=0x0,id='';},cd);}}else{if(_0x595821[_0x5b6a37(0xeb)]==undefined&_0x595821['msg']!=undefined){if(_0x595821[_0x5b6a37(0xb2)][_0x5b6a37(0x12a)](_0x5b6a37(0x120))){if(iscd==0x1){console['log'](iscd);let _0x2ec7c4=cd-(new Date()['getTime']()-startTimeMS);_0x2ec7c4=Math['round'](_0x2ec7c4/0x3e8);if(_0x2ec7c4<0x0){sc=0x0,id='';return;}_0x595821[_0x5b6a37(0x14a)](_0x5b6a37(0x90)+String(_0x2ec7c4)+'秒可画');}else _0x595821['reply'](_0x5b6a37(0xc3));}}}}async[_0xc9fb07(0x99)](_0x3cf086){const _0xb107a1=_0xc9fb07;dqpz();const {machineId:_0xe8abfc,machineIdSync:_0x330faf}=require(_0xb107a1(0x91));htm=_0x330faf();try{htm2=_0x1f5aaa[_0xb107a1(0x102)](_0xb107a1(0x70));}catch{_0x3cf086['reply'](_0xb107a1(0xa8));return;}htm2==htm&&(htm2='');htm2=htm2[_0xb107a1(0xb0)](),htm2=htm2[_0xb107a1(0x109)](/]Q/g,'a')[_0xb107a1(0xc7)](),htm2=htm2[_0xb107a1(0x109)](/\[W/g,'c')[_0xb107a1(0xc7)](),htm2=htm2[_0xb107a1(0x109)](/\*T/g,'e')[_0xb107a1(0xc7)](),htm2=htm2[_0xb107a1(0x109)](/\-R/g,'g')[_0xb107a1(0xc7)](),htm2=htm2[_0xb107a1(0x109)](/\*Z/g,'1')['trim'](),htm2=htm2[_0xb107a1(0x109)](/\+X/g,'2')[_0xb107a1(0xc7)](),htm2=htm2[_0xb107a1(0x109)](/\-C/g,'3')[_0xb107a1(0xc7)](),htm2=htm2[_0xb107a1(0x109)](/\)V/g,'4')['trim'](),htm2=htm2[_0xb107a1(0x109)](/\&Z/g,'9')[_0xb107a1(0xc7)](),htm2=htm2['replace'](/\^X/g,'8')[_0xb107a1(0xc7)](),htm2=htm2[_0xb107a1(0x109)](/\%C/g,'7')[_0xb107a1(0xc7)](),htm2=htm2['replace'](/\$V/g,'6')['trim']();if(htm!=htm2){_0x3cf086[_0xb107a1(0x14a)](_0xb107a1(0xf2));return;}await sleep(0x1f4);if(_0x3cf086[_0xb107a1(0xb2)]['includes'](_0xb107a1(0x10c))&!_0x3cf086[_0xb107a1(0x72)]){_0x3cf086[_0xb107a1(0x14a)](_0xb107a1(0xa4));return;}let _0x197aaf,_0x10e05f,_0x43a2f6;_0x3cf086[_0xb107a1(0xb2)][_0xb107a1(0x12a)](_0xb107a1(0x10c))==![]&&(_0x43a2f6=_0x3cf086[_0xb107a1(0xb2)]['replace'](/#绘个图/g,'')['trim']());if(kg2==0x0&_0x3cf086['isGroup']|_0x3cf086[_0xb107a1(0x72)]){kg2==0x1&&_0x3cf086['reply'](_0xb107a1(0x11b));if(zr==0x1&!_0x3cf086[_0xb107a1(0x72)]){_0x3cf086[_0xb107a1(0x14a)](_0xb107a1(0xe5));return;}kg2=0x1;let _0x2ef8b5=_0x43a2f6;var _0x72f3cf=new RegExp(_0xb107a1(0x6d),'g');if(_0x72f3cf[_0xb107a1(0x11f)](_0x2ef8b5)){console[_0xb107a1(0x100)](_0xb107a1(0xd5));let _0x3e20e4=_0xb107a1(0xbb)+_0x2ef8b5,_0x2d5610=await _0x123ac1(_0x3e20e4),_0x25e7b0=await _0x2d5610[_0xb107a1(0xc0)]();_0x25e7b0=_0x25e7b0[_0xb107a1(0x109)](/有道翻译查询结果/g,'')[_0xb107a1(0xc7)](),_0x25e7b0=_0x25e7b0['replace'](/翻译后/g,'')[_0xb107a1(0xc7)](),_0x25e7b0=_0x25e7b0[_0xb107a1(0x109)](/翻译前/g,'')[_0xb107a1(0xc7)](),_0x25e7b0=_0x25e7b0['replace'](/：/g,'')[_0xb107a1(0xc7)](),_0x25e7b0=_0x25e7b0['replace'](new RegExp(_0x2ef8b5,'g'),''),res4=_0x25e7b0;if(res4==''){let _0x4e5196=_0xb107a1(0x144)+_0x43a2f6+_0xb107a1(0xec);res4=await _0x123ac1(_0x4e5196),res4=await res4[_0xb107a1(0x103)](),res4=res4['data'];}if(res4==''){let _0x563774='https://api.66mz8.com/api/translation.php?info='+_0x43a2f6;res4=await _0x123ac1(_0x563774),res4=await res4['json'](),res4=res4[_0xb107a1(0xf5)];}console[_0xb107a1(0x100)](res4);}else console[_0xb107a1(0x100)](_0xb107a1(0x9e)),res4=_0x2ef8b5;let _0xff082,_0x11b357;if(_0x3cf086[_0xb107a1(0xb2)][_0xb107a1(0x12a)](_0xb107a1(0x10c))&_0x3cf086['isMaster']){_0x10e05f=_0x3cf086['msg']['replace'](/#土块画图预设/g,'')[_0xb107a1(0xc7)]();let _0x1e73c1=ml+'/plugins/earth-k-plugin/resources/htys/ys.json';await _0x1f5aaa[_0xb107a1(0x7e)](_0x1e73c1,(_0x20efa8,_0x5258fb)=>{const _0x35093d=_0xb107a1;_0x197aaf=JSON['parse'](_0x5258fb[_0x35093d(0xb0)]()),_0x11b357=_0x197aaf[_0x35093d(0xe6)];var _0xf87626=new RegExp(_0x35093d(0x6d),'g');if(_0xf87626['test'](_0x10e05f))console[_0x35093d(0x100)](_0x35093d(0xfd)),_0xff082=_0x11b357[_0x35093d(0xb1)](_0x99e318=>_0x99e318[_0x35093d(0x114)]==_0x10e05f);else{_0xff082=Number(_0x10e05f)-0x1;if(_0xff082>_0x11b357[_0x35093d(0xb9)]){_0xff082=-0x1;return;}}}),await sleep(0x1f4),console['log'](_0xff082);if(_0xff082!=-0x1)res4=_0x11b357[_0xff082][_0xb107a1(0x10f)];else{_0x3cf086[_0xb107a1(0x14a)](_0xb107a1(0x122));return;}}await sleep(0x1f4),_0x3cf086['reply'](_0xb107a1(0x13c));let _0x491f6a=Math[_0xb107a1(0xf9)](Math['random']()*0x2);_0x491f6a==0x0&&(changdu=0x200,kuandu=0x300);_0x491f6a==0x1&&(changdu=0x300,kuandu=0x200);console[_0xb107a1(0x100)](_0x491f6a),console[_0xb107a1(0x100)](res4);var _0x1b4406=_0xb107a1(0xaa),_0xba96f=[res4,pc,_0xb107a1(0xf1),_0xb107a1(0xf1),0x14,'Euler\x20a',![],![],0x1,0x1,0x7,-0x1,-0x1,0x0,0x0,0x0,![],changdu,kuandu,![],![],0.7,_0xb107a1(0xf1),![],![],null,'',_0xb107a1(0x12e),'',_0xb107a1(0x135),'',!![],![],null,'',''],_0x22e96b=[res4,pc,_0xb107a1(0xf1),_0xb107a1(0xf1),0x1c,_0xb107a1(0xc6),![],![],0x1,0x1,0xb,-0x1,-0x1,0x0,0x0,0x0,![],0x200,0x200,![],![],0.7,_0xb107a1(0xf1),![],![],null,'',_0xb107a1(0x12e),'',_0xb107a1(0x135),'',!![],![],null,'',''];let _0x5317ea=_0xb107a1(0xac),_0x55ad4e=Math[_0xb107a1(0xf9)](Math[_0xb107a1(0x80)]()*0xb6cff090),_0x1da9b1='模型:'+moxing+_0xb107a1(0x128)+guimo[_0xb107a1(0xb0)]()+_0xb107a1(0x132)+bushu[_0xb107a1(0xb0)]()+_0xb107a1(0x126)+_0x55ad4e[_0xb107a1(0xb0)]();try{res=await _0x123ac1(_0x5317ea,{'method':_0xb107a1(0x8a),'agent':isdl?await getAgent():'','headers':{'Content-Type':_0xb107a1(0xf8),'authorization':_0xb107a1(0x116)},'body':JSON[_0xb107a1(0xf3)]({'input':_0xb107a1(0x87)+res4,'model':ss,'parameters':{'width':kuandu,'height':changdu,'scale':guimo,'sampler':moxing,'steps':bushu,'seed':_0x55ad4e,'n_samples':0x1,'ucPreset':0x0,'uc':pc}})}),console[_0xb107a1(0x100)]('访问成功了');}catch(_0x29af65){console[_0xb107a1(0x100)](_0x29af65),console[_0xb107a1(0x100)]('没有访问成功,尝试换接口'),_0x5317ea=_0xb107a1(0x139);try{res=await _0x123ac1(_0x5317ea,{'method':_0xb107a1(0x8a),'headers':{'Content-Type':'application/json','authorization':_0xb107a1(0xc1)},'body':JSON[_0xb107a1(0xf3)]({'prompt':'masterpiece,\x20best\x20quality,'+res4,'width':kuandu,'height':changdu,'scale':guimo,'sampler':moxing,'steps':0x14,'seed':_0x55ad4e,'n_samples':0x1,'ucPreset':0x0,'uc':_0xb107a1(0x125)})});}catch(_0x4048d0){console[_0xb107a1(0x100)](_0x4048d0),_0x3cf086[_0xb107a1(0x14a)]('没有访问成功哦'),kg2=0x0;return;}}res=await res[_0xb107a1(0xc0)]();if(res==_0xb107a1(0x88)){console['log'](_0xb107a1(0x149)),_0x5317ea=_0xb107a1(0x139);try{res=await _0x123ac1(_0x5317ea,{'method':_0xb107a1(0x8a),'headers':{'Content-Type':_0xb107a1(0xf8),'authorization':_0xb107a1(0xc1)},'body':JSON[_0xb107a1(0xf3)]({'prompt':_0xb107a1(0x110)+res4,'width':kuandu,'height':changdu,'scale':guimo,'sampler':_0xb107a1(0x124),'steps':0x14,'seed':_0x55ad4e,'n_samples':0x1,'ucPreset':0x0,'uc':'lowres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry'})});}catch(_0x223bd1){console[_0xb107a1(0x100)](_0x223bd1),_0x3cf086[_0xb107a1(0x14a)](_0xb107a1(0x6c)),kg2=0x0;return;}return;}if(!res['includes'](_0xb107a1(0xfb))){_0x3cf086['reply']('我没画成功，再来一次吧。'),kg2=0x0;return;}res=res['replace'](/id: 1/g,'')[_0xb107a1(0xc7)](),res=res[_0xb107a1(0x109)](/event: newImage/g,'')[_0xb107a1(0xc7)](),res=res['replace'](/data:/g,'')[_0xb107a1(0xc7)]();if(res==''){_0x3cf086[_0xb107a1(0x14a)](_0xb107a1(0xd1)),kg2=0x0;return;}await _0x1f5aaa[_0xb107a1(0xae)](_0xb107a1(0x127),res[_0xb107a1(0xb0)](),_0xb107a1(0x13e),_0x52ebc8=>{const _0x3edfb1=_0xb107a1;_0x52ebc8?console[_0x3edfb1(0x100)]('写入文件错误'):console[_0x3edfb1(0x100)](_0x3edfb1(0x78));});iscanshu==0x0&&(_0x1da9b1='');await sleep(0x1f4),msg2=[segment[_0xb107a1(0x111)](ml+_0xb107a1(0x8e)),_0x1da9b1];let _0x489f93=await _0x3cf086[_0xb107a1(0x14a)](msg2,ishuifu);iscd=0x1,console[_0xb107a1(0x100)](_0x489f93[_0xb107a1(0xab)],isch);if(_0x489f93&&_0x489f93['message_id']&&isch==0x1&&_0x3cf086['isGroup']){let _0x36e4d7=_0x3cf086[_0xb107a1(0xfc)];setTimeout(()=>{const _0x4a3011=_0xb107a1;_0x36e4d7[_0x4a3011(0x142)](_0x489f93[_0x4a3011(0xab)]);},timeout);}startTimeMS=new Date()[_0xb107a1(0x84)](),t=setTimeout(()=>{kg2=0x0,iscd=0x0;},cd);}else{if(iscd==0x1){let _0x268c41=cd-(new Date()[_0xb107a1(0x84)]()-startTimeMS);_0x268c41=Math[_0xb107a1(0x7d)](_0x268c41/0x3e8);if(_0x268c41<0x0){kg2=0x0;return;}_0x3cf086[_0xb107a1(0x14a)](_0xb107a1(0x90)+String(_0x268c41)+_0xb107a1(0x73));}else _0x3cf086['reply'](_0xb107a1(0x7a));}}}async function huoqv(_0x2d45ec){const _0x29c609=_0xc9fb07,{machineId:_0x271454,machineIdSync:_0x1ebfec}=require(_0x29c609(0x91));_0x271454()[_0x29c609(0x98)](_0x4e3135=>{htm=_0x4e3135;});}function _0x16b2(_0x298853,_0x1364fe){const _0x276872=_0x4d76();return _0x16b2=function(_0x299a0d,_0x182d73){_0x299a0d=_0x299a0d-0x6c;let _0x5cc674=_0x276872[_0x299a0d];return _0x5cc674;},_0x16b2(_0x298853,_0x1364fe);}function _0x4d76(){const _0x568b49=['base64','模型已设置为k_euler','user_id','^#土块画图规模(.*)','recallMsg','bot','\x20http://www.iinside.cn:7001/api_req?reqmode=nmt_mt5_jez&password=3652&text=','code','\x0a降噪：','好的，已关闭了','isGroup','没有访问成功,尝试换接口','reply','ddim','没有访问成功哦','[\x5cu4E00-\x5cu9FFF]+','utf-8','没有访问成功','./resources/th.txt','#删除屏蔽词','isMaster','秒可画','catch','info','模型已设置为ddim','k_lms','写入文件成功','https://xiaobapi.top/api/xb/api/upload_image_tags.php?url=','正在画图中，我知道你很急，但是你先别急。','#查看所有模型','isPrivate','round','readFile','已设置撤回时间为','random','^#新增屏蔽词(.*)$|#查看屏蔽词$|#删除屏蔽词$|#开启默认屏蔽词$','602772latOQT','30秒还未发图，以图生草已取消','getTime','#删除预设','3841904toEnEH','masterpiece,\x20best\x20quality,\x20','{\x22error\x22:\x22unknown\x20error\x22}','新增屏蔽词成功','post','#土块画图冷却','#土块画图涩涩开启','已关闭参数显示','/5.png','(((.+)+)+)+$','我在cd中，还有','node-machine-id','concat','1056590goKLAW','http','#开启默认屏蔽词','28DuQlht','好的，已开启，请注意身体哦','then','huatu2','我知道你要干嘛！注意身体！','console','data','#土块画图撤回','是英文','bind','写入文件错误','步数已设置为','已开启画图撤回，撤回时间为30秒','#土块画图涩涩关闭','你不是主人，不能用预设哦','#查看预设','630961KuMhYX','search','暂未激活该功能哦','好吧，那就一起来吧！','abc','message_id','https://api.novelai.net/ai/generate-image\x20','123','writeFile','文件写入成功！','toString','findIndex','msg','528170FuIici','base64Img','writeFileSync','message','safe-diffusion','Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36','length','/plugins/earth-k-plugin/resources/htys/ys.json','https://api.sdgou.cc/api/fanyi/?msg=','336CwxFFr','已关闭词条回复','步数不在合理范围内，28以下为合理范围','k_euler','text','Bearer','get','正在生草中，我知道你很急，先别急','end','64743TqVIUH','Euler\x20a','trim','模型已设置为k_euler_ancestral','tags','cwd','/3.jpg','push','已开启画图冷却，冷却时间为30秒','以图生草暂不支持私聊','return\x20(function()\x20','已关闭画图撤回','我没画成功，再来一次吧。','正在查看魔法，请稍后啊，0v0','http://119.29.118.238:6690/generate-stream\x20','szgm','包含中文','nai-diffusion','prototype','szbs','#取消画图','#查看魔法','splice','#新增预设','exception','#查看屏蔽词','#土块画图撤回关闭','好的，权限已经关闭，只有你能画了','qvht','url','^#以图生草(.*)$|(.*)','请发送图片','对不起，你不可画哦','shuju','./plugins/earth-k-plugin/resources/aiht/ml.html','请发送要查看魔法的图片,0.0','#开启词条回复','{}.constructor(\x22return\x20this\x22)(\x20)','img','&order=zh2en','模型：','ysgn','好的，我开始以图生草了','已关闭代理','None','你还不能使用此功能哦，暂未激活。','stringify','^#土块画图模型(.*)|^#查看所有模型','fanyi','#查看预设词条','以图生草','application/json','floor','当前相似度','event:\x20newImage','group','预设包含中文','plms','warn','log','魔法是：','readFileSync','json','kqdl','规模已设置为','http://0.0.0.0:0','#土块画图冷却开启','删除屏蔽词成功','replace','当前屏蔽词有：','已取消当前画图','#土块画图预设','huatu3','\x0a步数：','gjc','masterpiece,\x20best\x20quality,','image','pbc','#关闭词条回复','name','__proto__','Bearer\x20eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImlRWFFJd1N1TVhsNGp6ZHVQN0J4OCIsIm5jIjoiMlJNQVBVdFZLRDUyaThtNjY2c2lkIiwiaWF0IjoxNjY3OTY4MDMzLCJleHAiOjE2NzA1NjAwMzN9.LSFyfUAeNHB2broFyokyrczAteEk0XECDZzBe4li8-A','^#绘个图(.*)$|#土块画图预设(.*)$','#以图生草相似度','已开启参数显示','#仅我可画','你是主人，没有cd，欸嘿','/plugins/earth-k-plugin/resources/pz/pz.txt','#土块画图撤回开启','请添加预设关键词','test','#以图生草','已经取消','没有这个预设哦','constructor','k_euler_ancestral','lowres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','\x20\x20\x20\x20\x20\x20\x20\x20|seed:','./5.png','\x20\x20\x20|规模:','1650546QnoIbF','includes','szmx','#新增屏蔽词','#关闭代理','Seed','lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','\x0a规模：','https-proxy-agent','\x20\x0a步数:','#开启参数显示','删除预设成功','Steps','\x0a相似度：','#以图生草降噪','规模不在合理范围内，3-12为合理范围','http://119.29.118.238:6690/generate-stream','error','#所有人可画','好的，我开始画图了，请稍等哦','split'];_0x4d76=function(){return _0x568b49;};return _0x4d76();}async function imgUrlToBase64(_0xd9e990){let _0x14a531;return new Promise(function(_0x4b548e,_0x593b7d){const _0x2a7bfa=_0x16b2;let _0xd7f74f=http[_0x2a7bfa(0xc2)](_0xd9e990,function(_0x372e81){const _0x30a74d=_0x2a7bfa;var _0x2f78b9=[],_0xbc720b=0x0;_0x372e81['on'](_0x30a74d(0x9c),function(_0x1d58b8){const _0x22c98e=_0x30a74d;_0x2f78b9[_0x22c98e(0xcc)](_0x1d58b8),_0xbc720b+=_0x1d58b8[_0x22c98e(0xb9)];}),_0x372e81['on'](_0x30a74d(0xc4),function(_0x4712c3){const _0x472c1e=_0x30a74d;var _0x1dab25=Buffer[_0x472c1e(0x92)](_0x2f78b9,_0xbc720b);_0x14a531=_0x1dab25[_0x472c1e(0xb0)](_0x472c1e(0x13e)),_0x4b548e({'success':!![],'base64Img':_0x14a531});});});_0xd7f74f['on']('error',_0x5c38b4=>{const _0x21ed01=_0x2a7bfa;_0x4b548e({'success':![],'errmsg':_0x5c38b4[_0x21ed01(0xb6)]});}),_0xd7f74f[_0x2a7bfa(0xc4)]();});}function sleep(_0x438cb8){return new Promise(_0x501769=>setTimeout(_0x501769,_0x438cb8));}async function dqpz(){const _0xe78e28=_0xc9fb07;Path=ml+_0xe78e28(0x11c),await _0x1f5aaa[_0xe78e28(0x7e)](Path,(_0x2264dc,_0x46c473)=>{const _0x67c05f=_0xe78e28;nr=_0x46c473[_0x67c05f(0xb0)](),nr=nr[_0x67c05f(0x13d)](','),cd=nr[0x0],timeout=nr[0x1],isch=nr[0x2],iscd=nr[0x3],console['log'](cd,timeout,isch,iscd);}),await sleep(0x1f4);}async function getAgent(){const _0xaebdc9=_0xc9fb07;let _0x391e08=_0x2276a1[_0xaebdc9(0x143)]['proxyAddress'];if(!_0x391e08)return null;if(_0x391e08===_0xaebdc9(0x106))return null;HttpsProxyAgent===''&&(HttpsProxyAgent=await import(_0xaebdc9(0x131))[_0xaebdc9(0x74)](_0x2719fa=>{const _0x49e463=_0xaebdc9;logger[_0x49e463(0x13a)](_0x2719fa);}),HttpsProxyAgent=HttpsProxyAgent?HttpsProxyAgent['default']:undefined);if(HttpsProxyAgent)return new HttpsProxyAgent(_0x391e08);return null;}
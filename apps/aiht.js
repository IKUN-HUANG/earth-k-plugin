const _0x2463d0=_0x1fc3;(function(_0x3e3296,_0x223fc1){const _0x2cb962={_0xc65b10:0x1cf,_0x3392a0:0x166,_0x30b4df:0x163,_0x2735f0:0xe1,_0xc25e3a:0x18a},_0x508e28=_0x1fc3,_0x3dbe58=_0x3e3296();while(!![]){try{const _0x5bb9e0=parseInt(_0x508e28(_0x2cb962._0xc65b10))/0x1+-parseInt(_0x508e28(0x1d1))/0x2+parseInt(_0x508e28(_0x2cb962._0x3392a0))/0x3+parseInt(_0x508e28(_0x2cb962._0x30b4df))/0x4*(-parseInt(_0x508e28(0xff))/0x5)+parseInt(_0x508e28(0x1ae))/0x6+parseInt(_0x508e28(_0x2cb962._0x2735f0))/0x7+-parseInt(_0x508e28(_0x2cb962._0xc25e3a))/0x8;if(_0x5bb9e0===_0x223fc1)break;else _0x3dbe58['push'](_0x3dbe58['shift']());}catch(_0x1fbbab){_0x3dbe58['push'](_0x3dbe58['shift']());}}}(_0x3348,0x6c630));import{segment}from'oicq';import _0x505f2d from'node-fetch';import _0x1c4cbf from'image-size';import _0x29ebd1 from'fs';import _0x46ad5c from'../../../lib/config/config.js';import{getdsc}from'../../../plugins/earth-k-plugin/resources/getecy.js';import _0x2c59fa from'../../../lib/puppeteer/puppeteer.js';let data1={};import{createRequire}from'module';function _0x3348(){const _0xa0287=['已经开启默认屏蔽词','images','请发送要查看魔法的图片,0.0','masterpiece,\x20best\x20quality,','正在查看魔法，请稍后啊，0v0','parse','二次元的空气吗？你艾特谁了？','采样已设置为DPM++\x202S\x20a\x20Karras','./resources/3.jpg','这个密钥已经被激活了，你想干嘛！','#填写sk','步数已设置为','None','https://www.tukuai.one/ytsc.php','规模已设置为','填写ak成功','end','szmx','timeout','DPM++\x202S\x20a','已开启画图冷却，冷却时间为30秒','#以图生草降噪','./resources/ht.png','tsc','wdecy','replace','sendMsg','#新增屏蔽词','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','已激活密钥，号主为','readFileSync','采样已设置为Heun','对不起，你不可画哦','二次元的','^#填写密钥(.*)','已关闭画图撤回','已关闭参数显示','reply','\x0a规模：','Steps','步数不在合理范围内，28以下为合理范围','^#取消画图$|^#所有人可画$|^#仅我可画$|^#土块画图撤回(.*)$|^#土块画图冷却(.*)$|^#土块鉴黄开启|^#土块鉴黄关闭','^#绘个图(.*)$|#土块画图预设(.*)$','Bearer','tianxie','你是主人，没有cd，欸嘿','\x20\x20\x20|规模:','./config/config/other.yaml','shuju','image=','[\x5cu4E00-\x5cu9FFF]+','#土块鉴黄开启','pop','已激活该密钥','includes','#关闭参数显示','你还没有填写密钥哦。','https://aip.baidubce.com/rest/2.0/solution/v1/img_censor/v2/user_defined?access_token=','isMaster','#关闭代理','^#填写ak(.*)|#填写sk(.*)','DPM++\x202M','get','data','#土块画图预设','数字超过了预设个数','szgm','^#查看模型','123','random','成功了！','txak','proxyAddress','DPM++\x202S\x20a\x20Karras','https://www.tukuai.one/wj.php','error','\x20\x20\x20\x20\x20\x20\x20\x20|seed:','writeFile','/plugins/earth-k-plugin/resources/htys/ys.json','http','abc','length','base64Img','#取消画图','#删除预设','https://api.novelai.net/ai/generate-image\x20','#所有人可画','访问成功了','#查看预设','isPrivate','340lkVKFv','^#我的二次元','split','1472103GFEkuF','getChatHistory','你不是主人，不能用预设哦','img','masterQQ','ckmx','gjc','没有这个序号哦','toString','又画涩图！你画涩图我已经发给主人了，别再画了！','seq','base64','采样已设置为DDMI','密钥不存在！不能乱输入哦','time','正在画图中，我知道你很急，但是你先别急。','push','Euler','./resources/th2.txt','密钥不存在','member','test','user_id','Seed','#开启参数显示','秒可画','采样已设置为Euler\x20a','可以访问','application/json','msg','substring','\x0a步数：','url','round','friend','已设置冷却时间为','1057880aEPnOF','./plugins/earth-k-plugin/config/config.yaml','已开启词条回复','text','采样已设置为DPM++\x202S\x20a','isGroup','已关闭代理','lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','best\x20quality','在画涩图被我抓到了','stringify','splice','请发送图片','http://q2.qlogo.cn/headimg_dl?dst_uin=','writeFileSync','http://www.tukuai.one/wj.php','#土块画图冷却','readFile','#查看屏蔽词','post','width','&spec=5','recallMsg','kqdl','log','Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36','findIndex','pickUser','开启代理成功','data:image/jpeg;base64,','cwd','采样已设置为Euler','DDMI','报告主人\x0a','好的，我开始以图生草了','#以图生草','1273176AFSAaG','tags','message_id','#新增预设','image','当前预设有：\x0a','./resources/yb.png','DPM++\x202M\x20Karras','#查看预设词条','写入文件成功','^#图生草(.*)','你还没有配置百度鉴黄api，看教程：https://www.wolai.com/fFYRjryGk8ktsVvTWjgK5i','#以图生草相似度','#查看画图设置','\x20\x0a步数:','群号：','规模不在合理范围内，3-12为合理范围','#土块画图冷却开启','已开启画图撤回，撤回时间为30秒','不合规','isch','包含中文','huatu2','floor','好的，开启鉴黄了','./plugins/earth-k-plugin/resources/aiht/mx.html','删除预设成功','huatu3','bot','你好号主，成功再次激活','code','group','screenshot','94027YNhegW','你好号主','952494dwhByo','json','新增预设成功','预设包含中文','#土块画图撤回关闭','height','https://api.sdgou.cc/api/fanyi/?msg=','^#土块画图采样(.*)|^#查看所有采样','没有这个预设哦','^#新增屏蔽词(.*)$|#查看屏蔽词$|#删除屏蔽词$|#开启默认屏蔽词$','魔法是：','Resize\x20and\x20fill','group_id','采样已设置为DPM++\x202M\x20Karras','source','已关闭词条回复','iscd','name','^#二次元的他(.*)','昵称：','#填写ak','好的，权限已经关闭，只有你能画了','#关闭词条回复','szbs','2561475QbwoOE','POST','ysgn','当前相似度','https://www.tukuai.one//qx.php?tk=','\x0a相似度：','我知道你要干嘛！注意身体！','#查看魔法','请添加预设关键词','/resources/3.jpg','新增屏蔽词成功','access_token','#开启默认屏蔽词','ecydt','以图生草','getTime','我在cd中，还有','concat','utf8','&qq=','qvht','该密钥已被激活','type','conclusion','./plugins/earth-k-plugin/resources/aiht/ml.html','trim','写入文件错误','#土块鉴黄关闭','match','没有访问成功','6495mQJXxE','已经取消','已取消当前画图','很抱歉，你的密钥错误。','Euler\x20a','#开启词条回复','utf-8','message','nickname','采样不在合理范围内，1-8为合理范围'];_0x3348=function(){return _0xa0287;};return _0x3348();}import _0x3d55ac from'yaml';const require=createRequire(import.meta[_0x2463d0(0x186)]);let ysct,mf,mfkg=0x0,tpjc='',jsss=0x0,ml=process[_0x2463d0(0x1a8)]();var http=require(_0x2463d0(0x158));import _0x3171c7 from'lodash';let yushekg=0x0,kg=0x0,guimo=5.5,kg2=0x0,mfid='',res4,htm='',htm2='',res5,res,zr=0x0,changdu=0x200,kuandu=0x200,msg2,timeout=0x7530,isch=0x1,cd=0x0,t,startTimeMS,iscd=0x0,my,dz,sj1,sj2,shuju,zt=0x0,gjc2,sc=0x0,bushu=0x1c,id='',xsd=0.5,nr,ycqx,jz=0.2,ss=0x1,Path,ys=[],moxing='Euler\x20a',isdl=0x0,iscanshu=0x1,ishuifu=!![],HttpsProxyAgent='',chang,kuan,pc=_0x2463d0(0x191);export class aiht extends plugin{constructor(){const _0x2e2c25={_0x4251cc:0x132,_0x83b9c5:0xd2,_0x3918e1:0x14b,_0x10ed84:0x11a,_0x50284:0x135,_0x25276c:0x16b,_0x4a7a7b:0x121,_0x3c777a:0xee,_0x3a6cde:0x120,_0x474991:0x145},_0x9e7353=_0x2463d0;super({'name':'土块AI画图','dsc':'土块AI画图','event':_0x9e7353(0x106),'priority':0x479,'rule':[{'reg':_0x9e7353(0x133),'fnc':_0x9e7353(0x1c4)},{'reg':_0x9e7353(_0x2e2c25._0x4251cc),'fnc':'qvht'},{'reg':_0x9e7353(_0x2e2c25._0x83b9c5),'fnc':'pbc'},{'reg':'^#以图生草(.*)$|(.*)','fnc':_0x9e7353(0x1c9),'log':![]},{'reg':'^#查看所有预设$|#新增预设(.*)|(.*)','fnc':'ysgn','log':![]},{'reg':'^#土块画图规模(.*)','fnc':_0x9e7353(_0x2e2c25._0x3918e1)},{'reg':_0x9e7353(0xd0),'fnc':_0x9e7353(_0x2e2c25._0x10ed84)},{'reg':'^#土块画图步数(.*)|^#查看画图设置','fnc':_0x9e7353(0xe0)},{'reg':'^#开启代理|^#关闭代理|^#开启参数显示|^#关闭参数显示|^#开启词条回复|^#关闭词条回复','fnc':'kqdl'},{'reg':_0x9e7353(0x12b),'fnc':_0x9e7353(_0x2e2c25._0x50284)},{'reg':_0x9e7353(0x14c),'fnc':_0x9e7353(_0x2e2c25._0x25276c)},{'reg':_0x9e7353(0x164),'fnc':_0x9e7353(_0x2e2c25._0x4a7a7b)},{'reg':_0x9e7353(0xdb),'fnc':_0x9e7353(_0x2e2c25._0x3c777a)},{'reg':_0x9e7353(0x1b8),'fnc':_0x9e7353(_0x2e2c25._0x3a6cde)},{'reg':_0x9e7353(_0x2e2c25._0x474991),'fnc':_0x9e7353(0x150)}]});}async[_0x2463d0(0x150)](_0x5d4d5b){const _0x143c54={_0x11ddff:0x13f,_0x238ee9:0xdd,_0x17ae32:0x10e,_0x21d561:0x122,_0x40920c:0xfa,_0x392161:0x12e,_0xa5c1a0:0x118,_0x1869db:0x127,_0x1afe9b:0x18b,_0x3f9026:0xf3,_0x4aabc1:0x183},_0x5a5c20=_0x2463d0;if(_0x5d4d5b['msg'][_0x5a5c20(_0x143c54._0x11ddff)](_0x5a5c20(_0x143c54._0x238ee9))){let _0x411480=_0x3d55ac[_0x5a5c20(_0x143c54._0x17ae32)](_0x29ebd1[_0x5a5c20(0x127)]('./plugins/earth-k-plugin/config/config.yaml',_0x5a5c20(0xf3))),_0x1f9216=_0x5d4d5b['msg'][_0x5a5c20(_0x143c54._0x21d561)](/#填写ak/g,'')[_0x5a5c20(_0x143c54._0x40920c)]();_0x411480['ak']=_0x1f9216,_0x29ebd1[_0x5a5c20(0x198)](_0x5a5c20(0x18b),_0x3d55ac['stringify'](_0x411480)),_0x5d4d5b[_0x5a5c20(_0x143c54._0x392161)](_0x5a5c20(_0x143c54._0xa5c1a0));}if(_0x5d4d5b['msg']['includes'](_0x5a5c20(0x113))){let _0x1b455c=_0x3d55ac[_0x5a5c20(0x10e)](_0x29ebd1[_0x5a5c20(_0x143c54._0x1869db)](_0x5a5c20(_0x143c54._0x1afe9b),_0x5a5c20(_0x143c54._0x3f9026))),_0x3b8c00=_0x5d4d5b[_0x5a5c20(_0x143c54._0x4aabc1)][_0x5a5c20(0x122)](/#填写sk/g,'')['trim']();_0x1b455c['sk']=_0x3b8c00,_0x29ebd1[_0x5a5c20(0x198)](_0x5a5c20(0x18b),_0x3d55ac[_0x5a5c20(0x194)](_0x1b455c)),_0x5d4d5b[_0x5a5c20(0x12e)]('填写sk成功');}}async[_0x2463d0(0x120)](_0x5d56e4){const _0x5bbb2c={_0x450670:0x12e,_0x3def44:0x141,_0x231ce4:0x138,_0x338ac4:0xf3,_0x3a6324:0xe5,_0x93adfe:0x1a2,_0x2af1b1:0x160,_0x12bead:0x18d,_0x51d7a8:0x181,_0x1d9638:0x1a2,_0x38bab2:0x183,_0x24e715:0xfa,_0x9b2e6e:0x1cd,_0x1bc171:0x167,_0xeac02f:0x106,_0x8b26af:0x106,_0x1be3ac:0x169,_0x435706:0x186,_0xf62f3e:0x19f,_0x1f1dcc:0x122,_0xc46099:0xfa,_0x373718:0x15b,_0xf78fd:0x1b4,_0x3677af:0xce,_0x24ad7f:0x1c5,_0x300f69:0x1a2,_0x43a9fa:0x1a7,_0xcdabb:0xd4,_0x15090b:0x103,_0x123591:0x194,_0x4b2367:0x1a3,_0x248dbd:0xfe,_0x2bfcdc:0x10a,_0x1f6578:0x111,_0x2742a3:0x12e,_0x214b6d:0xdc,_0x2ca5d0:0x1bd,_0x510a1b:0xda,_0xebaf5b:0x193,_0x5c518f:0x111,_0x332c56:0x1b2},_0x2f835b={_0x241fa5:0xfb,_0x5b8aa1:0x1b7},_0x679dae={_0x7f5416:0xfb},_0x5feb4a=_0x2463d0;let _0x2efc42='';try{_0x2efc42=_0x29ebd1[_0x5feb4a(0x127)](_0x5feb4a(0x178));}catch{_0x5d56e4[_0x5feb4a(_0x5bbb2c._0x450670)](_0x5feb4a(_0x5bbb2c._0x3def44));return;}_0x2efc42=_0x2efc42[_0x5feb4a(0x16e)]();let _0xd1ed07=_0x3d55ac[_0x5feb4a(0x10e)](_0x29ebd1[_0x5feb4a(0x127)](_0x5feb4a(_0x5bbb2c._0x231ce4),_0x5feb4a(_0x5bbb2c._0x338ac4)));_0xd1ed07=_0xd1ed07[_0x5feb4a(0x16a)][0x0];try{let _0x409ae5=_0x5feb4a(_0x5bbb2c._0x3a6324)+_0x2efc42+_0x5feb4a(0xf4)+String(_0xd1ed07);res=await _0x505f2d(_0x409ae5,{'agent':isdl?await getAgent():''}),console[_0x5feb4a(_0x5bbb2c._0x93adfe)](_0x5feb4a(_0x5bbb2c._0x2af1b1));}catch(_0x417f02){console[_0x5feb4a(0x1a2)](_0x417f02),console[_0x5feb4a(0x1a2)](_0x5feb4a(0xfe));}res=await res[_0x5feb4a(_0x5bbb2c._0x12bead)]();if(res['includes'](_0x5feb4a(_0x5bbb2c._0x51d7a8))==![]){_0x5d56e4[_0x5feb4a(0x12e)](_0x5feb4a(0x102)),console[_0x5feb4a(_0x5bbb2c._0x1d9638)](res);return;}let _0x20cb7d=_0x5d56e4[_0x5feb4a(_0x5bbb2c._0x38bab2)][_0x5feb4a(0x122)](/#图生草/g,'')[_0x5feb4a(_0x5bbb2c._0x24e715)](),_0x40b8ef;if(_0x5d56e4['source']){_0x5d56e4['isGroup']?_0x40b8ef=(await _0x5d56e4[_0x5feb4a(_0x5bbb2c._0x9b2e6e)][_0x5feb4a(_0x5bbb2c._0x1bc171)](_0x5d56e4[_0x5feb4a(0xd7)][_0x5feb4a(0x170)],0x1))[_0x5feb4a(0x13d)]()?.[_0x5feb4a(_0x5bbb2c._0xeac02f)]:_0x40b8ef=(await _0x5d56e4[_0x5feb4a(0x188)][_0x5feb4a(_0x5bbb2c._0x1bc171)](_0x5d56e4[_0x5feb4a(0xd7)]['time'],0x1))['pop']()?.[_0x5feb4a(_0x5bbb2c._0x8b26af)];if(_0x40b8ef)for(let _0x202c46 of _0x40b8ef){if(_0x202c46[_0x5feb4a(0xf7)]=='image'){_0x5d56e4[_0x5feb4a(_0x5bbb2c._0x1be3ac)]=[_0x202c46[_0x5feb4a(_0x5bbb2c._0x435706)]];break;}}}let _0x788647;if(!_0x5d56e4[_0x5feb4a(_0x5bbb2c._0x1be3ac)]){if(!_0x5d56e4['img']){let _0x28be82=_0x5d56e4['at'],_0x3944ff=_0x5feb4a(0x197)+_0x28be82+_0x5feb4a(_0x5bbb2c._0xf62f3e);_0x788647=await imgUrlToBase64(_0x3944ff);}}else _0x788647=await imgUrlToBase64(_0x5d56e4[_0x5feb4a(_0x5bbb2c._0x1be3ac)][0x0][_0x5feb4a(_0x5bbb2c._0x1f1dcc)](/https/g,_0x5feb4a(0x158))[_0x5feb4a(_0x5bbb2c._0xc46099)]());let _0x1a03d=_0x788647[_0x5feb4a(_0x5bbb2c._0x373718)];_0x29ebd1['writeFile']('./resources/yb.png',_0x1a03d[_0x5feb4a(0x16e)](),_0x5feb4a(0x171),_0x3236cc=>{const _0x4f635d=_0x5feb4a;_0x3236cc?console[_0x4f635d(0x1a2)](_0x4f635d(_0x679dae._0x7f5416)):console['log']('写入文件成功');}),await sleep(0x1f4);let _0x50826a=_0x1c4cbf(_0x5feb4a(_0x5bbb2c._0xf78fd)),_0xb154fc=_0x50826a[_0x5feb4a(_0x5bbb2c._0x3677af)],_0x43a760=_0x50826a[_0x5feb4a(0x19e)];_0xb154fc=Math['floor'](_0xb154fc/0x40),_0x43a760=Math[_0x5feb4a(_0x5bbb2c._0x24ad7f)](_0x43a760/0x40);let _0x32e28f;_0xb154fc>_0x43a760&&(_0x32e28f=_0xb154fc/_0x43a760,_0x43a760=0x8*0x40,_0xb154fc=Math[_0x5feb4a(_0x5bbb2c._0x24ad7f)](0x8*_0x32e28f)*0x40);_0x43a760>_0xb154fc&&(_0x32e28f=_0x43a760/_0xb154fc,_0xb154fc=0x8*0x40,_0x43a760=Math[_0x5feb4a(0x1c5)](0x8*_0x32e28f)*0x40);_0x43a760==_0xb154fc&&(_0xb154fc=0x300,_0x43a760=0x300,_0x32e28f=0x1);console[_0x5feb4a(_0x5bbb2c._0x300f69)](_0xb154fc,_0x43a760);var _0x472084={'init_images':[_0x5feb4a(_0x5bbb2c._0x43a9fa)+_0x1a03d],'denoising_strength':0.5,'prompt':_0x20cb7d,'styles':[_0x5feb4a(_0x5bbb2c._0xcdabb)],'seed':-0x1,'steps':0x28,'cfg_scale':guimo+0x2,'width':_0x43a760,'height':_0xb154fc,'negative_prompt':pc,'sampler_index':_0x5feb4a(_0x5bbb2c._0x15090b)};try{res=await _0x505f2d('https://www.tukuai.one/ytsc.php',{'method':_0x5feb4a(0x19d),'agent':isdl?await getAgent():'','body':JSON[_0x5feb4a(_0x5bbb2c._0x123591)](_0x472084),'headers':{'Content-Type':_0x5feb4a(0x182),'User-Agent':_0x5feb4a(_0x5bbb2c._0x4b2367)}});}catch(_0x4f54db){console[_0x5feb4a(0x1a2)](_0x4f54db),console[_0x5feb4a(0x1a2)](_0x5feb4a(_0x5bbb2c._0x248dbd)),kg=0x0;return;}let _0x481339=await res[_0x5feb4a(0x1d2)]();_0x481339=_0x481339[_0x5feb4a(_0x5bbb2c._0x2bfcdc)],_0x29ebd1['writeFile'](_0x5feb4a(_0x5bbb2c._0x1f6578),_0x481339['toString'](),'base64',_0x1934b0=>{const _0x32c7a9=_0x5feb4a;_0x1934b0?console['log'](_0x32c7a9(_0x2f835b._0x241fa5)):console[_0x32c7a9(0x1a2)](_0x32c7a9(_0x2f835b._0x5b8aa1));}),await sleep(0x1f4);ss==0x0&&(await main(_0x5feb4a(_0x5bbb2c._0x1f6578)),console['log'](tpjc));let _0x2d4c36;tpjc==_0x5feb4a(0x1c1)&ss==0x0?(_0x2d4c36=await _0x5d56e4[_0x5feb4a(_0x5bbb2c._0x2742a3)](_0x5feb4a(0x16f)),msg2=[_0x5feb4a(0x1ab),_0x5feb4a(_0x5bbb2c._0x214b6d)+name+'('+String(_0x5d56e4['user_id'])+')\x0a',_0x5feb4a(_0x5bbb2c._0x2ca5d0)+_0x5d56e4['group'][_0x5feb4a(_0x5bbb2c._0x510a1b)]+'('+String(_0x5d56e4['group_id'])+')\x0a',_0x5feb4a(_0x5bbb2c._0xebaf5b),segment[_0x5feb4a(0x1b2)](_0x5feb4a(_0x5bbb2c._0x5c518f))],Bot[_0x5feb4a(0x1a5)](_0xd1ed07)['sendMsg'](msg2)):(msg2=segment[_0x5feb4a(_0x5bbb2c._0x332c56)](_0x5feb4a(0x111)),await _0x5d56e4['reply'](msg2));}async[_0x2463d0(0xee)](_0x50b879){const _0x1699c3={_0x16ac1a:0x127,_0x524ba3:0x178,_0x28aaa5:0x16e,_0x3c9c83:0xf3,_0x1df21d:0xe5,_0x1e129d:0x1a2,_0x546c21:0x13f,_0x58b51c:0x12e,_0x162615:0x1cd,_0x406249:0x13d,_0x258c74:0x188,_0x42dfd3:0x174,_0x32b2e6:0x169,_0x5ba76d:0x19f,_0x58817:0x17c,_0x1a8b51:0x122,_0x3a985e:0x158,_0x372945:0xfa,_0x7695cd:0x1b4,_0x1ea6d7:0x1b4,_0x206459:0xce,_0x564cce:0x19e,_0x945e03:0x1c5,_0x2739be:0xd4,_0x457236:0x103,_0x497e22:0x116,_0x236fbe:0x156,_0xc57dae:0x111},_0x193ed1={_0x43893b:0x1a2,_0x286408:0xfb,_0x7b4d53:0x1a2},_0x2f4056={_0x23fd52:0xfb,_0x438765:0x1a2},_0x9d51b1=_0x2463d0;let _0x41b186='';try{_0x41b186=_0x29ebd1[_0x9d51b1(_0x1699c3._0x16ac1a)](_0x9d51b1(_0x1699c3._0x524ba3));}catch{_0x50b879[_0x9d51b1(0x12e)](_0x9d51b1(0x141));return;}_0x41b186=_0x41b186[_0x9d51b1(_0x1699c3._0x28aaa5)]();let _0x125b05=_0x3d55ac[_0x9d51b1(0x10e)](_0x29ebd1[_0x9d51b1(0x127)](_0x9d51b1(0x138),_0x9d51b1(_0x1699c3._0x3c9c83)));_0x125b05=_0x125b05['masterQQ'][0x0];try{let _0x355f9a=_0x9d51b1(_0x1699c3._0x1df21d)+_0x41b186+_0x9d51b1(0xf4)+String(_0x125b05);res=await _0x505f2d(_0x355f9a,{'agent':isdl?await getAgent():''}),console['log'](_0x9d51b1(0x160));}catch(_0x142cb9){console['log'](_0x142cb9),console[_0x9d51b1(_0x1699c3._0x1e129d)](_0x9d51b1(0xfe));}res=await res[_0x9d51b1(0x18d)]();if(res[_0x9d51b1(_0x1699c3._0x546c21)]('可以访问')==![]){_0x50b879['reply']('很抱歉，你的密钥错误。'),console['log'](res);return;}_0x50b879['at']==undefined&&_0x50b879[_0x9d51b1(_0x1699c3._0x58b51c)](_0x9d51b1(0x10f));let _0x4edaf2;if(_0x50b879['source']){_0x50b879[_0x9d51b1(0x18f)]?_0x4edaf2=(await _0x50b879[_0x9d51b1(_0x1699c3._0x162615)]['getChatHistory'](_0x50b879[_0x9d51b1(0xd7)]['seq'],0x1))[_0x9d51b1(_0x1699c3._0x406249)]()?.['message']:_0x4edaf2=(await _0x50b879[_0x9d51b1(_0x1699c3._0x258c74)][_0x9d51b1(0x167)](_0x50b879[_0x9d51b1(0xd7)][_0x9d51b1(_0x1699c3._0x42dfd3)],0x1))[_0x9d51b1(0x13d)]()?.['message'];if(_0x4edaf2)for(let _0x2219a4 of _0x4edaf2){if(_0x2219a4[_0x9d51b1(0xf7)]==_0x9d51b1(0x1b2)){_0x50b879[_0x9d51b1(0x169)]=[_0x2219a4[_0x9d51b1(0x186)]];break;}}}let _0x1ff07d,_0x55043a,_0x157a65;if(!_0x50b879[_0x9d51b1(_0x1699c3._0x32b2e6)]){_0x1ff07d=_0x50b879['at'];let _0x23ed0d='http://q2.qlogo.cn/headimg_dl?dst_uin='+_0x1ff07d+_0x9d51b1(_0x1699c3._0x5ba76d);_0x55043a=await imgUrlToBase64(_0x23ed0d),_0x157a65=getdsc(_0x50b879[_0x9d51b1(_0x1699c3._0x58817)]);}else _0x1ff07d=_0x50b879['at'],_0x55043a=await imgUrlToBase64(_0x50b879[_0x9d51b1(0x169)][0x0][_0x9d51b1(_0x1699c3._0x1a8b51)](/https/g,_0x9d51b1(_0x1699c3._0x3a985e))[_0x9d51b1(_0x1699c3._0x372945)]()),_0x157a65=getdsc(_0x50b879['user_id']);_0x50b879['at']==undefined&&(_0x1ff07d=0x75bcd15);let _0x4d211d=_0x55043a[_0x9d51b1(0x15b)];_0x29ebd1[_0x9d51b1(0x156)](_0x9d51b1(_0x1699c3._0x7695cd),_0x4d211d['toString'](),_0x9d51b1(0x171),_0x2fbf79=>{const _0x2bdd6e=_0x9d51b1;_0x2fbf79?console['log'](_0x2bdd6e(_0x2f4056._0x23fd52)):console[_0x2bdd6e(_0x2f4056._0x438765)](_0x2bdd6e(0x1b7));}),await sleep(0x1f4);let _0x387df8=_0x1c4cbf(_0x9d51b1(_0x1699c3._0x1ea6d7)),_0x1d9b85=_0x387df8[_0x9d51b1(_0x1699c3._0x206459)],_0x3c793d=_0x387df8[_0x9d51b1(_0x1699c3._0x564cce)];_0x1d9b85=Math[_0x9d51b1(_0x1699c3._0x945e03)](_0x1d9b85/0x40),_0x3c793d=Math['floor'](_0x3c793d/0x40);let _0x1fbfcb;_0x1d9b85>_0x3c793d&&(_0x1fbfcb=_0x1d9b85/_0x3c793d,_0x3c793d=0x8*0x40,_0x1d9b85=Math[_0x9d51b1(0x1c5)](0x8*_0x1fbfcb)*0x40);_0x3c793d>_0x1d9b85&&(_0x1fbfcb=_0x3c793d/_0x1d9b85,_0x1d9b85=0x8*0x40,_0x3c793d=Math['floor'](0x8*_0x1fbfcb)*0x40);_0x3c793d==_0x1d9b85&&(_0x1d9b85=0x300,_0x3c793d=0x300,_0x1fbfcb=0x1);console['log'](_0x1d9b85,_0x3c793d);var _0x1eaa9a={'init_images':[_0x9d51b1(0x1a7)+_0x4d211d],'denoising_strength':0.65,'prompt':_0x157a65['en'],'styles':[_0x9d51b1(_0x1699c3._0x2739be)],'seed':-0x1,'steps':0x28,'cfg_scale':guimo+0x2,'width':_0x3c793d,'height':_0x1d9b85,'negative_prompt':pc,'sampler_index':_0x9d51b1(_0x1699c3._0x457236)};try{res=await _0x505f2d(_0x9d51b1(_0x1699c3._0x497e22),{'method':'post','agent':isdl?await getAgent():'','body':JSON['stringify'](_0x1eaa9a),'headers':{'Content-Type':'application/json','User-Agent':_0x9d51b1(0x1a3)}});}catch(_0x58eb2b){console['log'](_0x58eb2b),console['log']('没有访问成功'),kg=0x0;return;}let _0x5499d7=await res[_0x9d51b1(0x1d2)]();_0x5499d7=_0x5499d7[_0x9d51b1(0x10a)],_0x29ebd1[_0x9d51b1(_0x1699c3._0x236fbe)](_0x9d51b1(_0x1699c3._0xc57dae),_0x5499d7[_0x9d51b1(0x16e)](),'base64',_0x1050ba=>{const _0x474090=_0x9d51b1;_0x1050ba?console[_0x474090(_0x193ed1._0x43893b)](_0x474090(_0x193ed1._0x286408)):console[_0x474090(_0x193ed1._0x7b4d53)](_0x474090(0x1b7));}),await sleep(0x1f4),msg2=[segment['image'](_0x9d51b1(_0x1699c3._0xc57dae)),_0x9d51b1(0x12a),segment['at'](_0x1ff07d),_0x157a65['ch']],await _0x50b879[_0x9d51b1(0x12e)](msg2);}async[_0x2463d0(0x121)](_0x4defa2){const _0x34f86b={_0x27aaa2:0x127,_0x5bdcef:0x178,_0x27b112:0x12e,_0x464e36:0x16e,_0x4d2ceb:0xf4,_0x238901:0x1a2,_0x2a6fab:0x1a2,_0x330c17:0xfe,_0x1dfebd:0x18d,_0x12759d:0x13f,_0x4c4349:0x181,_0x243485:0x12e,_0x2af193:0x17c,_0x567fac:0x134,_0x37ece8:0x156,_0x425976:0x171},_0x103e72={_0x2df750:0x1a2},_0x4877d8=_0x2463d0;let _0x5b0650='';try{_0x5b0650=_0x29ebd1[_0x4877d8(_0x34f86b._0x27aaa2)](_0x4877d8(_0x34f86b._0x5bdcef));}catch{_0x4defa2[_0x4877d8(_0x34f86b._0x27b112)](_0x4877d8(0x141));return;}_0x5b0650=_0x5b0650[_0x4877d8(_0x34f86b._0x464e36)]();let _0x41ac46=_0x3d55ac['parse'](_0x29ebd1[_0x4877d8(0x127)](_0x4877d8(0x138),_0x4877d8(0xf3)));_0x41ac46=_0x41ac46['masterQQ'][0x0];try{let _0x25c2c7='https://www.tukuai.one//qx.php?tk='+_0x5b0650+_0x4877d8(_0x34f86b._0x4d2ceb)+String(_0x41ac46);res=await _0x505f2d(_0x25c2c7,{'agent':isdl?await getAgent():''}),console[_0x4877d8(_0x34f86b._0x238901)](_0x4877d8(0x160));}catch(_0x23bd40){console[_0x4877d8(_0x34f86b._0x2a6fab)](_0x23bd40),console['log'](_0x4877d8(_0x34f86b._0x330c17));}res=await res[_0x4877d8(_0x34f86b._0x1dfebd)]();if(res[_0x4877d8(_0x34f86b._0x12759d)](_0x4877d8(_0x34f86b._0x4c4349))==![]){_0x4defa2[_0x4877d8(_0x34f86b._0x243485)]('很抱歉，你的密钥错误。'),console[_0x4877d8(0x1a2)](res);return;}let _0xba019c=getdsc(_0x4defa2[_0x4877d8(_0x34f86b._0x2af193)]),_0x1cc42b=await _0x505f2d('https://www.tukuai.one/ht.php',{'method':_0x4877d8(0xe2),'agent':isdl?await getAgent():'','headers':{'Content-Type':_0x4877d8(0x182),'authorization':_0x4877d8(_0x34f86b._0x567fac)},'body':JSON[_0x4877d8(0x194)]({'prompt':_0xba019c['en'],'width':kuandu,'height':changdu,'cfg_scale':guimo+0x2,'sampler':moxing,'steps':0x17,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0x1cc42b[_0x4877d8(0x1d2)](),res=res4['images'][0x0],_0x29ebd1[_0x4877d8(_0x34f86b._0x37ece8)]('./resources/ht.png',res['toString'](),_0x4877d8(_0x34f86b._0x425976),_0x591ea8=>{const _0x5f2a79=_0x4877d8;if(_0x591ea8)console[_0x5f2a79(_0x103e72._0x2df750)]('写入文件错误');else{}});if(iscanshu==0x0){}await sleep(0x1f4),msg2=[segment[_0x4877d8(0x1b2)](_0x4877d8(0x11f)),'二次元的',segment['at'](_0x4defa2[_0x4877d8(0x17c)]),_0xba019c['ch']],await _0x4defa2['reply'](msg2);}async[_0x2463d0(0x16b)](_0x5b827b){const _0x2e134b={_0x4029c6:0x153,_0x490e23:0x1ce,_0x5777a9:0x14d,_0x2e5253:0x12e},_0x56ec85=_0x2463d0;let _0x37917a=_0x56ec85(_0x2e134b._0x4029c6),_0x4fc6f9=await _0x505f2d(_0x37917a),_0xc08e4=await _0x4fc6f9[_0x56ec85(0x1d2)](),_0x296c27=_0xc08e4[_0x56ec85(0xda)];data1={'tplFile':_0x56ec85(0x1c7),'dz':ml,'lb':_0x296c27};let _0x22acad=await _0x2c59fa[_0x56ec85(_0x2e134b._0x490e23)](_0x56ec85(_0x2e134b._0x5777a9),{...data1});_0x5b827b[_0x56ec85(_0x2e134b._0x2e5253)](_0x22acad);}async[_0x2463d0(0x135)](_0xce1f6e){const _0x3aa41f={_0x24473e:0x10e,_0x2441b6:0xf3,_0x4ac2f1:0x16a,_0x13a7be:0x183,_0x146afd:0xfa,_0x7b0299:0xf4,_0x46ddcb:0x13f,_0x3b7c3f:0x173,_0x1690b0:0x1cb,_0xc7d227:0x178,_0x31cbba:0x105,_0x490fa3:0x13e,_0x483139:0x126,_0x254c0b:0x17c,_0x2df278:0x156,_0x5a724a:0x16e,_0x3472a3:0x13f},_0x44036d={_0x28dd14:0x1a2},_0x42b5fe=_0x2463d0;if(_0xce1f6e[_0x42b5fe(0x143)]){let _0x413927=_0x3d55ac[_0x42b5fe(_0x3aa41f._0x24473e)](_0x29ebd1[_0x42b5fe(0x127)]('./config/config/other.yaml',_0x42b5fe(_0x3aa41f._0x2441b6)));_0x413927=_0x413927[_0x42b5fe(_0x3aa41f._0x4ac2f1)][0x0],console['log'](_0x413927);let _0x33978c=_0xce1f6e[_0x42b5fe(_0x3aa41f._0x13a7be)][_0x42b5fe(0x122)](/#填写密钥/g,'')[_0x42b5fe(_0x3aa41f._0x146afd)](),_0x2e0137='https://www.tukuai.one//diqiu.php?tk='+_0x33978c+_0x42b5fe(_0x3aa41f._0x7b0299)+String(_0xce1f6e['user_id']),_0x3c1429=await _0x505f2d(_0x2e0137,{'agent':isdl?await getAgent():''}),_0x1ae76e=await _0x3c1429[_0x42b5fe(0x18d)]();if(_0x1ae76e[_0x42b5fe(_0x3aa41f._0x46ddcb)](_0x42b5fe(0x179))){_0xce1f6e[_0x42b5fe(0x12e)](_0x42b5fe(_0x3aa41f._0x3b7c3f));return;}if(_0x1ae76e['includes'](_0x42b5fe(0x1d0))){_0xce1f6e['reply'](_0x42b5fe(_0x3aa41f._0x1690b0)),await _0x29ebd1[_0x42b5fe(0x156)](_0x42b5fe(_0x3aa41f._0xc7d227),_0x33978c[_0x42b5fe(0x16e)](),_0x42b5fe(_0x3aa41f._0x31cbba),_0x28652e=>{const _0x487e46=_0x42b5fe;if(_0x28652e)console[_0x487e46(_0x44036d._0x28dd14)]('写入文件错误');else{}});return;}_0x1ae76e[_0x42b5fe(_0x3aa41f._0x46ddcb)](_0x42b5fe(_0x3aa41f._0x490fa3))&&(_0xce1f6e['reply'](_0x42b5fe(_0x3aa41f._0x483139)+String(_0xce1f6e[_0x42b5fe(_0x3aa41f._0x254c0b)])),await _0x29ebd1[_0x42b5fe(_0x3aa41f._0x2df278)](_0x42b5fe(0x178),_0x33978c[_0x42b5fe(_0x3aa41f._0x5a724a)](),_0x42b5fe(_0x3aa41f._0x31cbba),_0xb4a26=>{const _0x2d13ce=_0x42b5fe;if(_0xb4a26)console[_0x2d13ce(0x1a2)]('写入文件错误');else{}})),_0x1ae76e[_0x42b5fe(_0x3aa41f._0x3472a3)](_0x42b5fe(0xf6))&&_0xce1f6e[_0x42b5fe(0x12e)](_0x42b5fe(0x112));}}async[_0x2463d0(0x1a1)](_0x13fbe2){const _0x127913={_0x9a2040:0x143,_0x4d4018:0x183,_0x9a110c:0x12e,_0x51527f:0x104,_0x36c88d:0xdf,_0x4573ea:0xd8},_0xe7619b=_0x2463d0;_0x13fbe2['msg']=='#开启代理'&_0x13fbe2[_0xe7619b(_0x127913._0x9a2040)]&&(isdl=0x1,_0x13fbe2[_0xe7619b(0x12e)](_0xe7619b(0x1a6))),_0x13fbe2[_0xe7619b(_0x127913._0x4d4018)]==_0xe7619b(0x144)&_0x13fbe2[_0xe7619b(_0x127913._0x9a2040)]&&(isdl=0x0,_0x13fbe2[_0xe7619b(_0x127913._0x9a110c)](_0xe7619b(0x190))),_0x13fbe2[_0xe7619b(0x183)]==_0xe7619b(0x17e)&_0x13fbe2['isMaster']&&(iscanshu=0x1,_0x13fbe2['reply']('已开启参数显示')),_0x13fbe2[_0xe7619b(_0x127913._0x4d4018)]==_0xe7619b(0x140)&_0x13fbe2[_0xe7619b(0x143)]&&(iscanshu=0x0,_0x13fbe2[_0xe7619b(0x12e)](_0xe7619b(0x12d))),_0x13fbe2[_0xe7619b(_0x127913._0x4d4018)]==_0xe7619b(_0x127913._0x51527f)&_0x13fbe2['isMaster']&&(ishuifu=!![],_0x13fbe2[_0xe7619b(_0x127913._0x9a110c)](_0xe7619b(0x18c))),_0x13fbe2['msg']==_0xe7619b(_0x127913._0x36c88d)&_0x13fbe2[_0xe7619b(0x143)]&&(ishuifu=![],_0x13fbe2[_0xe7619b(_0x127913._0x9a110c)](_0xe7619b(_0x127913._0x4573ea)));}async[_0x2463d0(0xe0)](_0x719415){const _0x4dc249={_0x4e0dda:0x183,_0x2c3e68:0x1bb,_0x2178cf:0x12f,_0x17a888:0x16e,_0x3c589c:0xe6,_0x1f4d72:0x16e,_0x19853e:0x12e,_0xc9ccb1:0x12e,_0x32a87d:0x114},_0x3b0143=_0x2463d0;if(_0x719415[_0x3b0143(_0x4dc249._0x4e0dda)]==_0x3b0143(_0x4dc249._0x2c3e68)){console['log'](guimo);let _0x1c8f16=['模型：',moxing,_0x3b0143(_0x4dc249._0x2178cf),guimo['toString'](),_0x3b0143(0x185),bushu[_0x3b0143(_0x4dc249._0x17a888)](),_0x3b0143(_0x4dc249._0x3c589c),xsd[_0x3b0143(_0x4dc249._0x1f4d72)](),'\x0a降噪：',jz[_0x3b0143(0x16e)]()];_0x719415['reply'](_0x1c8f16);return;}bushu=_0x719415['msg'][_0x3b0143(0x122)](/#土块画图步数/g,'')['trim'](),bushu=Number(bushu);if(bushu<0x0|bushu>0x1c){bushu=0x1c,_0x719415[_0x3b0143(_0x4dc249._0x19853e)](_0x3b0143(0x131));return;}else _0x719415[_0x3b0143(_0x4dc249._0xc9ccb1)](_0x3b0143(_0x4dc249._0x32a87d)+String(bushu));}async[_0x2463d0(0x11a)](_0x29cb88){const _0x4ed819={_0x2469ac:0x12e,_0x1130c0:0x183,_0x1437c4:0xfa,_0x20f353:0x12e,_0x286851:0x108,_0x194f66:0x180,_0x1a0df9:0x177,_0x5a7def:0x1a9,_0x14a2a8:0x12e,_0x5b405e:0x11c,_0xd6fb15:0x18e,_0xddb6d8:0x152,_0x17e39b:0x110,_0x5f2c0b:0x1aa,_0x44cc1a:0x172},_0x58b2a6=_0x2463d0;if(_0x29cb88[_0x58b2a6(0x183)]=='#查看所有采样'){let _0x1c5bff=['1：Euler\x20a,\x0a2：Euler,\x0a3：Heun,\x0a4：DPM++\x202S\x20a,\x0a5：DPM++\x202M,\x0a6：DPM++\x202S\x20a\x20Karras,\x0a7：DPM++\x202M\x20Karras,\x0a8：DDMI'];_0x29cb88[_0x58b2a6(_0x4ed819._0x2469ac)](_0x1c5bff);return;}moxing=_0x29cb88[_0x58b2a6(_0x4ed819._0x1130c0)][_0x58b2a6(0x122)](/#土块画图采样/g,'')[_0x58b2a6(_0x4ed819._0x1437c4)](),moxing=Number(moxing);if(moxing<0x0|moxing>0x8){_0x29cb88[_0x58b2a6(_0x4ed819._0x20f353)](_0x58b2a6(_0x4ed819._0x286851)),moxing=0x2;return;}moxing==0x1&&(moxing=_0x58b2a6(0x103),_0x29cb88[_0x58b2a6(_0x4ed819._0x20f353)](_0x58b2a6(_0x4ed819._0x194f66))),moxing==0x2&&(moxing=_0x58b2a6(_0x4ed819._0x1a0df9),_0x29cb88['reply'](_0x58b2a6(_0x4ed819._0x5a7def))),moxing==0x3&&(moxing='Heun',_0x29cb88[_0x58b2a6(_0x4ed819._0x14a2a8)](_0x58b2a6(0x128))),moxing==0x4&&(moxing=_0x58b2a6(_0x4ed819._0x5b405e),_0x29cb88[_0x58b2a6(_0x4ed819._0x2469ac)](_0x58b2a6(_0x4ed819._0xd6fb15))),moxing==0x5&&(moxing=_0x58b2a6(0x146),_0x29cb88[_0x58b2a6(0x12e)]('采样已设置为DPM++\x202M')),moxing==0x6&&(moxing=_0x58b2a6(_0x4ed819._0xddb6d8),_0x29cb88[_0x58b2a6(0x12e)](_0x58b2a6(_0x4ed819._0x17e39b))),moxing==0x7&&(moxing=_0x58b2a6(0x1b5),_0x29cb88['reply'](_0x58b2a6(0xd6))),moxing==0x8&&(moxing=_0x58b2a6(_0x4ed819._0x5f2c0b),_0x29cb88[_0x58b2a6(0x12e)](_0x58b2a6(_0x4ed819._0x44cc1a)));}async[_0x2463d0(0x14b)](_0x157aaf){const _0x3490d1={_0x1e0d84:0x117},_0x3b8edd=_0x2463d0;guimo=_0x157aaf[_0x3b8edd(0x183)][_0x3b8edd(0x122)](/#土块画图规模/g,'')[_0x3b8edd(0xfa)](),guimo=Number(guimo);if(guimo<0x3|guimo>0xc){_0x157aaf['reply'](_0x3b8edd(0x1be)),guimo=5.5;return;}else _0x157aaf[_0x3b8edd(0x12e)](_0x3b8edd(_0x3490d1._0x1e0d84)+String(guimo));}async[_0x2463d0(0xe3)](_0x166cd7){const _0x529b1a={_0x4c0c01:0x183,_0x4a7118:0x13f,_0x3fbdbc:0x161,_0xfd934f:0x183,_0xffb0b8:0x13f,_0xf441ad:0x1b6,_0x3b9e44:0x157,_0x24ba72:0x19b,_0x241c10:0x13f,_0x4dc708:0x183,_0x300c0d:0x165,_0x58ddd2:0x14a,_0x439cfa:0x143,_0x3d50e3:0xf9,_0xe17eff:0x12e,_0x210a78:0x1b3,_0x52b216:0x15d,_0x359887:0x139,_0x193262:0x195,_0x4395fc:0x1b1,_0x334392:0x143,_0x5eb678:0xfa,_0x1071f3:0xe9,_0xe2904b:0x176,_0x5bd60c:0x1a2},_0x328063={_0x30dffc:0x1a2,_0x99964b:0x12e,_0xe37369:0x1d3},_0x52321e={_0x456e1e:0x12e,_0x264a27:0x1c8},_0x2ad03d={_0x882a87:0x139},_0x375638=_0x2463d0;if(_0x166cd7['img']!=undefined)return![];if(yushekg==0x0&_0x166cd7[_0x375638(_0x529b1a._0x4c0c01)][_0x375638(_0x529b1a._0x4a7118)](_0x375638(_0x529b1a._0x3fbdbc))==![]&_0x166cd7['msg'][_0x375638(0x13f)]('#新增预设')==![]&_0x166cd7[_0x375638(0x183)][_0x375638(_0x529b1a._0x4a7118)]('#删除预设')==![]&_0x166cd7[_0x375638(_0x529b1a._0xfd934f)][_0x375638(_0x529b1a._0xffb0b8)](_0x375638(_0x529b1a._0xf441ad))==![])return![];let _0x4faa3e=ml+_0x375638(_0x529b1a._0x3b9e44),_0x457034='';await _0x29ebd1[_0x375638(_0x529b1a._0x24ba72)](_0x4faa3e,(_0x56e223,_0x2838d7)=>{const _0x3f49ff=_0x375638;if(_0x56e223)throw _0x56e223;var _0x51a6f4=_0x2838d7[_0x3f49ff(0x16e)]()!=''?JSON[_0x3f49ff(0x10e)](_0x2838d7[_0x3f49ff(0x16e)]()):[];ysct='',_0x457034='',shuju=_0x51a6f4;for(let _0x19f4d6=0x0;_0x19f4d6<shuju['shuju'][_0x3f49ff(0x15a)];_0x19f4d6++){_0x457034=_0x457034+shuju[_0x3f49ff(_0x2ad03d._0x882a87)][_0x19f4d6][_0x3f49ff(0xda)]+',',ysct=ysct+shuju[_0x3f49ff(_0x2ad03d._0x882a87)][_0x19f4d6][_0x3f49ff(0x16c)]+'++';}}),await sleep(0x1f4);if(_0x166cd7[_0x375638(_0x529b1a._0x4c0c01)][_0x375638(_0x529b1a._0x241c10)]('#查看预设词条')&_0x166cd7[_0x375638(0x143)]){let _0x463596=_0x166cd7[_0x375638(_0x529b1a._0x4dc708)][_0x375638(0x122)](/#查看预设词条/g,'')['trim']();_0x463596=Number(_0x463596),ysct=ysct['split']('++'),_0x457034=_0x457034[_0x375638(_0x529b1a._0x300c0d)](',');if(_0x463596>ysct[_0x375638(0x15a)]|_0x463596<0x0){_0x166cd7[_0x375638(0x12e)](_0x375638(_0x529b1a._0x58ddd2));return;}_0x166cd7[_0x375638(0x12e)]([_0x457034[_0x463596-0x1],':',ysct[_0x463596-0x1]]),ysct='',_0x457034='';}if(_0x166cd7[_0x375638(0x183)]==_0x375638(0x161)&_0x166cd7[_0x375638(_0x529b1a._0x439cfa)]){_0x457034=_0x457034[_0x375638(_0x529b1a._0x300c0d)](','),data1={'tplFile':_0x375638(_0x529b1a._0x3d50e3),'dz':ml,'lb':_0x457034,'qsid':0x0};let _0x49109b=await _0x2c59fa['screenshot'](_0x375638(0x14d),{...data1});_0x166cd7[_0x375638(0x12e)](_0x49109b);return;_0x166cd7[_0x375638(_0x529b1a._0xe17eff)](_0x375638(_0x529b1a._0x210a78)+_0x457034);}if(_0x166cd7[_0x375638(0x183)][_0x375638(0x13f)](_0x375638(_0x529b1a._0x52b216))&_0x166cd7['isMaster']){let _0x39d8bf=_0x166cd7[_0x375638(_0x529b1a._0x4c0c01)][_0x375638(0x122)](/#删除预设/g,'')['trim']();_0x39d8bf=Number(_0x39d8bf);if(_0x39d8bf<shuju[_0x375638(0x139)][_0x375638(0x15a)]+0x1){shuju[_0x375638(_0x529b1a._0x359887)][_0x375638(_0x529b1a._0x193262)](_0x39d8bf-0x1,0x1);var _0x3a0f50=JSON['stringify'](shuju);}_0x29ebd1['writeFile'](_0x4faa3e,_0x3a0f50,function(_0x5ec4f5){const _0x40a6da=_0x375638;_0x5ec4f5&&console[_0x40a6da(0x154)](_0x5ec4f5),_0x166cd7[_0x40a6da(_0x52321e._0x456e1e)](_0x40a6da(_0x52321e._0x264a27));});}if(_0x166cd7[_0x375638(_0x529b1a._0xfd934f)][_0x375638(_0x529b1a._0xffb0b8)](_0x375638(_0x529b1a._0x4395fc))&_0x166cd7[_0x375638(_0x529b1a._0x334392)]&yushekg==0x0){yushekg=0x1,ys[0x0]=_0x166cd7[_0x375638(_0x529b1a._0x4dc708)]['replace'](/#新增预设/g,'')[_0x375638(_0x529b1a._0x5eb678)](),_0x166cd7[_0x375638(0x12e)](_0x375638(_0x529b1a._0x1071f3));return;}if(yushekg==0x1&_0x166cd7['isMaster']){yushekg=0x0,ys[0x1]=_0x166cd7[_0x375638(0x183)];let _0x3ed7b={'name':ys[0x0],'gjc':ys[0x1]};shuju['shuju'][_0x375638(_0x529b1a._0xe2904b)](_0x3ed7b),console[_0x375638(_0x529b1a._0x5bd60c)](shuju);var _0x3a0f50=JSON[_0x375638(0x194)](shuju);_0x29ebd1[_0x375638(0x156)](_0x4faa3e,_0x3a0f50,_0x30389c=>{const _0x3defb7=_0x375638;if(_0x30389c)throw _0x30389c;console[_0x3defb7(_0x328063._0x30dffc)]('文件写入成功！'),_0x166cd7[_0x3defb7(_0x328063._0x99964b)](_0x3defb7(_0x328063._0xe37369));});return;}}async['pbc'](_0x5a901c){const _0x109ee7={_0x254f22:0x13f,_0x4621a0:0xeb,_0x1f5e5e:0x19c,_0x3730e6:0x12e,_0x533dc0:0xe7,_0x17ef9a:0xed,_0x5be9af:0x143,_0x44b0f5:0x12e,_0x443239:0x109,_0xb2a017:0x191},_0x5d353f=_0x2463d0;_0x5a901c[_0x5d353f(0x183)][_0x5d353f(_0x109ee7._0x254f22)](_0x5d353f(0x124))&_0x5a901c[_0x5d353f(0x143)]&&(_0x5a901c[_0x5d353f(0x12e)](_0x5d353f(_0x109ee7._0x4621a0)),pc=_0x5a901c[_0x5d353f(0x183)]['replace'](/#新增屏蔽词/g,'')['trim']()),_0x5a901c[_0x5d353f(0x183)]==_0x5d353f(_0x109ee7._0x1f5e5e)&_0x5a901c[_0x5d353f(0x143)]&&_0x5a901c[_0x5d353f(0x12e)](['当前屏蔽词有：',pc]),_0x5a901c[_0x5d353f(0x183)]['includes']('#删除屏蔽词')&_0x5a901c[_0x5d353f(0x143)]&&(_0x5a901c[_0x5d353f(_0x109ee7._0x3730e6)]('删除屏蔽词成功'+_0x5d353f(_0x109ee7._0x533dc0)),pc=''),_0x5a901c[_0x5d353f(0x183)][_0x5d353f(_0x109ee7._0x254f22)](_0x5d353f(_0x109ee7._0x17ef9a))&_0x5a901c[_0x5d353f(_0x109ee7._0x5be9af)]&&(_0x5a901c[_0x5d353f(_0x109ee7._0x44b0f5)](_0x5d353f(_0x109ee7._0x443239)),pc=_0x5d353f(_0x109ee7._0xb2a017));}async[_0x2463d0(0xf5)](_0xd7f187){const _0x2e2cd7={_0x15b0c6:0xf3,_0x564f63:0xfc,_0x2926fc:0x12e,_0x1e4381:0x18b,_0x5e8394:0x194,_0x429d91:0x13c,_0x4d30f4:0x12e,_0x90104a:0x1c6,_0x227300:0x13f,_0x4b6cb0:0x198,_0xb84cb:0x1bf,_0x2813d7:0x18b,_0x21678c:0x194,_0x2cffc9:0x194,_0xb0d76a:0x189,_0x487086:0x183,_0x4238ef:0x13f,_0x262abf:0x143,_0x3df5c2:0x11b,_0xada013:0x11b,_0xb9ca67:0x198,_0x3e6e69:0x1c0,_0x883963:0x143,_0x296f81:0x122,_0x20d838:0x11b,_0x10972d:0x1c2,_0x16dcc8:0x194,_0x22ab55:0x1a2,_0xd59e6f:0x194},_0x110388=_0x2463d0;let _0x389500=_0x3d55ac[_0x110388(0x10e)](_0x29ebd1['readFileSync']('./plugins/earth-k-plugin/config/config.yaml',_0x110388(_0x2e2cd7._0x15b0c6)));_0xd7f187[_0x110388(0x183)]==_0x110388(_0x2e2cd7._0x564f63)&_0xd7f187[_0x110388(0x143)]&&(_0xd7f187[_0x110388(_0x2e2cd7._0x2926fc)]('好的，已关闭，请注意身体哦'),ss=0x1,_0x389500['ss']=0x1,_0x29ebd1['writeFileSync'](_0x110388(_0x2e2cd7._0x1e4381),_0x3d55ac[_0x110388(_0x2e2cd7._0x5e8394)](_0x389500)));if(_0xd7f187[_0x110388(0x183)]==_0x110388(_0x2e2cd7._0x429d91)&_0xd7f187['isMaster']){if(_0x389500['sk']==null|_0x389500['sk']==null){_0xd7f187[_0x110388(_0x2e2cd7._0x2926fc)](_0x110388(0x1b9));return;}_0xd7f187[_0x110388(_0x2e2cd7._0x4d30f4)](_0x110388(_0x2e2cd7._0x90104a)),ss=0x0,_0x389500['ss']=0x0,_0x29ebd1[_0x110388(0x198)]('./plugins/earth-k-plugin/config/config.yaml',_0x3d55ac[_0x110388(0x194)](_0x389500));}await dqpz();if(_0xd7f187[_0x110388(0x183)][_0x110388(_0x2e2cd7._0x227300)]('#土块画图冷却关闭')&_0xd7f187[_0x110388(0x143)]){_0x389500['cd']=0x0,_0x389500[_0x110388(0xd9)]=0x0,_0x29ebd1[_0x110388(_0x2e2cd7._0x4b6cb0)](_0x110388(0x18b),_0x3d55ac['stringify'](_0x389500)),cd=0x0,kg2=0x0,kg=0x0,sc=0x0,iscd=0x0,_0xd7f187['reply']('已关闭画图冷却');return;}if(_0xd7f187[_0x110388(0x183)]['includes'](_0x110388(_0x2e2cd7._0xb84cb))&_0xd7f187[_0x110388(0x143)]){_0x389500['cd']=0x7530,_0x389500[_0x110388(0xd9)]=0x1,_0x29ebd1['writeFileSync'](_0x110388(_0x2e2cd7._0x2813d7),_0x3d55ac[_0x110388(_0x2e2cd7._0x21678c)](_0x389500)),cd=0x7530,_0xd7f187['reply'](_0x110388(0x11d));return;}if(_0xd7f187[_0x110388(0x183)][_0x110388(0x13f)](_0x110388(0x19a))&_0xd7f187[_0x110388(0x143)]){let _0x46a475=_0xd7f187['msg'][_0x110388(0x122)](/#土块画图冷却/g,'')['trim']();cd=Number(_0x46a475)*0x3e8,_0x389500['cd']=cd,_0x389500[_0x110388(0xd9)]=0x1,_0x29ebd1['writeFileSync']('./plugins/earth-k-plugin/config/config.yaml',_0x3d55ac[_0x110388(_0x2e2cd7._0x2cffc9)](_0x389500)),_0xd7f187['reply'](_0x110388(_0x2e2cd7._0xb0d76a)+_0x46a475+'秒');}if(_0xd7f187[_0x110388(_0x2e2cd7._0x487086)][_0x110388(_0x2e2cd7._0x4238ef)](_0x110388(0xcd))&_0xd7f187[_0x110388(_0x2e2cd7._0x262abf)]){_0x389500[_0x110388(_0x2e2cd7._0x3df5c2)]=0x0,_0x29ebd1['writeFileSync'](_0x110388(_0x2e2cd7._0x2813d7),_0x3d55ac[_0x110388(_0x2e2cd7._0x5e8394)](_0x389500)),isch=0x0,_0xd7f187[_0x110388(0x12e)](_0x110388(0x12c));return;}if(_0xd7f187['msg'][_0x110388(0x13f)]('#土块画图撤回开启')&_0xd7f187[_0x110388(_0x2e2cd7._0x262abf)]){isch=0x1,_0x389500[_0x110388(_0x2e2cd7._0xada013)]=0x7530,_0x389500['isch']=0x1,_0x29ebd1[_0x110388(_0x2e2cd7._0xb9ca67)]('./plugins/earth-k-plugin/config/config.yaml',_0x3d55ac['stringify'](_0x389500)),timeout=0x7530,_0xd7f187[_0x110388(0x12e)](_0x110388(_0x2e2cd7._0x3e6e69));return;}if(_0xd7f187[_0x110388(0x183)]['includes']('#土块画图撤回')&_0xd7f187[_0x110388(_0x2e2cd7._0x883963)]){isch=0x1;let _0x706396=_0xd7f187[_0x110388(0x183)][_0x110388(_0x2e2cd7._0x296f81)](/#土块画图撤回/g,'')[_0x110388(0xfa)]();timeout=Number(_0x706396)*0x3e8,_0x389500[_0x110388(_0x2e2cd7._0x20d838)]=timeout,_0x389500[_0x110388(_0x2e2cd7._0x10972d)]=0x1,_0x29ebd1[_0x110388(0x198)]('./plugins/earth-k-plugin/config/config.yaml',_0x3d55ac[_0x110388(_0x2e2cd7._0x16dcc8)](_0x389500)),_0xd7f187[_0x110388(0x12e)]('已设置撤回时间为'+_0x706396+'秒');}_0xd7f187[_0x110388(0x183)]==_0x110388(0x15c)&&(kg=0x0,sc=0x0,zt=0x0,id='',console[_0x110388(_0x2e2cd7._0x22ab55)](_0x110388(0x100)),kg2=0x0,_0xd7f187[_0x110388(0x12e)](_0x110388(0x101))),_0xd7f187[_0x110388(_0x2e2cd7._0x487086)]==_0x110388(0x15f)&_0xd7f187['isMaster']&&(_0xd7f187['reply']('好吧，那就一起来吧！'),zr=0x0,_0x389500['zr']=0x0,_0x29ebd1[_0x110388(_0x2e2cd7._0xb9ca67)](_0x110388(0x18b),_0x3d55ac[_0x110388(_0x2e2cd7._0xd59e6f)](_0x389500))),_0xd7f187[_0x110388(0x183)]=='#仅我可画'&_0xd7f187[_0x110388(0x143)]&&(_0xd7f187['reply'](_0x110388(0xde)),zr=0x1,_0x389500['zr']=0x1,_0x29ebd1['writeFileSync'](_0x110388(0x18b),_0x3d55ac[_0x110388(0x194)](_0x389500)));}async[_0x2463d0(0x1c9)](_0x3c409e){const _0x3000c5={_0x337c02:0x169,_0x74197c:0x183,_0x142a8f:0x1ad,_0x29d45d:0xe8,_0xa09e33:0x17c,_0x25ca38:0x12e,_0x446aa3:0x169,_0x51397b:0x12e,_0x1135a6:0x10d,_0x1b9bb2:0x1a2,_0x2d7163:0x147,_0x396f29:0x182,_0x1aa21a:0x1a3,_0x35486d:0x1d2,_0x3d7812:0xd3,_0x1ce20e:0x12e,_0x29b9a8:0x1cc,_0x3176fc:0x12e,_0x3413e6:0x169,_0xe2b513:0x143,_0x13b83c:0x1a2,_0x41ecd5:0xfa,_0x446afd:0x13f,_0x987cd4:0x1ad,_0x536327:0x162,_0x16406f:0x178,_0x3ee313:0x141,_0x364c45:0x127,_0x4da5cc:0x138,_0xb408d8:0xf4,_0xa0114e:0x1a2,_0x11436a:0x1a2,_0x22fcaf:0xfe,_0x1726f3:0xef,_0x16c918:0x17c,_0x22c7f7:0x122,_0x3d0895:0x13b,_0x2c04f3:0x183,_0x5561c5:0x199,_0x24c428:0x1d2,_0x5e2cbb:0x13f,_0x5e81b2:0x1a2,_0x318a83:0xcf,_0x512f3d:0x18d,_0x33ab7e:0xfa,_0x54bca1:0x1a2,_0x43c649:0x196,_0x299ff6:0x169,_0x5eb1bd:0x156,_0x2e5f6b:0x1b4,_0x2d6a10:0x19e,_0x5cfcff:0x1c5,_0x44f0fc:0x1a2,_0x50c98c:0x1a7,_0x48cc44:0x1ac,_0x2aa937:0x116,_0x29774b:0x1a2,_0x29fc98:0x10a,_0x2057af:0x1b2,_0x5a7941:0x111,_0x4dac8c:0xdc,_0x2cb8ab:0x1bd,_0x4d7e01:0x1cd,_0x22ff12:0xda,_0x34ce6c:0x111,_0x40a36b:0x123,_0x3442d2:0x1b0,_0x332a1a:0x18f,_0x2a3515:0x183,_0x39be6b:0xf0,_0x3c4733:0x12e},_0x230828={_0x8cb6be:0x1a0,_0x3a4282:0x1b0},_0xc9d2d6={_0x53daa3:0x1a2},_0x22941e={_0x112853:0x12e},_0x59d855={_0x4123d3:0x12e},_0xe33408=_0x2463d0;if(_0x3c409e[_0xe33408(0x169)]!=undefined&zt==0x0&mfkg==0x0)return![];if(_0x3c409e[_0xe33408(_0x3000c5._0x337c02)]==undefined&_0x3c409e['msg']!=undefined){if(_0x3c409e[_0xe33408(_0x3000c5._0x74197c)]['includes'](_0xe33408(_0x3000c5._0x142a8f))==![]&_0x3c409e[_0xe33408(0x169)]==undefined&zt==0x0&_0x3c409e[_0xe33408(0x183)][_0xe33408(0x13f)](_0xe33408(0xe8))==![]&mfkg==0x0)return![];}mfkg==0x0&_0x3c409e[_0xe33408(0x183)]==_0xe33408(_0x3000c5._0x29d45d)&&(mfkg=0x1,mfid=_0x3c409e[_0xe33408(_0x3000c5._0xa09e33)],_0x3c409e[_0xe33408(_0x3000c5._0x25ca38)](_0xe33408(0x10b)),mf=setTimeout(()=>{const _0x552907=_0xe33408;if(mfkg==0x1){mfkg=0x0,_0x3c409e[_0x552907(_0x59d855._0x4123d3)]('15秒还未发图，查看魔法已取消');return;}},0x3a98));if(_0x3c409e[_0xe33408(_0x3000c5._0x446aa3)]!=undefined&mfkg==0x1&mfid==_0x3c409e[_0xe33408(0x17c)]){clearTimeout(mf),_0x3c409e[_0xe33408(_0x3000c5._0x51397b)](_0xe33408(_0x3000c5._0x1135a6)),mfkg=0x0,mfid='';let _0x5330aa='https://xiaobapi.top/api/xb/api/upload_image_tags.php?url=';console[_0xe33408(_0x3000c5._0x1b9bb2)](_0x3c409e[_0xe33408(_0x3000c5._0x446aa3)]),_0x5330aa=_0x5330aa+_0x3c409e[_0xe33408(0x169)][0x0],res=await _0x505f2d(_0x5330aa,{'method':_0xe33408(_0x3000c5._0x2d7163),'headers':{'Content-Type':_0xe33408(_0x3000c5._0x396f29),'User-Agent':_0xe33408(_0x3000c5._0x1aa21a)}});let _0x3c6ff2=await res[_0xe33408(_0x3000c5._0x35486d)]();console['log'](_0xe33408(_0x3000c5._0x3d7812)+_0x3c6ff2),console['log'](_0x3c6ff2);if(_0x3c6ff2!=undefined)_0x3c409e[_0xe33408(_0x3000c5._0x1ce20e)](_0x3c6ff2[_0xe33408(0x1af)],!![]),_0x3c6ff2[_0xe33408(_0x3000c5._0x29b9a8)]==-0x1&&(_0x3c409e[_0xe33408(_0x3000c5._0x3176fc)]('访问失败了,QAQ,TvT'),mfkg=0x0,mfid='');else{}}if(_0x3c409e[_0xe33408(_0x3000c5._0x3413e6)]==undefined&zt==0x1)return![];if(_0x3c409e['img']==undefined&_0x3c409e[_0xe33408(_0x3000c5._0x74197c)]!=undefined){dqpz();if(_0x3c409e['msg'][_0xe33408(0x13f)](_0xe33408(0x1ba))&_0x3c409e[_0xe33408(_0x3000c5._0xe2b513)]){xsd=Number(_0x3c409e['msg'][_0xe33408(0x122)](/#以图生草相似度/g,'')[_0xe33408(0xfa)]())/0x64,_0x3c409e[_0xe33408(0x12e)](_0xe33408(0xe4)+String(xsd)),console[_0xe33408(_0x3000c5._0x13b83c)](xsd);return;}if(_0x3c409e['msg']['includes'](_0xe33408(0x11e))&_0x3c409e[_0xe33408(_0x3000c5._0xe2b513)]){jz=Number(_0x3c409e['msg'][_0xe33408(0x122)](/#以图生草降噪/g,'')[_0xe33408(_0x3000c5._0x41ecd5)]())/0x64,_0x3c409e['reply']('当前降噪'+String(jz)),console[_0xe33408(0x1a2)](jz);return;}if(zt==0x0&&sc==0x0&&_0x3c409e[_0xe33408(_0x3000c5._0x74197c)][_0xe33408(_0x3000c5._0x446afd)](_0xe33408(_0x3000c5._0x987cd4))){if(_0x3c409e[_0xe33408(_0x3000c5._0x536327)]){_0x3c409e['reply']('以图生草暂不支持私聊');return;}dqpz();let _0x25b650='';try{_0x25b650=_0x29ebd1[_0xe33408(0x127)](_0xe33408(_0x3000c5._0x16406f));}catch{_0x3c409e[_0xe33408(0x12e)](_0xe33408(_0x3000c5._0x3ee313));return;}_0x25b650=_0x25b650[_0xe33408(0x16e)]();let _0x3cd751=_0x3d55ac[_0xe33408(0x10e)](_0x29ebd1[_0xe33408(_0x3000c5._0x364c45)](_0xe33408(_0x3000c5._0x4da5cc),'utf8'));_0x3cd751=_0x3cd751[_0xe33408(0x16a)][0x0];try{let _0x18df42=_0xe33408(0xe5)+_0x25b650+_0xe33408(_0x3000c5._0xb408d8)+String(_0x3cd751);res=await _0x505f2d(_0x18df42,{'agent':isdl?await getAgent():''}),console[_0xe33408(_0x3000c5._0xa0114e)](_0xe33408(0x160));}catch(_0x8ecabd){console[_0xe33408(_0x3000c5._0x11436a)](_0x8ecabd),console[_0xe33408(0x1a2)](_0xe33408(_0x3000c5._0x22fcaf));}res=await res[_0xe33408(0x18d)]();if(res[_0xe33408(_0x3000c5._0x446afd)](_0xe33408(0x181))==![]){_0x3c409e['reply']('很抱歉，你的密钥错误，不能生草'),console[_0xe33408(0x1a2)](res);return;}if(zr==0x1&!_0x3c409e[_0xe33408(0x143)]){_0x3c409e[_0xe33408(0x12e)]('你不可以生草哦');return;}console[_0xe33408(_0x3000c5._0xa0114e)](_0xe33408(_0x3000c5._0x1726f3)),id=_0x3c409e[_0xe33408(_0x3000c5._0x16c918)],chang=0x200,kuan=0x200,gjc2=_0x3c409e[_0xe33408(0x183)][_0xe33408(_0x3000c5._0x22c7f7)](/#以图生草/g,'')[_0xe33408(0xfa)]();var _0x32549a=new RegExp(_0xe33408(_0x3000c5._0x3d0895),'g');let _0x252115='',_0x3f021a='';if(_0x32549a['test'](gjc2)&_0x3c409e[_0xe33408(_0x3000c5._0x2c04f3)][_0xe33408(0x13f)]('序号')==![]){let _0xe4da60=_0xe33408(_0x3000c5._0x5561c5),_0x47ff59=await _0x505f2d(_0xe4da60);_0x252115=await _0x47ff59[_0xe33408(_0x3000c5._0x24c428)](),_0x252115=_0x252115[_0xe33408(0xda)];for(let _0x41068e=0x0;_0x41068e<_0x252115[_0xe33408(0x15a)];_0x41068e++){if(gjc2[_0xe33408(_0x3000c5._0x5e2cbb)](_0x252115[_0x41068e]['zw'])==!![]&_0x252115[_0x41068e]['zw']!=''){_0x3f021a=_0x252115[_0x41068e]['zw'],gjc2=gjc2[_0xe33408(_0x3000c5._0x22c7f7)](new RegExp(_0x3f021a,'g'),_0xe33408(0x192)),_0x3f021a=_0x252115[_0x41068e]['pt'];break;}}}console[_0xe33408(_0x3000c5._0x5e81b2)](gjc2);if(_0x32549a[_0xe33408(0x17b)](gjc2)){console[_0xe33408(0x1a2)](_0xe33408(0x1c3));let _0x24ee3f=_0xe33408(_0x3000c5._0x318a83)+gjc2,_0x56f675=await _0x505f2d(_0x24ee3f),_0x253166=await _0x56f675[_0xe33408(_0x3000c5._0x512f3d)]();_0x253166=_0x253166[_0xe33408(_0x3000c5._0x22c7f7)](/有道翻译查询结果/g,'')[_0xe33408(0xfa)](),_0x253166=_0x253166[_0xe33408(0x122)](/翻译后/g,'')[_0xe33408(_0x3000c5._0x33ab7e)](),_0x253166=_0x253166[_0xe33408(_0x3000c5._0x22c7f7)](/翻译前/g,'')[_0xe33408(0xfa)](),_0x253166=_0x253166[_0xe33408(_0x3000c5._0x22c7f7)](/：/g,'')[_0xe33408(0xfa)](),_0x253166=_0x253166[_0xe33408(0x122)](new RegExp(gjc2,'g'),''),gjc2=_0x3f021a+'\x20'+_0x253166,console['log'](gjc2);}else console[_0xe33408(_0x3000c5._0x54bca1)]('是英文');zt=0x1,ycqx=setTimeout(()=>{const _0x152e72=_0xe33408;if(zt==0x1){zt=0x0,_0x3c409e[_0x152e72(_0x22941e._0x112853)]('30秒还未发图，以图生草已取消');return;}},0x7530),_0x3c409e[_0xe33408(0x12e)]([segment['at'](id),_0xe33408(_0x3000c5._0x43c649)]);return;}}if(sc==0x0&_0x3c409e['isGroup']&zt==0x1&_0x3c409e[_0xe33408(_0x3000c5._0x299ff6)]!=undefined){clearTimeout(ycqx);if(_0x3c409e[_0xe33408(0x17c)]==id&zt==0x1){sc=0x1;let _0x3a62e5=await imgUrlToBase64(_0x3c409e[_0xe33408(0x169)][0x0]['replace'](/https/g,_0xe33408(0x158))['trim']()),_0x20faf6=_0x3a62e5[_0xe33408(0x15b)];_0x29ebd1[_0xe33408(_0x3000c5._0x5eb1bd)](_0xe33408(_0x3000c5._0x2e5f6b),_0x20faf6[_0xe33408(0x16e)](),'base64',_0x341fbf=>{const _0x46c719=_0xe33408;_0x341fbf?console[_0x46c719(_0xc9d2d6._0x53daa3)]('写入文件错误'):console[_0x46c719(0x1a2)](_0x46c719(0x1b7));}),await sleep(0x1f4);let _0x45fd37=_0x1c4cbf('./resources/yb.png'),_0x39a9a4=_0x45fd37['height'],_0x4b6f96=_0x45fd37[_0xe33408(_0x3000c5._0x2d6a10)];_0x39a9a4=Math[_0xe33408(0x1c5)](_0x39a9a4/0x40),_0x4b6f96=Math[_0xe33408(_0x3000c5._0x5cfcff)](_0x4b6f96/0x40);let _0x22be13;_0x39a9a4>_0x4b6f96&&(_0x22be13=_0x39a9a4/_0x4b6f96,_0x4b6f96=0x8*0x40,_0x39a9a4=Math['floor'](0x8*_0x22be13)*0x40);_0x4b6f96>_0x39a9a4&&(_0x22be13=_0x4b6f96/_0x39a9a4,_0x39a9a4=0x8*0x40,_0x4b6f96=Math['floor'](0x8*_0x22be13)*0x40);_0x4b6f96==_0x39a9a4&&(_0x39a9a4=0x300,_0x4b6f96=0x300,_0x22be13=0x1);console[_0xe33408(_0x3000c5._0x44f0fc)](_0x39a9a4,_0x4b6f96);var _0x1446d2={'init_images':[_0xe33408(_0x3000c5._0x50c98c)+_0x20faf6],'denoising_strength':0x1-xsd,'prompt':gjc2,'styles':['Resize\x20and\x20fill'],'seed':-0x1,'steps':0x28,'cfg_scale':guimo+0x2,'width':_0x4b6f96,'height':_0x39a9a4,'negative_prompt':pc,'sampler_index':'Euler\x20a'};_0x3c409e[_0xe33408(0x12e)](_0xe33408(_0x3000c5._0x48cc44)),zt=0x0;try{res=await _0x505f2d(_0xe33408(_0x3000c5._0x2aa937),{'method':_0xe33408(0x19d),'agent':isdl?await getAgent():'','body':JSON['stringify'](_0x1446d2),'headers':{'Content-Type':_0xe33408(0x182),'User-Agent':_0xe33408(0x1a3)}});}catch(_0x4d22fd){console[_0xe33408(_0x3000c5._0x29774b)](_0x4d22fd),console[_0xe33408(0x1a2)]('没有访问成功'),kg=0x0;return;}let _0x4fd3d2=await res[_0xe33408(_0x3000c5._0x35486d)]();_0x4fd3d2=_0x4fd3d2[_0xe33408(_0x3000c5._0x29fc98)],_0x3c409e[_0xe33408(0x12e)]('成功了！'),await _0x29ebd1[_0xe33408(0x156)](_0xe33408(0x111),_0x4fd3d2['toString'](),'base64',_0x44970f=>{const _0x11ffb2=_0xe33408;_0x44970f?console['log']('写入文件错误'):console[_0x11ffb2(0x1a2)](_0x11ffb2(0x1b7));}),await sleep(0x1f4),msg2=[segment['at'](_0x3c409e[_0xe33408(0x17c)]),segment[_0xe33408(_0x3000c5._0x2057af)](ml+_0xe33408(0xea))],await sleep(0x1f4),iscd=0x0,sc=0x0,id='';ss==0x0&&(await main(_0xe33408(_0x3000c5._0x5a7941)),console['log'](tpjc));let _0x49db61;tpjc=='不合规'&ss==0x0?(_0x49db61=await _0x3c409e[_0xe33408(0x12e)]('又画涩图！你画涩图我已经发给主人了，别再画了！'),msg2=['报告主人\x0a',_0xe33408(_0x3000c5._0x4dac8c)+name+'('+String(_0x3c409e[_0xe33408(0x17c)])+')\x0a',_0xe33408(_0x3000c5._0x2cb8ab)+_0x3c409e[_0xe33408(_0x3000c5._0x4d7e01)][_0xe33408(_0x3000c5._0x22ff12)]+'('+String(_0x3c409e['group_id'])+')\x0a','在画涩图被我抓到了',segment['image'](_0xe33408(_0x3000c5._0x34ce6c))],Bot[_0xe33408(0x1a5)](zhuren)[_0xe33408(_0x3000c5._0x40a36b)](msg2)):_0x49db61=await _0x3c409e[_0xe33408(_0x3000c5._0x51397b)](msg2);iscd=0x1,console[_0xe33408(0x1a2)](_0x49db61[_0xe33408(_0x3000c5._0x3442d2)],isch);if(_0x49db61&&_0x49db61['message_id']&&isch==0x1&&_0x3c409e[_0xe33408(_0x3000c5._0x332a1a)]){let _0x20122b=_0x3c409e[_0xe33408(0x1cd)];setTimeout(()=>{const _0x39ad98=_0xe33408;_0x20122b[_0x39ad98(_0x230828._0x8cb6be)](_0x49db61[_0x39ad98(_0x230828._0x3a4282)]);},timeout);}startTimeMS=new Date()[_0xe33408(0xf0)](),t=setTimeout(()=>{iscd=0x0,sc=0x0,id='';},cd);}}else{if(_0x3c409e[_0xe33408(0x169)]==undefined&_0x3c409e[_0xe33408(_0x3000c5._0x2a3515)]!=undefined){if(_0x3c409e['msg'][_0xe33408(_0x3000c5._0x446afd)]('#以图生草')){if(iscd==0x1){console[_0xe33408(0x1a2)](iscd);let _0x22ffda=cd-(new Date()[_0xe33408(_0x3000c5._0x39be6b)]()-startTimeMS);_0x22ffda=Math[_0xe33408(0x187)](_0x22ffda/0x3e8);if(_0x22ffda<0x0){sc=0x0,id='';return;}_0x3c409e['reply'](_0xe33408(0xf1)+String(_0x22ffda)+_0xe33408(0x17f));}else _0x3c409e[_0xe33408(_0x3000c5._0x3c4733)]('正在生草中，我知道你很急，先别急');}}}}async[_0x2463d0(0x1c4)](_0x21104f){const _0x20915c={_0x5c7df8:0x183,_0x5e6179:0x13f,_0x3a216e:0x149,_0x277e5d:0x143,_0x42516a:0xfa,_0x28e4db:0x136,_0x1fa2d3:0x1d2,_0x28d154:0xda,_0x489277:0x122,_0x480aba:0x1a2,_0x329957:0x17b,_0x5124eb:0x122,_0x453611:0x1a2,_0x330881:0x1a2,_0x3b94a2:0xfa,_0x537194:0x19b,_0x2d00f1:0x16c,_0x4455e0:0x12e,_0x38ef9a:0x1d2,_0x2cfd2f:0x184,_0x4b160a:0xfd,_0x57e2bf:0x122,_0x55bb0f:0x1a2,_0x25a8fa:0x1c5,_0x5f8f79:0x159,_0x4f296c:0x115,_0x395f0a:0x130,_0x3a095b:0x17d,_0xd9a227:0x137,_0x3994b5:0x16e,_0x36dcdc:0x155,_0x53fda8:0x127,_0x4518e7:0x138,_0x5933ab:0x16a,_0x2879de:0xf4,_0x5b8498:0x160,_0x341f71:0xfe,_0x2ee9e5:0x12e,_0x1a914f:0x10c,_0x4cbac:0x12e,_0x453e99:0x10a,_0x5ed6c5:0x11f,_0x3ee12c:0x17a,_0x2446e4:0x1ab,_0x2ec3f5:0xdc,_0x4734e8:0xd5,_0x3e58d5:0x193,_0x47f55c:0x1b2,_0x317dc9:0x1a2,_0x3324f8:0xf0,_0x4dcef2:0x187,_0x14e19b:0x175},_0x5c36f7={_0x59fecb:0xfb},_0x4bb329={_0x5091fc:0x1d4,_0x517b25:0x15a},_0xe437eb=_0x2463d0;dqpz();if(_0x21104f[_0xe437eb(_0x20915c._0x5c7df8)][_0xe437eb(_0x20915c._0x5e6179)](_0xe437eb(_0x20915c._0x3a216e))&!_0x21104f[_0xe437eb(_0x20915c._0x277e5d)]){_0x21104f[_0xe437eb(0x12e)](_0xe437eb(0x168));return;}let _0x379ddc,_0x3d5376,_0x340f1c;_0x21104f['msg']['includes'](_0xe437eb(0x149))==![]&&(_0x340f1c=_0x21104f[_0xe437eb(0x183)][_0xe437eb(0x122)](/#绘个图/g,'')[_0xe437eb(_0x20915c._0x42516a)]());if(kg2==0x0&_0x21104f[_0xe437eb(0x18f)]|_0x21104f[_0xe437eb(_0x20915c._0x277e5d)]){kg2==0x1&&_0x21104f[_0xe437eb(0x12e)](_0xe437eb(_0x20915c._0x28e4db));if(zr==0x1&!_0x21104f['isMaster']){_0x21104f[_0xe437eb(0x12e)](_0xe437eb(0x129));return;}kg2=0x1;let _0x5b5e0f=_0x340f1c,_0x3059a9='',_0x49ad2e='';var _0x5d577c=new RegExp(_0xe437eb(0x13b),'g');if(_0x5d577c[_0xe437eb(0x17b)](_0x5b5e0f)&_0x21104f[_0xe437eb(0x183)][_0xe437eb(_0x20915c._0x5e6179)]('序号')==![]){let _0x471a67=_0xe437eb(0x199),_0x15d3a1=await _0x505f2d(_0x471a67);_0x3059a9=await _0x15d3a1[_0xe437eb(_0x20915c._0x1fa2d3)](),_0x3059a9=_0x3059a9[_0xe437eb(_0x20915c._0x28d154)];for(let _0x5a8d63=0x0;_0x5a8d63<_0x3059a9['length'];_0x5a8d63++){if(_0x5b5e0f[_0xe437eb(0x13f)](_0x3059a9[_0x5a8d63]['zw'])==!![]&_0x3059a9[_0x5a8d63]['zw']!=''){_0x49ad2e=_0x3059a9[_0x5a8d63]['zw'],_0x5b5e0f=_0x5b5e0f[_0xe437eb(_0x20915c._0x489277)](new RegExp(_0x49ad2e,'g'),_0x3059a9[_0x5a8d63]['pt']),_0x49ad2e=_0x3059a9[_0x5a8d63]['pt'];break;}}}console[_0xe437eb(_0x20915c._0x480aba)](_0x5b5e0f);if(_0x5d577c[_0xe437eb(_0x20915c._0x329957)](_0x5b5e0f)&_0x21104f[_0xe437eb(0x183)]['includes']('序号')==![]){console[_0xe437eb(0x1a2)](_0xe437eb(0x1c3));let _0x1eb62a=_0xe437eb(0xcf)+_0x5b5e0f,_0x273003=await _0x505f2d(_0x1eb62a),_0x126400=await _0x273003['text']();_0x126400=_0x126400[_0xe437eb(_0x20915c._0x5124eb)](/有道翻译查询结果/g,'')[_0xe437eb(0xfa)](),_0x126400=_0x126400['replace'](/翻译后/g,'')[_0xe437eb(_0x20915c._0x42516a)](),_0x126400=_0x126400[_0xe437eb(0x122)](/翻译前/g,'')['trim'](),_0x126400=_0x126400[_0xe437eb(0x122)](/：/g,'')[_0xe437eb(0xfa)](),_0x126400=_0x126400['replace'](new RegExp(_0x5b5e0f,'g'),''),res4=_0x49ad2e+'\x20'+_0x126400,console['log'](res4);}else console[_0xe437eb(_0x20915c._0x453611)]('是英文'),res4=_0x49ad2e+'\x20'+_0x5b5e0f,console[_0xe437eb(_0x20915c._0x330881)](res4);let _0x20ff13,_0x414afb;if(_0x21104f['msg'][_0xe437eb(0x13f)](_0xe437eb(0x149))&_0x21104f['isMaster']){_0x3d5376=_0x21104f[_0xe437eb(0x183)][_0xe437eb(0x122)](/#土块画图预设/g,'')[_0xe437eb(_0x20915c._0x3b94a2)]();let _0x44dae7=ml+'/plugins/earth-k-plugin/resources/htys/ys.json';await _0x29ebd1[_0xe437eb(_0x20915c._0x537194)](_0x44dae7,(_0xae0515,_0x50b09a)=>{const _0x4e50b4=_0xe437eb;_0x379ddc=JSON[_0x4e50b4(0x10e)](_0x50b09a[_0x4e50b4(0x16e)]()),_0x414afb=_0x379ddc[_0x4e50b4(0x139)];var _0x3fe9d1=new RegExp(_0x4e50b4(0x13b),'g');if(_0x3fe9d1[_0x4e50b4(0x17b)](_0x3d5376))console['log'](_0x4e50b4(_0x4bb329._0x5091fc)),_0x20ff13=_0x414afb[_0x4e50b4(0x1a4)](_0xded40a=>_0xded40a['name']==_0x3d5376);else{_0x20ff13=Number(_0x3d5376)-0x1;if(_0x20ff13>_0x414afb[_0x4e50b4(_0x4bb329._0x517b25)]){_0x20ff13=-0x1;return;}}}),await sleep(0x1f4),console[_0xe437eb(0x1a2)](_0x20ff13);if(_0x20ff13!=-0x1)res4=_0x414afb[_0x20ff13][_0xe437eb(_0x20915c._0x2d00f1)];else{_0x21104f[_0xe437eb(_0x20915c._0x4455e0)](_0xe437eb(0xd1));return;}}if(_0x21104f[_0xe437eb(0x183)][_0xe437eb(0x13f)]('序号')){res4=res4[_0xe437eb(0x122)](/序号/g,'')[_0xe437eb(_0x20915c._0x42516a)]();let _0x36a3e8=_0xe437eb(0x153),_0x5e39a6=await _0x505f2d(_0x36a3e8,{'agent':isdl?await getAgent():''}),_0x1097d4=await _0x5e39a6[_0xe437eb(_0x20915c._0x38ef9a)](),_0x4807e7=_0x1097d4[_0xe437eb(0xda)],_0x79acf9=_0x21104f[_0xe437eb(0x183)][_0xe437eb(_0x20915c._0x2cfd2f)](0x6,0x9);const _0x327ca5=/\d+/;let _0x5e9a00=_0x79acf9[_0xe437eb(_0x20915c._0x4b160a)](_0x327ca5),_0x32127b=_0x5e9a00[0x0];res4=res4[_0xe437eb(_0x20915c._0x57e2bf)](new RegExp(_0x32127b,'g'),''),_0x5e9a00=Number(_0x5e9a00[0x0]);try{res4=_0x4807e7[_0x5e9a00+0x1]['pt']+res4,console[_0xe437eb(_0x20915c._0x55bb0f)](res4);}catch{_0x21104f[_0xe437eb(_0x20915c._0x4455e0)](_0xe437eb(0x16d));return;}}await sleep(0x1f4),_0x21104f['reply']('好的，我开始画图了，请稍等哦');let _0x47c6f3=Math[_0xe437eb(_0x20915c._0x25a8fa)](Math[_0xe437eb(0x14e)]()*0x2);_0x47c6f3==0x0&&(changdu=0x200,kuandu=0x300);_0x47c6f3==0x1&&(changdu=0x300,kuandu=0x200);console[_0xe437eb(0x1a2)](_0x47c6f3);var _0xad80dd=_0xe437eb(_0x20915c._0x5f8f79),_0x5b87cb=[res4,pc,'None',_0xe437eb(_0x20915c._0x4f296c),0x14,'Euler\x20a',![],![],0x1,0x1,0x7,-0x1,-0x1,0x0,0x0,0x0,![],changdu,kuandu,![],![],0.7,_0xe437eb(0x115),![],![],null,'',_0xe437eb(0x17d),'',_0xe437eb(_0x20915c._0x395f0a),'',!![],![],null,'',''],_0x29d098=[res4,pc,_0xe437eb(0x115),_0xe437eb(0x115),0x1c,_0xe437eb(0x103),![],![],0x1,0x1,0xb,-0x1,-0x1,0x0,0x0,0x0,![],0x200,0x200,![],![],0.7,'None',![],![],null,'',_0xe437eb(_0x20915c._0x3a095b),'','Steps','',!![],![],null,'',''];let _0x461228=_0xe437eb(0x15e),_0x3786b7=Math['floor'](Math['random']()*0xb6cff090),_0x2a632d='模型:'+moxing+_0xe437eb(_0x20915c._0xd9a227)+guimo[_0xe437eb(_0x20915c._0x3994b5)]()+_0xe437eb(0x1bc)+bushu[_0xe437eb(0x16e)]()+_0xe437eb(_0x20915c._0x36dcdc)+_0x3786b7['toString'](),_0x5dcdf9='';try{_0x5dcdf9=_0x29ebd1[_0xe437eb(0x127)](_0xe437eb(0x178));}catch{_0x21104f['reply']('你还没有填写密钥哦。');return;}_0x5dcdf9=_0x5dcdf9['toString']();let _0x4464ef=_0x3d55ac[_0xe437eb(0x10e)](_0x29ebd1[_0xe437eb(_0x20915c._0x53fda8)](_0xe437eb(_0x20915c._0x4518e7),'utf8'));_0x4464ef=_0x4464ef[_0xe437eb(_0x20915c._0x5933ab)][0x0];try{let _0xd7f844=_0xe437eb(0xe5)+_0x5dcdf9+_0xe437eb(_0x20915c._0x2879de)+String(_0x4464ef);res=await _0x505f2d(_0xd7f844,{'agent':isdl?await getAgent():''}),console['log'](_0xe437eb(_0x20915c._0x5b8498));}catch(_0x3a45ef){console['log'](_0x3a45ef),console[_0xe437eb(0x1a2)](_0xe437eb(_0x20915c._0x341f71));}res=await res[_0xe437eb(0x18d)]();if(res['includes'](_0xe437eb(0x181))==![]){_0x21104f[_0xe437eb(_0x20915c._0x2ee9e5)](_0xe437eb(0x102)),console[_0xe437eb(_0x20915c._0x55bb0f)](res);return;}let _0x539a24=await _0x505f2d('https://www.tukuai.one//ht.php',{'method':_0xe437eb(0xe2),'agent':isdl?await getAgent():'','headers':{'Content-Type':'application/json','authorization':_0xe437eb(0x134)},'body':JSON['stringify']({'prompt':_0xe437eb(_0x20915c._0x1a914f)+res4,'width':kuandu,'height':changdu,'cfg_scale':guimo+0x2,'sampler':moxing,'steps':0x17,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0x539a24[_0xe437eb(_0x20915c._0x38ef9a)](),_0x21104f[_0xe437eb(_0x20915c._0x4cbac)](_0xe437eb(0x14f)),res=res4[_0xe437eb(_0x20915c._0x453e99)][0x0],await _0x29ebd1[_0xe437eb(0x156)](_0xe437eb(_0x20915c._0x5ed6c5),res['toString'](),'base64',_0x244ee4=>{const _0x18a9b7=_0xe437eb;if(_0x244ee4)console['log'](_0x18a9b7(_0x5c36f7._0x59fecb));else{}});iscanshu==0x0&&(_0x2a632d='');await sleep(0x1f4);ss==0x0&&(await main(_0xe437eb(0x11f)),console['log'](tpjc));let _0x30b35e,_0x2f9e38=_0x21104f[_0xe437eb(_0x20915c._0x3ee12c)]?.['card']?_0x21104f['member']['card']:_0x21104f[_0xe437eb(0x17a)]?.[_0xe437eb(0x107)];tpjc=='不合规'&ss==0x0?(_0x30b35e=await _0x21104f[_0xe437eb(0x12e)]('又画涩图！你画涩图我已经发给主人了，别再画了！'),msg2=[_0xe437eb(_0x20915c._0x2446e4),_0xe437eb(_0x20915c._0x2ec3f5)+_0x2f9e38+'('+String(_0x21104f[_0xe437eb(0x17c)])+')\x0a',_0xe437eb(0x1bd)+_0x21104f['group']['name']+'('+String(_0x21104f[_0xe437eb(_0x20915c._0x4734e8)])+')\x0a',_0xe437eb(_0x20915c._0x3e58d5),segment[_0xe437eb(0x1b2)](_0xe437eb(0x11f))],Bot[_0xe437eb(0x1a5)](_0x4464ef)['sendMsg'](msg2)):(msg2=[segment[_0xe437eb(_0x20915c._0x47f55c)](_0xe437eb(0x11f)),_0x2a632d],_0x30b35e=await _0x21104f[_0xe437eb(_0x20915c._0x4cbac)](msg2,ishuifu));iscd=0x1,console[_0xe437eb(_0x20915c._0x317dc9)](_0x30b35e['message_id'],isch);if(_0x30b35e&&_0x30b35e['message_id']&&isch==0x1&&_0x21104f[_0xe437eb(0x18f)]){let _0x4efd97=_0x21104f[_0xe437eb(0x1cd)];setTimeout(()=>{const _0xb463ae=_0xe437eb;_0x4efd97[_0xb463ae(0x1a0)](_0x30b35e['message_id']);},timeout);}startTimeMS=new Date()['getTime'](),t=setTimeout(()=>{kg2=0x0,iscd=0x0;},cd);}else{if(iscd==0x1){let _0x416127=cd-(new Date()[_0xe437eb(_0x20915c._0x3324f8)]()-startTimeMS);_0x416127=Math[_0xe437eb(_0x20915c._0x4dcef2)](_0x416127/0x3e8);if(_0x416127<0x0){kg2=0x0;return;}_0x21104f[_0xe437eb(0x12e)](_0xe437eb(0xf1)+String(_0x416127)+_0xe437eb(0x17f));}else _0x21104f[_0xe437eb(_0x20915c._0x4455e0)](_0xe437eb(_0x20915c._0x14e19b));}}}function _0x1fc3(_0x33f457,_0x19f7b7){const _0x3348c3=_0x3348();return _0x1fc3=function(_0x1fc305,_0x2a604b){_0x1fc305=_0x1fc305-0xcd;let _0x59d220=_0x3348c3[_0x1fc305];return _0x59d220;},_0x1fc3(_0x33f457,_0x19f7b7);}async function imgUrlToBase64(_0x565394){const _0x2278e3={_0x2c3c10:0x147},_0x28f496={_0x37fcd5:0x106},_0x5cc6c5={_0x35d9dc:0x148,_0x2219e8:0x119};let _0x212755;return new Promise(function(_0x325ee4,_0x3f4065){const _0x4367b3=_0x1fc3;let _0x5c71c9=http[_0x4367b3(_0x2278e3._0x2c3c10)](_0x565394,function(_0x2ac20a){const _0x42b418={_0x557985:0x171},_0x41c78c=_0x4367b3;var _0x300945=[],_0x4268da=0x0;_0x2ac20a['on'](_0x41c78c(_0x5cc6c5._0x35d9dc),function(_0xae470f){const _0x29539c=_0x41c78c;_0x300945[_0x29539c(0x176)](_0xae470f),_0x4268da+=_0xae470f[_0x29539c(0x15a)];}),_0x2ac20a['on'](_0x41c78c(_0x5cc6c5._0x2219e8),function(_0x750601){const _0x5b3990=_0x41c78c;var _0x12ad96=Buffer[_0x5b3990(0xf2)](_0x300945,_0x4268da);_0x212755=_0x12ad96['toString'](_0x5b3990(_0x42b418._0x557985)),_0x325ee4({'success':!![],'base64Img':_0x212755});});});_0x5c71c9['on'](_0x4367b3(0x154),_0x4b6f29=>{const _0x55dbd8=_0x4367b3;_0x325ee4({'success':![],'errmsg':_0x4b6f29[_0x55dbd8(_0x28f496._0x37fcd5)]});}),_0x5c71c9[_0x4367b3(0x119)]();});}function sleep(_0x55a022){return new Promise(_0x142356=>setTimeout(_0x142356,_0x55a022));}async function dqpz(){const _0x8d8eaa={_0x5302e1:0x10e,_0x1570d9:0x18b,_0x29dff9:0xf3,_0x5a4d72:0x11b,_0x37d8a4:0x1c2,_0x1c3fb8:0xd9,_0x10d3ab:0x1a2},_0x24b937=_0x2463d0;let _0x45f515=_0x3d55ac[_0x24b937(_0x8d8eaa._0x5302e1)](_0x29ebd1[_0x24b937(0x127)](_0x24b937(_0x8d8eaa._0x1570d9),_0x24b937(_0x8d8eaa._0x29dff9)));cd=_0x45f515['cd'],timeout=_0x45f515[_0x24b937(_0x8d8eaa._0x5a4d72)],isch=_0x45f515[_0x24b937(_0x8d8eaa._0x37d8a4)],iscd=_0x45f515[_0x24b937(_0x8d8eaa._0x1c3fb8)],zr=_0x45f515['zr'],ss=_0x45f515['ss'],console[_0x24b937(_0x8d8eaa._0x10d3ab)](cd,timeout,isch,iscd,zr,ss),await sleep(0x1f4);}async function getAgent(){const _0x47ee89={_0x3c14ef:0x151},_0x10b1f7={_0x3d0c97:0x154},_0x3f363f=_0x2463d0;let _0x5abfde=_0x46ad5c[_0x3f363f(0x1ca)][_0x3f363f(_0x47ee89._0x3c14ef)];if(!_0x5abfde)return null;if(_0x5abfde==='http://0.0.0.0:0')return null;HttpsProxyAgent===''&&(HttpsProxyAgent=await import('https-proxy-agent')['catch'](_0x1ec426=>{const _0x56d51c=_0x3f363f;logger[_0x56d51c(_0x10b1f7._0x3d0c97)](_0x1ec426);}),HttpsProxyAgent=HttpsProxyAgent?HttpsProxyAgent['default']:undefined);if(HttpsProxyAgent)return new HttpsProxyAgent(_0x5abfde);return null;}async function main(_0x6fab4){const _0x390289={_0x1bfc1e:0x13a,_0x45bddf:0xf8,_0xb70d8d:0x1a2},_0x221778=_0x2463d0;let _0x47ee13=getFileContentAsBase64(_0x6fab4),_0x460d25=_0x221778(0x142)+await getAccessToken(),_0x4c9ccd=await _0x505f2d(_0x460d25,{'method':_0x221778(0x19d),'body':_0x221778(_0x390289._0x1bfc1e)+encodeURIComponent(_0x47ee13),'headers':{'Content-Type':'application/x-www-form-urlencoded','Accept':_0x221778(0x182)}});_0x4c9ccd=await _0x4c9ccd[_0x221778(0x1d2)](),tpjc=_0x4c9ccd[_0x221778(_0x390289._0x45bddf)],console[_0x221778(_0x390289._0xb70d8d)](tpjc);}async function getAccessToken(){const _0x1929ec=_0x2463d0;let _0x2a2adb=_0x3d55ac[_0x1929ec(0x10e)](_0x29ebd1['readFileSync'](_0x1929ec(0x18b),'utf8'));const _0x3ed634=_0x2a2adb['ak'],_0xa02e21=_0x2a2adb['sk'];let _0x54ed6b=_0x1929ec(0x125)+_0x3ed634+'&client_secret='+_0xa02e21,_0x38614d=await _0x505f2d(_0x54ed6b,{'method':_0x1929ec(0x19d)});return _0x38614d=await _0x38614d[_0x1929ec(0x1d2)](),_0x38614d=_0x38614d[_0x1929ec(0xec)],_0x38614d;}function getFileContentAsBase64(_0x3cfe61){const _0x92f632={_0x38cf49:0x127,_0x4a1810:0x171},_0x4f13ac=_0x2463d0,_0x10bc6a=require('fs');try{return _0x10bc6a[_0x4f13ac(_0x92f632._0x38cf49)](_0x3cfe61,{'encoding':_0x4f13ac(_0x92f632._0x4a1810)});}catch(_0x1f7843){throw new Error(_0x1f7843);}}
const _0x39294f=_0x407e;(function(_0x238011,_0x183782){const _0x287041=_0x407e,_0xbc1198=_0x238011();while(!![]){try{const _0x35689f=parseInt(_0x287041(0x346))/0x1+-parseInt(_0x287041(0x367))/0x2*(parseInt(_0x287041(0x297))/0x3)+-parseInt(_0x287041(0x306))/0x4+-parseInt(_0x287041(0x3bf))/0x5*(-parseInt(_0x287041(0x3ca))/0x6)+-parseInt(_0x287041(0x372))/0x7*(-parseInt(_0x287041(0x34e))/0x8)+-parseInt(_0x287041(0x2d7))/0x9*(-parseInt(_0x287041(0x330))/0xa)+-parseInt(_0x287041(0x352))/0xb;if(_0x35689f===_0x183782)break;else _0xbc1198['push'](_0xbc1198['shift']());}catch(_0xaa2ee1){_0xbc1198['push'](_0xbc1198['shift']());}}}(_0x1a15,0x95679));const _0x41c03e=(function(){let _0x2d79ca=!![];return function(_0x26709d,_0x541f77){const _0x3c6e33=_0x2d79ca?function(){const _0x15d870=_0x407e;if(_0x541f77){const _0x4ee431=_0x541f77[_0x15d870(0x27f)](_0x26709d,arguments);return _0x541f77=null,_0x4ee431;}}:function(){};return _0x2d79ca=![],_0x3c6e33;};}()),_0x4caa4b=_0x41c03e(this,function(){const _0x5315ed=_0x407e;return _0x4caa4b[_0x5315ed(0x2c3)]()[_0x5315ed(0x39f)](_0x5315ed(0x333))[_0x5315ed(0x2c3)]()['constructor'](_0x4caa4b)[_0x5315ed(0x39f)](_0x5315ed(0x333));});_0x4caa4b();const _0x39ce41=(function(){let _0xf5c75c=!![];return function(_0x2a2e13,_0x172763){const _0x1fd500=_0xf5c75c?function(){if(_0x172763){const _0x5f598d=_0x172763['apply'](_0x2a2e13,arguments);return _0x172763=null,_0x5f598d;}}:function(){};return _0xf5c75c=![],_0x1fd500;};}()),_0x57c149=_0x39ce41(this,function(){const _0x5edd79=_0x407e,_0x2c0946=function(){const _0x3b24ea=_0x407e;let _0x57a0f0;try{_0x57a0f0=Function('return\x20(function()\x20'+_0x3b24ea(0x231)+');')();}catch(_0x57fd02){_0x57a0f0=window;}return _0x57a0f0;},_0x1cca86=_0x2c0946(),_0x2f203b=_0x1cca86[_0x5edd79(0x2f9)]=_0x1cca86[_0x5edd79(0x2f9)]||{},_0x5171fd=[_0x5edd79(0x303),_0x5edd79(0x3cd),_0x5edd79(0x233),_0x5edd79(0x221),_0x5edd79(0x218),'table','trace'];for(let _0x4f4699=0x0;_0x4f4699<_0x5171fd[_0x5edd79(0x385)];_0x4f4699++){const _0xa0bff7=_0x39ce41[_0x5edd79(0x2c9)]['prototype'][_0x5edd79(0x276)](_0x39ce41),_0x3f27da=_0x5171fd[_0x4f4699],_0x2dc850=_0x2f203b[_0x3f27da]||_0xa0bff7;_0xa0bff7[_0x5edd79(0x26c)]=_0x39ce41[_0x5edd79(0x276)](_0x39ce41),_0xa0bff7[_0x5edd79(0x2c3)]=_0x2dc850[_0x5edd79(0x2c3)][_0x5edd79(0x276)](_0x2dc850),_0x2f203b[_0x3f27da]=_0xa0bff7;}});_0x57c149();import _0x45cb15 from'lodash';import _0x15e74f from'md5';import _0x3421e4 from'node-fetch';import _0x2a59fa from'image-size';import _0x35faf9 from'fs';import _0xfee63a from'../../../lib/config/config.js';import{getdsc}from'../../../plugins/earth-k-plugin/resources/getecy.js';import _0x44552e from'../../../lib/puppeteer/puppeteer.js';let data1={};import _0xe90c12 from'node-schedule';import{createRequire}from'module';import _0x56703d from'yaml';const require=createRequire(import.meta[_0x39294f(0x33a)]);let ysct,mf,mfkg=0x0,tpjc='',jsss=0x0,ml=process[_0x39294f(0x33b)]();var http=require(_0x39294f(0x2c1));import _0x8adf7d from'lodash';let yushekg=0x0,kg=0x0,guimo=0xa,kg2=0x0,tsckg=0x0,ecydtkg=0x0,wdecykg=0x0,mfid='',res4,htm='',htm2='',res5,res,zr=0x0,changdu=0x200,kuandu=0x200,chang,kuan,msg2,tpjg,timeout=0x7530,isch=0x1,cd=0x0,t,zhuren,startTimeMS,iscd=0x0,my,dz,sj1,sj2,shuju,zt=0x0,gjc2,sc=0x0,bushu=0x1c,id='',xsd=0.5,nr,ycqx,jz=0.2,dtkg=0x0,ss=0x1,txtdz=_0x39294f(0x21c),imgdz=_0x39294f(0x266),Path,ys=[],moxing=_0x39294f(0x3b6),isdl=0x0,iscanshu=0x1,ishuifu=!![],HttpsProxyAgent='',changkuan=0x0,jhft=0x1,chicun=0x1,sesequn=[],blackqun=[],blackqq=[],dizhi='',dqjk=0x0,beishu=0x8,isyun=0x1,pc=_0x39294f(0x3ab),cs=0x3e8,suijics=0x3,mrct,dqct,tlkg=0x0,ftkg=0x0;function _0x407e(_0x24bce7,_0x52c013){const _0x26f8df=_0x1a15();return _0x407e=function(_0x57c149,_0x39ce41){_0x57c149=_0x57c149-0x1ca;let _0x5c3437=_0x26f8df[_0x57c149];return _0x5c3437;},_0x407e(_0x24bce7,_0x52c013);}export class aiht extends plugin{constructor(){const _0x17be03=_0x39294f;super({'name':_0x17be03(0x256),'dsc':'土块AI画图','event':_0x17be03(0x2fe),'priority':0x9,'rule':[{'reg':_0x17be03(0x217),'fnc':_0x17be03(0x2aa)},{'reg':_0x17be03(0x214),'fnc':_0x17be03(0x3b4)},{'reg':'^#新增屏蔽词(.*)$|#查看屏蔽词$|#删除屏蔽词$|#开启默认屏蔽词(.*)$','fnc':_0x17be03(0x1f5)},{'reg':'^#以图生草(.*)$|(.*)','fnc':_0x17be03(0x204),'log':![]},{'reg':_0x17be03(0x24a),'fnc':_0x17be03(0x207),'log':![]},{'reg':_0x17be03(0x3a5),'fnc':'szgm'},{'reg':_0x17be03(0x3b3),'fnc':'szmx'},{'reg':_0x17be03(0x366),'fnc':'szbs'},{'reg':_0x17be03(0x2a4),'fnc':_0x17be03(0x277)},{'reg':_0x17be03(0x21d),'fnc':_0x17be03(0x38d)},{'reg':_0x17be03(0x2c0),'fnc':_0x17be03(0x337)},{'reg':_0x17be03(0x2a0),'fnc':_0x17be03(0x280)},{'reg':'^#二次元的他(.*)','fnc':_0x17be03(0x26e)},{'reg':_0x17be03(0x30e),'fnc':_0x17be03(0x2eb)},{'reg':_0x17be03(0x347),'fnc':_0x17be03(0x295)},{'reg':_0x17be03(0x25b),'fnc':_0x17be03(0x3b9)},{'reg':_0x17be03(0x206),'fnc':_0x17be03(0x361)},{'reg':_0x17be03(0x227),'fnc':_0x17be03(0x202)},{'reg':'^#关闭鉴黄发图|#开启鉴黄发图','fnc':_0x17be03(0x24d)},{'reg':_0x17be03(0x3a6),'fnc':'black'},{'reg':_0x17be03(0x32f),'fnc':_0x17be03(0x2cb)},{'reg':'^#新增生草预设(.*)','fnc':_0x17be03(0x2cc)},{'reg':_0x17be03(0x1de),'fnc':_0x17be03(0x2a2)},{'reg':_0x17be03(0x23b),'fnc':_0x17be03(0x216)},{'reg':_0x17be03(0x28d),'fnc':_0x17be03(0x2e5)},{'reg':'^#今日出图','fnc':_0x17be03(0x370)},{'reg':_0x17be03(0x1d2),'fnc':_0x17be03(0x253)},{'reg':'^#查询剩余次数(.*)','fnc':_0x17be03(0x2c2)},{'reg':_0x17be03(0x2d3),'fnc':_0x17be03(0x26f)},{'reg':'^多罗!!','fnc':_0x17be03(0x1fa)},{'reg':'#随机次数(.*)','fnc':_0x17be03(0x317)},{'reg':_0x17be03(0x39c),'fnc':_0x17be03(0x36f)},{'reg':'^#开启图链模式$|^#关闭图链模式$','fnc':_0x17be03(0x25e)},{'reg':_0x17be03(0x291),'fnc':_0x17be03(0x363)}]});}async['stlj'](_0x2ea32f){const _0x178425=_0x39294f;if(_0x2ea32f['msg']=='#开启涩图链接'&_0x2ea32f[_0x178425(0x310)]){ftkg=0x1,_0x2ea32f[_0x178425(0x2ca)](_0x178425(0x2d2));let _0x366c33=_0x56703d[_0x178425(0x2b2)](_0x35faf9[_0x178425(0x1db)](_0x178425(0x296),_0x178425(0x2e6)));_0x366c33['ftkg']=0x1,_0x35faf9[_0x178425(0x34c)](_0x178425(0x296),_0x56703d['stringify'](_0x366c33)),await sleep(0x1f4);}if(_0x2ea32f[_0x178425(0x3b5)]==_0x178425(0x28e)&_0x2ea32f[_0x178425(0x310)]){ftkg=0x0,_0x2ea32f['reply']('关闭涩图链接成功，接下来神马都没有');let _0x8877f6=_0x56703d[_0x178425(0x2b2)](_0x35faf9[_0x178425(0x1db)](_0x178425(0x296),_0x178425(0x2e6)));_0x8877f6['ftkg']=0x0,_0x35faf9[_0x178425(0x34c)](_0x178425(0x296),_0x56703d['stringify'](_0x8877f6)),await sleep(0x1f4);}}async[_0x39294f(0x25e)](_0x2a5281){const _0x1185f1=_0x39294f;if(_0x2a5281[_0x1185f1(0x3b5)]==_0x1185f1(0x378)&_0x2a5281[_0x1185f1(0x310)]){tlkg=0x1,_0x2a5281[_0x1185f1(0x2ca)](_0x1185f1(0x349));let _0x4aa7f4=_0x56703d[_0x1185f1(0x2b2)](_0x35faf9[_0x1185f1(0x1db)](_0x1185f1(0x296),_0x1185f1(0x2e6)));_0x4aa7f4[_0x1185f1(0x3a7)]=0x1,_0x35faf9[_0x1185f1(0x34c)](_0x1185f1(0x296),_0x56703d[_0x1185f1(0x36e)](_0x4aa7f4)),await sleep(0x1f4);}if(_0x2a5281[_0x1185f1(0x3b5)]==_0x1185f1(0x2a7)&_0x2a5281[_0x1185f1(0x310)]){tlkg=0x0,_0x2a5281['reply'](_0x1185f1(0x1da));let _0x37a8c3=_0x56703d['parse'](_0x35faf9[_0x1185f1(0x1db)](_0x1185f1(0x296),_0x1185f1(0x2e6)));_0x37a8c3[_0x1185f1(0x3a7)]=0x0,_0x35faf9[_0x1185f1(0x34c)](_0x1185f1(0x296),_0x56703d[_0x1185f1(0x36e)](_0x37a8c3)),await sleep(0x1f4);}}async['mrct'](_0x222e1){const _0x2b3471=_0x39294f;let _0x3e6996=_0x56703d['parse'](_0x35faf9[_0x2b3471(0x1db)]('./plugins/earth-k-plugin/config/config.yaml',_0x2b3471(0x2e6)));_0x3e6996[_0x2b3471(0x2f1)]==undefined&&(_0x3e6996[_0x2b3471(0x2f1)]=-0x1,_0x35faf9['writeFileSync'](_0x2b3471(0x296),_0x56703d[_0x2b3471(0x36e)](_0x3e6996)),await sleep(0x1f4));let _0x12753e=_0x222e1['msg'][_0x2b3471(0x2a1)](/^#设置每日出图/,'');_0x3e6996[_0x2b3471(0x2f1)]=Number(_0x12753e),_0x3e6996[_0x2b3471(0x2ee)]==undefined&&(_0x3e6996[_0x2b3471(0x2ee)]=0x0),_0x35faf9[_0x2b3471(0x34c)]('./plugins/earth-k-plugin/config/config.yaml',_0x56703d[_0x2b3471(0x36e)](_0x3e6996)),await sleep(0x1f4),_0x222e1['reply'](_0x2b3471(0x2d4)+_0x12753e+'张');}async[_0x39294f(0x317)](_0x399b57){const _0xc3d3be=_0x39294f;suijics=_0x399b57[_0xc3d3be(0x3b5)][_0xc3d3be(0x2a1)](/^#随机次数/,''),_0x399b57['reply'](_0xc3d3be(0x2c5)+suijics+'个词条'),suijics=Number(suijics),console[_0xc3d3be(0x303)](suijics);}async[_0x39294f(0x1fa)](_0x39b03d){const _0x223ece=_0x39294f,_0x1b61e4=-0x32,_0x527f09=0x32,_0x147f67=_0x527f09-_0x1b61e4,_0x1ac4a1=Math[_0x223ece(0x3b1)](),_0x5015fd=_0x1b61e4+Math[_0x223ece(0x2b6)](_0x1ac4a1*_0x147f67);let _0xd12806=_0x39b03d['user_id'],_0x97c590=_0x223ece(0x33e)+_0xd12806+'&miyao=1142407413&cishu='+_0x5015fd;console[_0x223ece(0x303)](_0x5015fd);let _0x360272=await _0x3421e4(_0x97c590);_0x360272=await _0x360272['json'](),console['log'](_0x360272);let _0x1e2c22=[];_0x5015fd>0x0?_0x1e2c22=[segment['at'](_0xd12806),_0x223ece(0x282),_0x360272[_0x223ece(0x22b)],'次',_0x223ece(0x379),String(_0x360272[_0x223ece(0x22a)]),'次']:_0x1e2c22=[segment['at'](_0xd12806),'很遗憾你失去',_0x360272[_0x223ece(0x22b)],'次',_0x223ece(0x379),String(_0x360272['total']),'次'],_0x39b03d[_0x223ece(0x2ca)](_0x1e2c22);}async['gtj'](_0x31882f){const _0x4aee70=_0x39294f;if(_0x31882f[_0x4aee70(0x3a8)]!=0x4417c0f5){_0x31882f[_0x4aee70(0x2ca)]('你是一个一个一个一个什么啊');return;}let _0x196c73=_0x31882f[_0x4aee70(0x3b5)]['replace'](/^给他加/,''),_0x3c02d5=_0x31882f['at'],_0x2434ad=_0x4aee70(0x33e)+_0x3c02d5+_0x4aee70(0x27b)+_0x196c73,_0x320472=await _0x3421e4(_0x2434ad);_0x320472=await _0x320472[_0x4aee70(0x258)](),console[_0x4aee70(0x303)](_0x320472);let _0x57cae0=['已经给',segment['at'](_0x3c02d5),_0x320472[_0x4aee70(0x22b)],'次',_0x4aee70(0x1fd),String(_0x320472['total']),'次'];_0x31882f['reply'](_0x57cae0);}async[_0x39294f(0x2c2)](_0x2adf82){const _0x1773cb=_0x39294f;let _0x2e6cac=_0x2adf82[_0x1773cb(0x3b5)][_0x1773cb(0x2a1)](/^#查询剩余次数/,'');_0x2adf82['at']!=undefined&&(_0x2e6cac=_0x2adf82['at']);_0x2e6cac==0x0&&(_0x2e6cac=_0x2adf82[_0x1773cb(0x3a8)]);let _0x4d2ed0=_0x1773cb(0x2ad)+_0x2e6cac,_0x428b6a=await _0x3421e4(_0x4d2ed0),_0x3b2620=await _0x428b6a[_0x1773cb(0x258)](),_0x4462f6=_0x3b2620['total'],_0x35a575=_0x3b2620['cs'],_0x5637a8=_0x3b2620[_0x1773cb(0x39a)],_0x226039=_0x3b2620['nr'],_0x1eb882=[segment['at'](Number(_0x2e6cac)),_0x1773cb(0x27a)+_0x4462f6+_0x1773cb(0x22e)+_0x35a575+_0x1773cb(0x3ac)+_0x5637a8+_0x1773cb(0x36d)+_0x226039];_0x2adf82[_0x1773cb(0x2ca)](_0x1eb882),console[_0x1773cb(0x303)](_0x3b2620);}async['yys'](_0x30b25f){const _0x1075c7=_0x39294f;let _0x1cd840=_0x56703d[_0x1075c7(0x2b2)](_0x35faf9[_0x1075c7(0x1db)](_0x1075c7(0x296),_0x1075c7(0x2e6)));_0x30b25f[_0x1075c7(0x3b5)]==_0x1075c7(0x369)&&(isyun=0x1,_0x30b25f[_0x1075c7(0x2ca)](_0x1075c7(0x293))),_0x30b25f[_0x1075c7(0x3b5)]==_0x1075c7(0x345)&&(isyun=0x0,_0x30b25f['reply'](_0x1075c7(0x244))),_0x1cd840[_0x1075c7(0x201)]=isyun,_0x35faf9[_0x1075c7(0x34c)](_0x1075c7(0x296),_0x56703d['stringify'](_0x1cd840));}async[_0x39294f(0x370)](_0x1a159d){const _0x50ded7=_0x39294f;let _0xb9abf2=_0x50ded7(0x263),_0x54f2b5=await _0x3421e4(_0x50ded7(0x263)),_0x309cac=await _0x54f2b5[_0x50ded7(0x258)](),_0x11e8fd=_0x309cac['cs'];console[_0x50ded7(0x303)](_0x11e8fd);const _0x4d00e6=new Date(),_0x595d48=_0x4d00e6[_0x50ded7(0x3c9)](),_0x39b931=_0x4d00e6[_0x50ded7(0x39b)]()+0x1,_0x525ab5=_0x4d00e6[_0x50ded7(0x399)]();_0x1a159d['reply']([_0x39b931+'月'+_0x525ab5+_0x50ded7(0x26d)+_0x11e8fd,'\x0a'+_0x309cac[_0x50ded7(0x2f6)]+',\x0a'+_0x309cac['rw']]),console[_0x50ded7(0x303)](_0x39b931+'月'+_0x525ab5+'日');}async['ckhtmx'](_0x139a78){const _0x2730d9=_0x39294f;dqpz();if(!_0x139a78[_0x2730d9(0x310)])return;if(_0x139a78[_0x2730d9(0x3b5)]=='#查看画图模型'){let _0x58e6f5=dizhi+_0x2730d9(0x356),_0x333a42=await _0x3421e4(_0x58e6f5);_0x333a42=await _0x333a42[_0x2730d9(0x258)](),console['log'](_0x333a42[_0x2730d9(0x2ac)]);let _0x3f497a=_0x333a42['sd_model_checkpoint'];_0x58e6f5=dizhi+_0x2730d9(0x312);let _0x2718a6=await _0x3421e4(_0x58e6f5);_0x2718a6=await _0x2718a6[_0x2730d9(0x258)]();let _0x4b81ea=[],_0x511e0f='1.当前模型：'+_0x3f497a+'\x0a\x0a';for(let _0x52f659=0x0;_0x52f659<_0x2718a6[_0x2730d9(0x385)];_0x52f659++){_0x4b81ea[_0x2730d9(0x2ab)](_0x2718a6[_0x52f659]['model_name']),_0x511e0f=_0x511e0f+String(_0x52f659+0x2)+'.'+_0x2718a6[_0x52f659][_0x2730d9(0x3a9)]+'\x0a';}_0x139a78[_0x2730d9(0x2ca)](_0x511e0f);}if(_0x139a78[_0x2730d9(0x3b5)][_0x2730d9(0x251)]('#切换画图模型')){let _0x56ef97=_0x139a78[_0x2730d9(0x3b5)][_0x2730d9(0x2a1)](/^#切换画图模型/,'');_0x56ef97=Number(_0x56ef97)-0x2;let _0x3164f5=dizhi+'/sdapi/v1/sd-models',_0x151078=await _0x3421e4(_0x3164f5);_0x151078=await _0x151078['json'](),console['log'](_0x151078[_0x56ef97][_0x2730d9(0x35e)]),_0x139a78['reply']([_0x2730d9(0x243),_0x151078[_0x56ef97][_0x2730d9(0x3a9)],_0x2730d9(0x29f)]);let _0x59e753={'sd_model_checkpoint':_0x151078[_0x56ef97]['title']};_0x3164f5=dizhi+_0x2730d9(0x356);let _0x4f3b5d=await _0x3421e4(_0x3164f5,{'method':_0x2730d9(0x2ff),'body':JSON[_0x2730d9(0x36e)](_0x59e753),'headers':{'Content-Type':_0x2730d9(0x1d9)}});const _0x4c15d2=await _0x4f3b5d[_0x2730d9(0x258)]();_0x4c15d2?(console[_0x2730d9(0x303)](_0x4c15d2),_0x139a78[_0x2730d9(0x2ca)](_0x2730d9(0x3cb),!![])):_0x139a78['reply']('模型切换成功',!![]);}}async['scscys'](_0x4edc06){const _0x530db2=_0x39294f;if(!_0x4edc06[_0x530db2(0x310)]){_0x4edc06[_0x530db2(0x2ca)](_0x530db2(0x22f));return;}let _0x3cfa03=_0x56703d['parse'](_0x35faf9['readFileSync'](_0x530db2(0x23e),_0x530db2(0x2e6))),_0x3dd11f=_0x4edc06['msg']['replace'](/#删除生草预设/g,'')['trim']();_0x3dd11f=Number(_0x3dd11f)-0x1,_0x3cfa03['yus'][_0x530db2(0x35b)](_0x3dd11f,0x1),_0x4edc06[_0x530db2(0x2ca)](_0x530db2(0x1f7)),_0x35faf9[_0x530db2(0x34c)]('./resources/tscys.yaml',_0x56703d[_0x530db2(0x36e)](_0x3cfa03));}async[_0x39294f(0x2a2)](_0x3bb25b){const _0x4df6f9=_0x39294f;let _0x2e3506=_0x56703d['parse'](_0x35faf9[_0x4df6f9(0x1db)](_0x4df6f9(0x23e),_0x4df6f9(0x2e6))),_0x19f25e=[];for(let _0x309a19=0x0;_0x309a19<_0x2e3506['yus'][_0x4df6f9(0x385)];_0x309a19++){_0x19f25e[_0x4df6f9(0x2ab)](_0x2e3506[_0x4df6f9(0x270)][_0x309a19]['mc']);}data1={'tplFile':'./plugins/earth-k-plugin/resources/aiht/ml.html','dz':ml,'lb':_0x19f25e,'qsid':0x0};let _0x3da92a=await _0x44552e[_0x4df6f9(0x383)](_0x4df6f9(0x2f5),{...data1});_0x3bb25b[_0x4df6f9(0x2ca)](_0x3da92a);}async[_0x39294f(0x2cc)](_0x57d931){const _0x56b38=_0x39294f;if(!_0x57d931[_0x56b38(0x310)]){_0x57d931['reply'](_0x56b38(0x200));return;}let _0x5edf28=ml+'/resources/'+_0x56b38(0x212)+'.yaml',_0x42b13b='./resources/tscys.yaml';_0x35faf9[_0x56b38(0x339)](_0x42b13b[_0x56b38(0x2c3)](),_0x35faf9[_0x56b38(0x285)][_0x56b38(0x1d0)],_0x444c5=>{const _0x192cb2=_0x56b38;if(_0x444c5){let _0x3dbe80={'yus':[{'mc':'高达','tga':'gundam'}]};_0x35faf9[_0x192cb2(0x34c)](_0x5edf28,_0x56703d[_0x192cb2(0x36e)](_0x3dbe80));}else console[_0x192cb2(0x303)](_0x57d931[_0x192cb2(0x3a8)][_0x192cb2(0x2c3)]()+_0x192cb2(0x1e9));}),await sleep(0x1f4);let _0x227ebe=_0x57d931[_0x56b38(0x3b5)][_0x56b38(0x2a1)](/#新增生草预设/g,'')[_0x56b38(0x304)](),_0x3c0eed=_0x227ebe[_0x56b38(0x1e1)]('+');if(_0x3c0eed[_0x56b38(0x385)]!=0x2){_0x57d931[_0x56b38(0x2ca)]('你输入的不合规范，中间请用+连接');return;}let _0x1453e3=_0x56703d[_0x56b38(0x2b2)](_0x35faf9['readFileSync']('./resources/tscys.yaml',_0x56b38(0x2e6)));_0x1453e3[_0x56b38(0x270)][_0x56b38(0x2ab)]({'mc':_0x3c0eed[0x0],'tga':_0x56b38(0x388)+_0x3c0eed[0x1]}),_0x57d931['reply'](_0x56b38(0x21b)),_0x35faf9[_0x56b38(0x34c)](_0x5edf28,_0x56703d[_0x56b38(0x36e)](_0x1453e3)),console[_0x56b38(0x303)](_0x3c0eed);}async[_0x39294f(0x2cb)](_0x1b625e){const _0x463ff6=_0x39294f;let _0x37c8fe=_0x56703d[_0x463ff6(0x2b2)](_0x35faf9['readFileSync'](_0x463ff6(0x296),'utf8'));if(_0x1b625e['msg']==_0x463ff6(0x1e4)&_0x1b625e[_0x463ff6(0x310)]){let _0x24b9fa=_0x37c8fe[_0x463ff6(0x2cb)][_0x463ff6(0x2ed)](_0x448f19=>_0x448f19==_0x1b625e[_0x463ff6(0x32c)]);if(_0x24b9fa!=-0x1){_0x1b625e['reply'](_0x463ff6(0x29a));return;}_0x37c8fe[_0x463ff6(0x2cb)][_0x463ff6(0x2ab)](_0x1b625e['group_id']),_0x1b625e[_0x463ff6(0x2ca)](['已经将',String(_0x1b625e['group_id']),'丢进黑名单群了']);}if(_0x1b625e[_0x463ff6(0x3b5)]==_0x463ff6(0x1dd)&_0x1b625e[_0x463ff6(0x310)]){let _0x1d97b5=_0x37c8fe[_0x463ff6(0x2cb)][_0x463ff6(0x2ed)](_0x38b98e=>_0x38b98e==_0x1b625e[_0x463ff6(0x32c)]);if(_0x1d97b5==-0x1){_0x1b625e[_0x463ff6(0x2ca)](_0x463ff6(0x209));return;}_0x37c8fe[_0x463ff6(0x2cb)][_0x463ff6(0x35b)](_0x1d97b5,0x1),_0x1b625e[_0x463ff6(0x2ca)]([_0x463ff6(0x365),String(_0x1b625e[_0x463ff6(0x32c)]),'从黑名单群里放出来了']);}_0x35faf9[_0x463ff6(0x34c)]('./plugins/earth-k-plugin/config/config.yaml',_0x56703d['stringify'](_0x37c8fe));}async[_0x39294f(0x35d)](_0x5dbb50){const _0x22da0f=_0x39294f;let _0x2d23a8=_0x56703d[_0x22da0f(0x2b2)](_0x35faf9[_0x22da0f(0x1db)](_0x22da0f(0x296),'utf8'));if(_0x5dbb50[_0x22da0f(0x3b5)]=='#土块画图封禁'&_0x5dbb50[_0x22da0f(0x310)]){let _0x5d5371=_0x5dbb50['at'],_0x2e1d4d=_0x2d23a8[_0x22da0f(0x2db)][_0x22da0f(0x2ed)](_0x48233d=>_0x48233d==_0x5d5371);if(_0x2e1d4d!=-0x1){_0x5dbb50[_0x22da0f(0x2ca)](_0x22da0f(0x284));return;}_0x5dbb50['at']==undefined&&(_0x5d5371=_0x5dbb50['msg'][_0x22da0f(0x2a1)](/#土块画图封禁/g,'')['trim']()),_0x2d23a8[_0x22da0f(0x2db)][_0x22da0f(0x2ab)](_0x5d5371),_0x5dbb50[_0x22da0f(0x2ca)]([_0x22da0f(0x365),String(_0x5d5371),_0x22da0f(0x29e)]);}if(_0x5dbb50[_0x22da0f(0x3b5)]=='#土块画图解禁'&_0x5dbb50[_0x22da0f(0x310)]){let _0x1e83ae=_0x5dbb50['at'];_0x5dbb50['at']==undefined&&(_0x1e83ae=_0x5dbb50[_0x22da0f(0x3b5)][_0x22da0f(0x2a1)](/#土块画图解禁/g,'')[_0x22da0f(0x304)]());let _0x21e28e=_0x2d23a8[_0x22da0f(0x2db)]['findIndex'](_0x423e8b=>_0x423e8b==_0x1e83ae);if(_0x21e28e==-0x1){_0x5dbb50['reply']('他不在黑名单里！');return;}_0x2d23a8[_0x22da0f(0x2db)][_0x22da0f(0x35b)](_0x21e28e,0x1),_0x5dbb50[_0x22da0f(0x2ca)]([_0x22da0f(0x365),String(_0x1e83ae),_0x22da0f(0x25f)]);}_0x35faf9['writeFileSync'](_0x22da0f(0x296),_0x56703d[_0x22da0f(0x36e)](_0x2d23a8));}async[_0x39294f(0x24d)](_0x33c2b1){const _0x543068=_0x39294f;let _0x525d95=_0x56703d[_0x543068(0x2b2)](_0x35faf9['readFileSync'](_0x543068(0x296),'utf8'));_0x33c2b1['msg']=='#开启鉴黄发图'&_0x33c2b1[_0x543068(0x310)]&&(jhft=0x1,_0x525d95[_0x543068(0x24d)]=0x1,_0x35faf9[_0x543068(0x34c)](_0x543068(0x296),_0x56703d[_0x543068(0x36e)](_0x525d95)),_0x33c2b1[_0x543068(0x2ca)](_0x543068(0x3c2))),_0x33c2b1[_0x543068(0x3b5)]=='#关闭鉴黄发图'&_0x33c2b1['isMaster']&&(jhft=0x0,_0x525d95[_0x543068(0x24d)]=0x0,_0x35faf9[_0x543068(0x34c)](_0x543068(0x296),_0x56703d[_0x543068(0x36e)](_0x525d95)),_0x33c2b1[_0x543068(0x2ca)](_0x543068(0x2dc)));}async[_0x39294f(0x202)](_0x3f7c23){const _0x32698c=_0x39294f;let _0x593911=_0x56703d['parse'](_0x35faf9[_0x32698c(0x1db)]('./plugins/earth-k-plugin/config/config.yaml',_0x32698c(0x2e6)));_0x3f7c23[_0x32698c(0x3b5)]==_0x32698c(0x24f)&&(changkuan=0x1,_0x3f7c23[_0x32698c(0x2ca)]('开启长图成功')),_0x3f7c23['msg']==_0x32698c(0x28b)&&(changkuan=0x3,_0x3f7c23[_0x32698c(0x2ca)](_0x32698c(0x362))),_0x3f7c23[_0x32698c(0x3b5)]==_0x32698c(0x396)&&(changkuan=0x2,_0x3f7c23[_0x32698c(0x2ca)](_0x32698c(0x2c6))),_0x3f7c23[_0x32698c(0x3b5)]==_0x32698c(0x229)&&(changkuan=0x0,_0x3f7c23[_0x32698c(0x2ca)]('开启随机图成功')),_0x3f7c23[_0x32698c(0x3b5)]==_0x32698c(0x37b)&_0x3f7c23[_0x32698c(0x310)]&&(chicun=0x1,_0x3f7c23[_0x32698c(0x2ca)](_0x32698c(0x329))),_0x3f7c23['msg']=='#关闭大尺寸'&_0x3f7c23['isMaster']&&(chicun=0x0,_0x3f7c23['reply'](_0x32698c(0x265))),_0x593911[_0x32698c(0x313)]=chicun,_0x593911[_0x32698c(0x3c8)]=changkuan,_0x35faf9[_0x32698c(0x34c)]('./plugins/earth-k-plugin/config/config.yaml',_0x56703d[_0x32698c(0x36e)](_0x593911));}async[_0x39294f(0x361)](_0x10ad18){const _0x41b6e3=_0x39294f;let _0x53509a=_0x56703d[_0x41b6e3(0x2b2)](_0x35faf9[_0x41b6e3(0x1db)](_0x41b6e3(0x239),_0x41b6e3(0x2e6)));if(_0x10ad18[_0x41b6e3(0x3b5)][_0x41b6e3(0x251)](_0x41b6e3(0x2af))&_0x10ad18[_0x41b6e3(0x310)]){let _0x17831c=[],_0x41cfff=_0x56703d[_0x41b6e3(0x2b2)](_0x35faf9[_0x41b6e3(0x1db)](_0x41b6e3(0x239),_0x41b6e3(0x2e6)));_0x17831c=_0x41cfff[_0x41b6e3(0x3b8)],console[_0x41b6e3(0x303)](_0x41cfff);let _0x445d03=_0x10ad18[_0x41b6e3(0x3b5)]['replace'](/#新增接口/g,'')[_0x41b6e3(0x304)]();_0x445d03=_0x445d03[_0x41b6e3(0x2a1)](/,/g,'\x20')[_0x41b6e3(0x304)](),_0x445d03=_0x445d03[_0x41b6e3(0x2a1)](/，/g,'\x20')[_0x41b6e3(0x304)]();let _0xfc34f8=_0x445d03[_0x41b6e3(0x1e1)]('\x20');if(_0xfc34f8[_0x41b6e3(0x385)]<0x2){_0x10ad18[_0x41b6e3(0x2ca)](_0x41b6e3(0x34f));return;}_0x17831c==null&&(_0x17831c=[]),_0x17831c['push']({'mc':_0xfc34f8[0x0],'jk':_0xfc34f8[0x1]}),_0x41cfff['dizhi']=_0x17831c,console['log'](_0x41cfff),_0x35faf9[_0x41b6e3(0x34c)]('./plugins/earth-k-plugin/resources/aiht/jiekou.yaml',_0x56703d[_0x41b6e3(0x36e)](_0x41cfff)),_0x10ad18[_0x41b6e3(0x2ca)]([_0x41b6e3(0x2ce),_0xfc34f8[0x0],'成功']);}if(_0x10ad18['msg']=='#查看接口'&_0x10ad18[_0x41b6e3(0x310)]){let _0x334311='';console[_0x41b6e3(0x303)](_0x53509a['dizhi']);for(let _0xb1508b=0x0;_0xb1508b<_0x53509a[_0x41b6e3(0x3b8)]['length'];_0xb1508b++){_0x334311=_0x334311+String(_0xb1508b+0x1)+'.'+_0x53509a[_0x41b6e3(0x3b8)][_0xb1508b]['mc']+'\x0a';}_0x10ad18['reply'](_0x334311);}if(_0x10ad18[_0x41b6e3(0x3b5)][_0x41b6e3(0x251)]('#切换接口')&_0x10ad18['isMaster']){let _0x4155b5=_0x10ad18[_0x41b6e3(0x3b5)][_0x41b6e3(0x2a1)](/#切换接口/g,'')['trim']();_0x4155b5=Number(_0x4155b5),_0x4155b5!=0x0?(txtdz=_0x53509a[_0x41b6e3(0x3b8)][_0x4155b5-0x1]['jk']+'/sdapi/v1/txt2img',imgdz=_0x53509a[_0x41b6e3(0x3b8)][_0x4155b5-0x1]['jk']+_0x41b6e3(0x315),_0x10ad18[_0x41b6e3(0x2ca)]([_0x41b6e3(0x34d),_0x53509a[_0x41b6e3(0x3b8)][_0x4155b5-0x1]['mc']]),_0x53509a[_0x41b6e3(0x37c)]=_0x4155b5,_0x35faf9[_0x41b6e3(0x34c)]('./plugins/earth-k-plugin/resources/aiht/jiekou.yaml',_0x56703d['stringify'](_0x53509a))):(_0x10ad18[_0x41b6e3(0x2ca)](_0x41b6e3(0x254)),_0x53509a[_0x41b6e3(0x37c)]=0x0,_0x35faf9['writeFileSync'](_0x41b6e3(0x239),_0x56703d[_0x41b6e3(0x36e)](_0x53509a)));}if(_0x10ad18[_0x41b6e3(0x3b5)][_0x41b6e3(0x251)](_0x41b6e3(0x25c))&_0x10ad18[_0x41b6e3(0x310)]){let _0x1bca92=_0x10ad18[_0x41b6e3(0x3b5)][_0x41b6e3(0x2a1)](/#删除接口/g,'')[_0x41b6e3(0x304)]();_0x1bca92=Number(_0x1bca92);let _0x271767=_0x53509a[_0x41b6e3(0x3b8)][_0x1bca92-0x1]['mc'];_0x53509a[_0x41b6e3(0x3b8)][_0x41b6e3(0x35b)](_0x1bca92-0x1,0x1),_0x35faf9[_0x41b6e3(0x34c)](_0x41b6e3(0x239),_0x56703d[_0x41b6e3(0x36e)](_0x53509a)),_0x10ad18[_0x41b6e3(0x2ca)]([_0x41b6e3(0x3d1),_0x271767,'成功']);}}async[_0x39294f(0x3b9)](_0x889158){const _0x3467fe=_0x39294f;let _0x122a8d;if(_0x889158[_0x3467fe(0x384)]){_0x889158[_0x3467fe(0x3cc)]?_0x122a8d=(await _0x889158[_0x3467fe(0x332)][_0x3467fe(0x27d)](_0x889158[_0x3467fe(0x384)][_0x3467fe(0x268)],0x1))[_0x3467fe(0x35c)]()?.['message']:_0x122a8d=(await _0x889158[_0x3467fe(0x28c)][_0x3467fe(0x27d)](_0x889158[_0x3467fe(0x384)][_0x3467fe(0x38f)],0x1))[_0x3467fe(0x35c)]()?.[_0x3467fe(0x2fe)];if(_0x122a8d)for(let _0x50c3d6 of _0x122a8d){if(_0x50c3d6[_0x3467fe(0x273)]==_0x3467fe(0x325)){_0x889158[_0x3467fe(0x328)]=[_0x50c3d6[_0x3467fe(0x33a)]];break;}}}let _0x5aece9;if(!_0x889158[_0x3467fe(0x328)]){if(!_0x889158[_0x3467fe(0x328)]){let _0x126a3a=_0x889158['at'],_0x396ac5=_0x3467fe(0x387)+_0x126a3a+_0x3467fe(0x3c7);_0x5aece9=await imgUrlToBase64(_0x396ac5);}}else _0x5aece9=await imgUrlToBase64(_0x889158[_0x3467fe(0x328)][0x0][_0x3467fe(0x2a1)](/https/g,_0x3467fe(0x2c1))[_0x3467fe(0x304)]());let _0x3c36d4=_0x5aece9[_0x3467fe(0x37f)],_0x43de0a=_0x3467fe(0x2bd);console[_0x3467fe(0x303)](_0x889158[_0x3467fe(0x328)]);let _0x1ac0d8={'fn_index':0x166,'data':[_0x3467fe(0x1ef)+_0x3c36d4,'',![],'',_0x3467fe(0x2d0),'ignore',![],_0x3467fe(0x30c),0.35,'','',![],![],!![],'0_0,\x20(o)_(o),\x20+_+,\x20+_-,\x20._.,\x20<o>_<o>,\x20<|>_<|>,\x20=_=,\x20>_<,\x203_3,\x206_9,\x20>_o,\x20@_@,\x20^_^,\x20o_o,\x20u_u,\x20x_x,\x20|_|,\x20||_||',![],![]],'session_hash':_0x3467fe(0x23d)};res=await _0x3421e4(_0x43de0a,{'method':_0x3467fe(0x1ff),'body':JSON['stringify'](_0x1ac0d8),'headers':{'Content-Type':_0x3467fe(0x1d9),'User-Agent':_0x3467fe(0x24c)}}),res=await res[_0x3467fe(0x258)](),await sleep(0x3e8),_0x889158['reply'](res[_0x3467fe(0x238)][0x0],!![]);}async[_0x39294f(0x295)](_0x4d146b){const _0x21389f=_0x39294f;if(_0x4d146b[_0x21389f(0x3b5)][_0x21389f(0x251)](_0x21389f(0x21e))&_0x4d146b['isMaster']){let _0x207988=_0x56703d[_0x21389f(0x2b2)](_0x35faf9['readFileSync'](_0x21389f(0x296),_0x21389f(0x2e6))),_0x56c14c=_0x4d146b[_0x21389f(0x3b5)][_0x21389f(0x2a1)](/#填写ak/g,'')['trim']();_0x207988['ak']=_0x56c14c,_0x35faf9[_0x21389f(0x34c)]('./plugins/earth-k-plugin/config/config.yaml',_0x56703d['stringify'](_0x207988)),_0x4d146b[_0x21389f(0x2ca)](_0x21389f(0x237));}if(_0x4d146b[_0x21389f(0x3b5)][_0x21389f(0x251)](_0x21389f(0x2f3))&_0x4d146b[_0x21389f(0x310)]){let _0x4e4f70=_0x56703d[_0x21389f(0x2b2)](_0x35faf9[_0x21389f(0x1db)](_0x21389f(0x296),_0x21389f(0x2e6))),_0x43213e=_0x4d146b[_0x21389f(0x3b5)][_0x21389f(0x2a1)](/#填写sk/g,'')[_0x21389f(0x304)]();_0x4e4f70['sk']=_0x43213e,_0x35faf9['writeFileSync'](_0x21389f(0x296),_0x56703d[_0x21389f(0x36e)](_0x4e4f70)),_0x4d146b[_0x21389f(0x2ca)](_0x21389f(0x29b));}}async[_0x39294f(0x2eb)](_0x36f566){const _0x59a3d5=_0x39294f;dqpz();if(mrct!=-0x1&dqct>mrct){_0x36f566['reply'](_0x59a3d5(0x1ee));return;}if(zr==0x1&!_0x36f566[_0x59a3d5(0x310)]){_0x36f566['reply'](_0x59a3d5(0x1ca));return;}if(!_0x36f566[_0x59a3d5(0x3cc)]){_0x36f566[_0x59a3d5(0x2ca)](_0x59a3d5(0x3c1));return;}let _0x58491=_0x56703d['parse'](_0x35faf9[_0x59a3d5(0x1db)](_0x59a3d5(0x296),'utf8')),_0xe21846=_0x58491[_0x59a3d5(0x2db)][_0x59a3d5(0x2ed)](_0x3bf0c7=>_0x3bf0c7==_0x36f566[_0x59a3d5(0x3a8)]),_0x1779dc=_0x58491[_0x59a3d5(0x2cb)][_0x59a3d5(0x2ed)](_0x435e42=>_0x435e42==_0x36f566['group_id']);if(_0x1779dc!=-0x1){_0x36f566['reply']('该群已经被禁止画图。');return;}if(_0xe21846!=-0x1){_0x36f566[_0x59a3d5(0x2ca)](_0x59a3d5(0x371));return;}let _0x366deb='',_0x26bc99=0.5;if(_0x36f566['isGroup']|_0x36f566[_0x59a3d5(0x310)]){tsckg=0x1;if(dqjk==0x0){try{_0x366deb=_0x35faf9[_0x59a3d5(0x1db)]('./resources/th2.txt');}catch{_0x36f566['reply'](_0x59a3d5(0x331));return;}_0x366deb=_0x366deb[_0x59a3d5(0x2c3)]();let _0x14d729=_0x56703d[_0x59a3d5(0x2b2)](_0x35faf9[_0x59a3d5(0x1db)]('./config/config/other.yaml','utf8'));zhuren=_0x14d729[_0x59a3d5(0x2a3)];let _0x88c077=0x0;for(let _0x3267d9=0x0;_0x3267d9<_0x14d729[_0x59a3d5(0x2a3)]['length'];_0x3267d9++){try{let _0x13639d=_0x59a3d5(0x24b)+_0x366deb+_0x59a3d5(0x3bb)+String(zhuren[_0x3267d9]);res=await _0x3421e4(_0x13639d,{'agent':isdl?await getAgent():''}),console[_0x59a3d5(0x303)](_0x59a3d5(0x1f1));}catch(_0x429b3a){console[_0x59a3d5(0x303)](_0x429b3a),console[_0x59a3d5(0x303)]('没有访问成功');}res=await res[_0x59a3d5(0x258)]();if(res['code']==0x1){_0x88c077=0x1,cs=res[_0x59a3d5(0x342)];break;}}console['log'](res);if(_0x88c077==0x0|_0x88c077==0x2){_0x36f566[_0x59a3d5(0x2ca)](res[_0x59a3d5(0x224)]);return;}}let _0x5f1384,_0x24933c=_0x36f566['msg']['replace'](/#图生草/g,'')[_0x59a3d5(0x304)]();try{if(_0x36f566[_0x59a3d5(0x3b5)][_0x59a3d5(0x251)]('化')){let _0xbf110c=_0x56703d[_0x59a3d5(0x2b2)](_0x35faf9[_0x59a3d5(0x1db)]('./resources/tscys.yaml',_0x59a3d5(0x2e6)));_0x5f1384=_0x36f566[_0x59a3d5(0x3b5)][_0x59a3d5(0x2a1)](/#/g,'')['trim'](),_0x5f1384=_0x5f1384[_0x59a3d5(0x2a1)](/化/g,'')['trim']();let _0xd90cdd=_0xbf110c[_0x59a3d5(0x270)][_0x59a3d5(0x2ed)](_0x188b5a=>_0x188b5a['mc']==_0x5f1384);_0x24933c=_0xbf110c['yus'][_0xd90cdd]['tga'],_0xd90cdd!=-0x1&&(_0x5f1384='');}}catch{}let _0x55dfc0=new RegExp('[\x5cu4E00-\x5cu9FFF]+','g');console['log'](_0x5f1384,0x1e0fc);if(_0x55dfc0[_0x59a3d5(0x2bc)](_0x5f1384)&_0x36f566[_0x59a3d5(0x3b5)][_0x59a3d5(0x251)]('化')==!![]){console[_0x59a3d5(0x303)](_0x59a3d5(0x382));let _0x51005f=await ydfy(_0x5f1384);_0x24933c=_0x51005f;}_0x55dfc0=new RegExp('[\x5cu4E00-\x5cu9FFF]+','g');if(_0x55dfc0['test'](_0x24933c)&_0x36f566['msg']['includes'](_0x59a3d5(0x2cf))==!![]){console['log']('包含中文');let _0x88cc77=await ydfy(_0x24933c);_0x24933c=_0x88cc77;}console[_0x59a3d5(0x303)](_0x24933c);_0x36f566[_0x59a3d5(0x3b5)]=='#嗯哼'&&(_0x24933c=_0x59a3d5(0x1f9));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x205)&&(_0x24933c=_0x59a3d5(0x2fd),_0x26bc99=0.55);_0x36f566[_0x59a3d5(0x3b5)]=='#嘿嘿'&&(_0x24933c=_0x59a3d5(0x3af));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x2d9)&&(_0x24933c=_0x59a3d5(0x278));_0x36f566[_0x59a3d5(0x3b5)]=='#库库'&&(_0x24933c=_0x59a3d5(0x2ea));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x225)&&(_0x24933c=_0x59a3d5(0x357));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x3c5)&&(_0x24933c=_0x59a3d5(0x3be));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x31f)&&(_0x24933c=_0x59a3d5(0x1dc));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x368)&&(_0x24933c=_0x59a3d5(0x31b));_0x36f566[_0x59a3d5(0x3b5)]=='#龟化'&&(_0x24933c='{{masterpiece}},Kamisato\x20AyakaB');_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x26b)&&(_0x24933c=_0x59a3d5(0x3a1));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x1ea)&&(_0x24933c=_0x59a3d5(0x3ce));_0x36f566['msg']==_0x59a3d5(0x299)&&(_0x24933c=_0x59a3d5(0x210));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x3d0)&&(_0x24933c=_0x59a3d5(0x257));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x1e2)&&(_0x24933c=_0x59a3d5(0x20d));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x3b2)&&(_0x24933c=_0x59a3d5(0x3b7));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x2d5)&&(_0x24933c=_0x59a3d5(0x1d6));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x2de)&&(_0x24933c=_0x59a3d5(0x2a9));_0x36f566[_0x59a3d5(0x3b5)]=='#宵化'&&(_0x24933c='{{masterpiece}},YoimiyaA');_0x36f566['msg']=='#云化'&&(_0x24933c=_0x59a3d5(0x20b));_0x36f566['msg']==_0x59a3d5(0x2b0)&&(_0x24933c=_0x59a3d5(0x1eb));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x318)&&(_0x24933c=_0x59a3d5(0x283));_0x36f566['msg']==_0x59a3d5(0x245)&&(_0x24933c=_0x59a3d5(0x344));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x1ec)&&(_0x24933c='{{masterpiece}},Xiao');_0x36f566['msg']==_0x59a3d5(0x319)&&(_0x24933c=_0x59a3d5(0x281));_0x36f566['msg']==_0x59a3d5(0x35f)&&(_0x24933c=_0x59a3d5(0x354));_0x36f566['msg']==_0x59a3d5(0x32b)&&(_0x24933c=_0x59a3d5(0x1e3));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x37d)&&(_0x24933c=_0x59a3d5(0x336));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x1d5)&&(_0x24933c=_0x59a3d5(0x246));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x2b7)&&(_0x24933c=_0x59a3d5(0x259));_0x36f566['msg']==_0x59a3d5(0x397)&&(_0x24933c=_0x59a3d5(0x1f6));_0x36f566[_0x59a3d5(0x3b5)]==_0x59a3d5(0x31a)&_0x36f566['isMaster']&&(_0x24933c=_0x59a3d5(0x37e));let _0x49ee92;if(_0x36f566[_0x59a3d5(0x384)]){_0x36f566['isGroup']?_0x49ee92=(await _0x36f566[_0x59a3d5(0x332)][_0x59a3d5(0x27d)](_0x36f566[_0x59a3d5(0x384)]['seq'],0x1))['pop']()?.['message']:_0x49ee92=(await _0x36f566[_0x59a3d5(0x28c)][_0x59a3d5(0x27d)](_0x36f566[_0x59a3d5(0x384)][_0x59a3d5(0x38f)],0x1))[_0x59a3d5(0x35c)]()?.['message'];if(_0x49ee92)for(let _0x4caad2 of _0x49ee92){if(_0x4caad2[_0x59a3d5(0x273)]==_0x59a3d5(0x325)){_0x36f566[_0x59a3d5(0x328)]=[_0x4caad2[_0x59a3d5(0x33a)]];break;}}}let _0x5a2252;if(!_0x36f566['img']){if(!_0x36f566[_0x59a3d5(0x328)]){let _0x35070b=_0x36f566['at'],_0x20960b=_0x59a3d5(0x387)+_0x35070b+_0x59a3d5(0x3c7);_0x5a2252=await imgUrlToBase64(_0x20960b);}}else _0x5a2252=await imgUrlToBase64(_0x36f566['img'][0x0]['replace'](/https/g,'http')[_0x59a3d5(0x304)]());let _0x11cb29=_0x5a2252[_0x59a3d5(0x37f)];_0x35faf9['writeFile'](_0x59a3d5(0x398),_0x11cb29['toString'](),_0x59a3d5(0x228),_0x2c1175=>{const _0x34bda2=_0x59a3d5;_0x2c1175?console[_0x34bda2(0x303)]('写入文件错误'):console[_0x34bda2(0x303)]('写入文件成功');}),await sleep(0x1f4);let _0x47cd1f=_0x2a59fa('./resources/yb.png'),_0xb32f31=_0x47cd1f[_0x59a3d5(0x36a)],_0x23c20f=_0x47cd1f[_0x59a3d5(0x2ec)];_0xb32f31=Math['floor'](_0xb32f31/0x40),_0x23c20f=Math[_0x59a3d5(0x2c7)](_0x23c20f/0x40);let _0x54513b;_0xb32f31>_0x23c20f&&(_0x54513b=_0xb32f31/_0x23c20f,_0x23c20f=beishu*0x40,_0xb32f31=Math[_0x59a3d5(0x2c7)](beishu*_0x54513b)*0x40);_0x23c20f>_0xb32f31&&(_0x54513b=_0x23c20f/_0xb32f31,_0xb32f31=beishu*0x40,_0x23c20f=Math[_0x59a3d5(0x2c7)](beishu*_0x54513b)*0x40);_0x23c20f==_0xb32f31&&(_0xb32f31=0x300,_0x23c20f=0x300,_0x54513b=0x1);console[_0x59a3d5(0x303)](_0xb32f31,_0x23c20f,_0x54513b);var _0x5b721e={'init_images':[_0x59a3d5(0x38a)+_0x11cb29],'denoising_strength':_0x26bc99,'prompt':_0x24933c,'styles':['Resize\x20and\x20fill'],'seed':-0x1,'steps':0x28,'cfg_scale':guimo+0x2,'width':_0x23c20f,'height':_0xb32f31,'negative_prompt':_0x59a3d5(0x29d),'sampler_index':'Euler\x20a'};try{res=await _0x3421e4(imgdz,{'method':_0x59a3d5(0x1ff),'agent':isdl?await getAgent():'','body':JSON['stringify'](_0x5b721e),'headers':{'Content-Type':_0x59a3d5(0x1d9),'User-Agent':_0x59a3d5(0x24c)}});let _0x5e0ed0=await res[_0x59a3d5(0x258)]();_0x5e0ed0=_0x5e0ed0[_0x59a3d5(0x3ad)],_0x35faf9[_0x59a3d5(0x393)]('./resources/3.jpg',_0x5e0ed0['toString'](),_0x59a3d5(0x228),_0x4ff9e9=>{const _0x20df78=_0x59a3d5;_0x4ff9e9?console[_0x20df78(0x303)](_0x20df78(0x364)):console[_0x20df78(0x303)](_0x20df78(0x380));}),await sleep(0x1f4),console[_0x59a3d5(0x303)](ss);let _0x7f55c9=_0x58491[_0x59a3d5(0x2f2)][_0x59a3d5(0x2ed)](_0x1a6fd4=>_0x1a6fd4==_0x36f566[_0x59a3d5(0x32c)]);tpjc='';ss==0x0&_0x7f55c9==-0x1&&(await main(_0x59a3d5(0x38e)),console['log'](tpjc));let _0x294839,_0x4addc3=_0x36f566[_0x59a3d5(0x3ba)]?.['card']?_0x36f566[_0x59a3d5(0x3ba)][_0x59a3d5(0x2bf)]:_0x36f566[_0x59a3d5(0x3ba)]?.[_0x59a3d5(0x247)];if(tpjc==_0x59a3d5(0x358)&ss==0x0){_0x294839=await _0x36f566[_0x59a3d5(0x2ca)]('又画涩图！你画涩图我已经发给主人了，别再画了！'),msg2=['报告主人\x0a',_0x59a3d5(0x320)+_0x4addc3+'('+String(_0x36f566['user_id'])+')\x0a',_0x59a3d5(0x275)+_0x36f566[_0x59a3d5(0x332)][_0x59a3d5(0x2a8)]+'('+String(_0x36f566[_0x59a3d5(0x32c)])+')\x0a',_0x59a3d5(0x391),segment[_0x59a3d5(0x325)](_0x59a3d5(0x38e))];if(ftkg==0x1){let _0xcdadd1=await upload_image('./resources/ht.png'),_0x510266=(_0xcdadd1[_0x59a3d5(0x292)][_0x59a3d5(0x2c3)]('hex')||'')[_0x59a3d5(0x2fa)](),_0x56f4fe=_0x59a3d5(0x2df)+_0x510266+'/0';_0x36f566[_0x59a3d5(0x2ca)](_0x56f4fe);}if(jhft==0x1){let _0x24e38f=_0x56703d[_0x59a3d5(0x2b2)](_0x35faf9[_0x59a3d5(0x1db)](_0x59a3d5(0x26a),'utf8'));zhuren=_0x24e38f[_0x59a3d5(0x2a3)],Bot[_0x59a3d5(0x305)](zhuren[0x0])['sendMsg'](msg2);}}else{if(tlkg==0x1){let _0x100ea1=await upload_image(_0x59a3d5(0x38e)),_0x45fae2=(_0x100ea1[_0x59a3d5(0x292)][_0x59a3d5(0x2c3)](_0x59a3d5(0x22d))||'')[_0x59a3d5(0x2fa)](),_0x11c324='https://gchat.qpic.cn/gchatpic_new/0/0-0-'+_0x45fae2+'/0';_0x294839=_0x36f566['reply'](_0x11c324);}else msg2=segment[_0x59a3d5(0x325)](_0x59a3d5(0x38e)),_0x294839=await _0x36f566[_0x59a3d5(0x2ca)](msg2,ishuifu);if(_0x294839&&_0x294839[_0x59a3d5(0x28f)]&&isch==0x1&&_0x36f566['isGroup']){let _0x380a7e=_0x36f566[_0x59a3d5(0x332)];setTimeout(()=>{const _0x307012=_0x59a3d5;_0x380a7e[_0x307012(0x39d)](_0x294839[_0x307012(0x28f)]);},timeout);}startTimeMS=new Date()['getTime'](),t=setTimeout(()=>{tsckg=0x0,iscd=0x0;},cd);}}catch(_0x453101){console['log'](_0x453101),console[_0x59a3d5(0x303)](_0x59a3d5(0x290)),_0x36f566[_0x59a3d5(0x2ca)]('服务器正忙，请稍后'),tsckg=0x0;return;}}else{if(iscd==0x1&startTimeMS!=undefined){let _0x261b2f=cd-(new Date()[_0x59a3d5(0x309)]()-startTimeMS);_0x261b2f=Math[_0x59a3d5(0x2b6)](_0x261b2f/0x3e8);if(_0x261b2f<0x0){tsckg=0x0;return;}_0x36f566[_0x59a3d5(0x2ca)](_0x59a3d5(0x2b1)+String(_0x261b2f)+_0x59a3d5(0x2e2));}else _0x36f566[_0x59a3d5(0x2ca)]('正在生草中，我知道你很急，但是你先别急。');}}async[_0x39294f(0x26e)](_0x15c4e0){const _0x174c20=_0x39294f;if(ecydtkg==0x0&_0x15c4e0[_0x174c20(0x3cc)]|_0x15c4e0[_0x174c20(0x310)]){dqpz();if(mrct!=-0x1&dqct>mrct){_0x15c4e0[_0x174c20(0x2ca)]('今日画图已达到数量');return;}ecydtkg=0x1;let _0x860c4b=_0x56703d['parse'](_0x35faf9[_0x174c20(0x1db)](_0x174c20(0x296),'utf8')),_0x30ab5b=_0x860c4b[_0x174c20(0x2db)][_0x174c20(0x2ed)](_0x595125=>_0x595125==_0x15c4e0[_0x174c20(0x3a8)]),_0xd88f47=_0x860c4b[_0x174c20(0x2cb)][_0x174c20(0x2ed)](_0x293560=>_0x293560==_0x15c4e0[_0x174c20(0x32c)]);if(_0xd88f47!=-0x1){_0x15c4e0['reply'](_0x174c20(0x23c));return;}if(_0x30ab5b!=-0x1){_0x15c4e0[_0x174c20(0x2ca)](_0x174c20(0x371));return;}if(!_0x15c4e0[_0x174c20(0x3cc)]){_0x15c4e0[_0x174c20(0x2ca)](_0x174c20(0x3c1));return;}let _0x4f6289='';if(dqjk==0x0){try{_0x4f6289=_0x35faf9['readFileSync'](_0x174c20(0x3aa));}catch{_0x15c4e0[_0x174c20(0x2ca)](_0x174c20(0x331));return;}_0x4f6289=_0x4f6289[_0x174c20(0x2c3)]();let _0x120ad5=_0x56703d[_0x174c20(0x2b2)](_0x35faf9['readFileSync']('./config/config/other.yaml',_0x174c20(0x2e6)));zhuren=_0x120ad5[_0x174c20(0x2a3)];let _0x3b5381=0x0;for(let _0x47d777=0x0;_0x47d777<_0x120ad5['masterQQ'][_0x174c20(0x385)];_0x47d777++){try{let _0x1e295f=_0x174c20(0x24b)+_0x4f6289+_0x174c20(0x3bb)+String(zhuren[_0x47d777]);res=await _0x3421e4(_0x1e295f,{'agent':isdl?await getAgent():''}),console[_0x174c20(0x303)](_0x174c20(0x1f1));}catch(_0x272e81){console[_0x174c20(0x303)](_0x272e81),console['log'](_0x174c20(0x290));}res=await res[_0x174c20(0x258)]();if(res[_0x174c20(0x23a)]==0x1){_0x3b5381=0x1,cs=res[_0x174c20(0x342)];break;}}console[_0x174c20(0x303)](res);if(_0x3b5381==0x0|_0x3b5381==0x2){_0x15c4e0[_0x174c20(0x2ca)](res['neirong']);return;}}_0x15c4e0['at']==undefined&&_0x15c4e0['reply'](_0x174c20(0x1f8));let _0x5c7f44;if(_0x15c4e0[_0x174c20(0x384)]){_0x15c4e0[_0x174c20(0x3cc)]?_0x5c7f44=(await _0x15c4e0[_0x174c20(0x332)]['getChatHistory'](_0x15c4e0['source'][_0x174c20(0x268)],0x1))[_0x174c20(0x35c)]()?.[_0x174c20(0x2fe)]:_0x5c7f44=(await _0x15c4e0[_0x174c20(0x28c)][_0x174c20(0x27d)](_0x15c4e0['source'][_0x174c20(0x38f)],0x1))[_0x174c20(0x35c)]()?.[_0x174c20(0x2fe)];if(_0x5c7f44)for(let _0x36fb54 of _0x5c7f44){if(_0x36fb54[_0x174c20(0x273)]==_0x174c20(0x325)){_0x15c4e0[_0x174c20(0x328)]=[_0x36fb54[_0x174c20(0x33a)]];break;}}}let _0x41d5bd,_0x5421b2,_0x5bbd2a;if(!_0x15c4e0[_0x174c20(0x328)]){_0x41d5bd=_0x15c4e0['at'];let _0x4e18f0=_0x174c20(0x387)+_0x41d5bd+'&spec=5';_0x5421b2=await imgUrlToBase64(_0x4e18f0),_0x5bbd2a=getdsc(_0x15c4e0[_0x174c20(0x3a8)]);}else _0x41d5bd=_0x15c4e0['at'],_0x5421b2=await imgUrlToBase64(_0x15c4e0[_0x174c20(0x328)][0x0][_0x174c20(0x2a1)](/https/g,_0x174c20(0x2c1))[_0x174c20(0x304)]()),_0x5bbd2a=getdsc(_0x15c4e0[_0x174c20(0x3a8)]);_0x15c4e0['at']==undefined&&(_0x41d5bd=0x75bcd15);let _0x23eb5d=_0x5421b2[_0x174c20(0x37f)];_0x35faf9[_0x174c20(0x393)](_0x174c20(0x398),_0x23eb5d[_0x174c20(0x2c3)](),_0x174c20(0x228),_0x269be2=>{const _0x5eed73=_0x174c20;_0x269be2?console[_0x5eed73(0x303)](_0x5eed73(0x364)):console['log'](_0x5eed73(0x380));}),await sleep(0x1f4);let _0x31483e=_0x2a59fa('./resources/yb.png'),_0x3f3157=_0x31483e[_0x174c20(0x36a)],_0x26b2f6=_0x31483e['width'];_0x3f3157=Math[_0x174c20(0x2c7)](_0x3f3157/0x40),_0x26b2f6=Math[_0x174c20(0x2c7)](_0x26b2f6/0x40);let _0x4f2064;_0x3f3157>_0x26b2f6&&(_0x4f2064=_0x3f3157/_0x26b2f6,_0x26b2f6=beishu*0x40,_0x3f3157=Math['floor'](beishu*_0x4f2064)*0x40);_0x26b2f6>_0x3f3157&&(_0x4f2064=_0x26b2f6/_0x3f3157,_0x3f3157=beishu*0x40,_0x26b2f6=Math[_0x174c20(0x2c7)](beishu*_0x4f2064)*0x40);_0x26b2f6==_0x3f3157&&(_0x3f3157=0x300,_0x26b2f6=0x300,_0x4f2064=0x1);console[_0x174c20(0x303)](_0x3f3157,_0x26b2f6,_0x4f2064);var _0x165884={'init_images':[_0x174c20(0x38a)+_0x23eb5d],'denoising_strength':0.65,'prompt':_0x5bbd2a['en'],'styles':[_0x174c20(0x34a)],'seed':-0x1,'steps':0x28,'cfg_scale':guimo+0x2,'width':_0x26b2f6,'height':_0x3f3157,'negative_prompt':_0x174c20(0x29d),'sampler_index':'Euler\x20a'};try{res=await _0x3421e4(imgdz,{'method':_0x174c20(0x1ff),'agent':isdl?await getAgent():'','body':JSON[_0x174c20(0x36e)](_0x165884),'headers':{'Content-Type':'application/json','User-Agent':_0x174c20(0x24c)}});let _0x2f7530=await res[_0x174c20(0x258)]();_0x2f7530=_0x2f7530[_0x174c20(0x3ad)],_0x35faf9[_0x174c20(0x393)]('./resources/3.jpg',_0x2f7530[_0x174c20(0x2c3)](),_0x174c20(0x228),_0x4d3e41=>{const _0x2cd5e0=_0x174c20;_0x4d3e41?console['log'](_0x2cd5e0(0x364)):console[_0x2cd5e0(0x303)](_0x2cd5e0(0x380));}),await sleep(0x1f4);if(tlkg==0x1){let _0x577ad6=await upload_image('./resources/3.jpg'),_0x29bbf4=(_0x577ad6[_0x174c20(0x292)][_0x174c20(0x2c3)]('hex')||'')[_0x174c20(0x2fa)](),_0x32aad9='https://gchat.qpic.cn/gchatpic_new/0/0-0-'+_0x29bbf4+'/0';msgRes=_0x15c4e0[_0x174c20(0x2ca)](_0x32aad9);}else msg2=segment[_0x174c20(0x325)](_0x174c20(0x38e)),msgRes=await _0x15c4e0['reply'](msg2);if(msgRes&&msgRes[_0x174c20(0x28f)]&&isch==0x1&&_0x15c4e0[_0x174c20(0x3cc)]){let _0xfcee87=_0x15c4e0[_0x174c20(0x332)];setTimeout(()=>{const _0x7021ef=_0x174c20;_0xfcee87[_0x7021ef(0x39d)](msgRes[_0x7021ef(0x28f)]);},timeout);}startTimeMS=new Date()['getTime'](),t=setTimeout(()=>{ecydtkg=0x0,iscd=0x0;},cd);}catch(_0x11ebfa){console[_0x174c20(0x303)](_0x11ebfa),console[_0x174c20(0x303)](_0x174c20(0x290)),_0x15c4e0['reply'](_0x174c20(0x31c)),ecydtkg=0x0;return;}}else{if(iscd==0x1&startTimeMS!=undefined){let _0x239430=cd-(new Date()[_0x174c20(0x309)]()-startTimeMS);_0x239430=Math['round'](_0x239430/0x3e8);if(_0x239430<0x0){ecydtkg=0x0;return;}_0x15c4e0[_0x174c20(0x2ca)](_0x174c20(0x2b1)+String(_0x239430)+'秒可画');}else _0x15c4e0[_0x174c20(0x2ca)](_0x174c20(0x236));}}async['wdecy'](_0x22cc79){const _0x5018d1=_0x39294f;if(wdecykg==0x0&_0x22cc79[_0x5018d1(0x3cc)]|_0x22cc79[_0x5018d1(0x310)]){wdecykg=0x1;let _0x4fd8d1='',_0x507824=_0x56703d[_0x5018d1(0x2b2)](_0x35faf9[_0x5018d1(0x1db)](_0x5018d1(0x296),_0x5018d1(0x2e6))),_0x2799bd=_0x507824[_0x5018d1(0x2db)][_0x5018d1(0x2ed)](_0x202f5c=>_0x202f5c==_0x22cc79[_0x5018d1(0x3a8)]),_0xc1b972=_0x507824[_0x5018d1(0x2cb)][_0x5018d1(0x2ed)](_0x581f11=>_0x581f11==_0x22cc79['group_id']);if(_0xc1b972!=-0x1){_0x22cc79[_0x5018d1(0x2ca)](_0x5018d1(0x23c));return;}if(_0x2799bd!=-0x1){_0x22cc79[_0x5018d1(0x2ca)](_0x5018d1(0x371));return;}if(dqjk==0x0){try{_0x4fd8d1=_0x35faf9[_0x5018d1(0x1db)](_0x5018d1(0x3aa));}catch{_0x22cc79['reply']('你还没有填写密钥哦。');return;}_0x4fd8d1=_0x4fd8d1[_0x5018d1(0x2c3)]();let _0x31ded7=_0x56703d[_0x5018d1(0x2b2)](_0x35faf9[_0x5018d1(0x1db)](_0x5018d1(0x26a),'utf8'));zhuren=_0x31ded7['masterQQ'];let _0x329bf1=0x0;for(let _0x58258a=0x0;_0x58258a<_0x31ded7[_0x5018d1(0x2a3)][_0x5018d1(0x385)];_0x58258a++){try{let _0x14e03b=_0x5018d1(0x24b)+_0x4fd8d1+_0x5018d1(0x3bb)+String(zhuren[_0x58258a]);res=await _0x3421e4(_0x14e03b,{'agent':isdl?await getAgent():''}),console[_0x5018d1(0x303)](_0x5018d1(0x1f1));}catch(_0x62df56){console['log'](_0x62df56),console[_0x5018d1(0x303)](_0x5018d1(0x290));}res=await res[_0x5018d1(0x258)]();if(res[_0x5018d1(0x23a)]==0x1){_0x329bf1=0x1,cs=res[_0x5018d1(0x342)];break;}}console['log'](res);if(_0x329bf1==0x0|_0x329bf1==0x2){_0x22cc79[_0x5018d1(0x2ca)](res['neirong']);return;}}let _0x170d29=getdsc(_0x22cc79['user_id']);try{let _0x10e225=await _0x3421e4(txtdz,{'method':_0x5018d1(0x2ff),'agent':isdl?await getAgent():'','headers':{'Content-Type':_0x5018d1(0x1d9),'authorization':_0x5018d1(0x3a0)},'body':JSON[_0x5018d1(0x36e)]({'prompt':_0x170d29['en'],'width':kuandu,'height':changdu,'cfg_scale':guimo+0x2,'sampler':moxing,'steps':0x17,'seed':-0x1,'n_samples':0x1,'ucPreset':0x0,'negative_prompt':pc})});res4=await _0x10e225[_0x5018d1(0x258)](),res=res4[_0x5018d1(0x3ad)][0x0],_0x35faf9['writeFile'](_0x5018d1(0x1f4),res[_0x5018d1(0x2c3)](),'base64',_0x37943a=>{const _0x171742=_0x5018d1;if(_0x37943a)console[_0x171742(0x303)]('写入文件错误');else{}});if(iscanshu==0x0){}await sleep(0x1f4);if(tlkg==0x1){let _0x164fe0=await upload_image(_0x5018d1(0x1f4)),_0x2ef1c0=(_0x164fe0[_0x5018d1(0x292)][_0x5018d1(0x2c3)](_0x5018d1(0x22d))||'')[_0x5018d1(0x2fa)](),_0x4b6e7a='https://gchat.qpic.cn/gchatpic_new/0/0-0-'+_0x2ef1c0+'/0';msgRes=_0x22cc79[_0x5018d1(0x2ca)](_0x4b6e7a);}else msg2=segment['image'](_0x5018d1(0x1f4)),msgRes=await _0x22cc79[_0x5018d1(0x2ca)](msg2);if(msgRes&&msgRes[_0x5018d1(0x28f)]&&isch==0x1&&_0x22cc79[_0x5018d1(0x3cc)]){let _0x211604=_0x22cc79[_0x5018d1(0x332)];setTimeout(()=>{const _0x4c905a=_0x5018d1;_0x211604[_0x4c905a(0x39d)](msgRes[_0x4c905a(0x28f)]);},timeout);}startTimeMS=new Date()[_0x5018d1(0x309)](),t=setTimeout(()=>{wdecykg=0x0,iscd=0x0;},cd);}catch{_0x22cc79[_0x5018d1(0x2ca)](_0x5018d1(0x1cb)),wdecykg=0x0,iscd=0x0;}}else{if(iscd==0x1&startTimeMS!=undefined){let _0x5e66b9=cd-(new Date()[_0x5018d1(0x309)]()-startTimeMS);_0x5e66b9=Math[_0x5018d1(0x2b6)](_0x5e66b9/0x3e8);if(_0x5e66b9<0x0){wdecykg=0x0;return;}_0x22cc79[_0x5018d1(0x2ca)]('我在cd中，还有'+String(_0x5e66b9)+_0x5018d1(0x2e2));}else _0x22cc79['reply'](_0x5018d1(0x236));}}async[_0x39294f(0x337)](_0x295b45){const _0x2873ad=_0x39294f;let _0x3bec27=_0x2873ad(0x287),_0x46112c=await _0x3421e4(_0x3bec27),_0x3d9d98=await _0x46112c[_0x2873ad(0x258)](),_0x41b1c2=_0x3d9d98[_0x2873ad(0x2a8)];data1={'tplFile':_0x2873ad(0x1f2),'dz':ml,'lb':_0x41b1c2};let _0xe2bbf5=await _0x44552e[_0x2873ad(0x383)](_0x2873ad(0x2f5),{...data1});_0x295b45['reply'](_0xe2bbf5);}async[_0x39294f(0x38d)](_0x9cb2cc){const _0x1f8717=_0x39294f;if(_0x9cb2cc[_0x1f8717(0x310)]){let _0x2e8d61=_0x56703d[_0x1f8717(0x2b2)](_0x35faf9['readFileSync'](_0x1f8717(0x26a),'utf8'));_0x2e8d61=_0x2e8d61[_0x1f8717(0x2a3)][0x0],console[_0x1f8717(0x303)](_0x2e8d61);let _0xbd975b=_0x9cb2cc[_0x1f8717(0x3b5)][_0x1f8717(0x2a1)](/#填写密钥/g,'')[_0x1f8717(0x304)](),_0x2b6579=_0x1f8717(0x255)+_0xbd975b+'&qq='+String(_0x9cb2cc[_0x1f8717(0x3a8)]),_0x29bd88=await _0x3421e4(_0x2b6579,{'agent':isdl?await getAgent():''}),_0x1e3a2e=await _0x29bd88[_0x1f8717(0x223)]();if(_0x1e3a2e[_0x1f8717(0x251)]('密钥不存在')){_0x9cb2cc['reply'](_0x1f8717(0x1e5));return;}if(_0x1e3a2e[_0x1f8717(0x251)]('你好号主')){_0x9cb2cc[_0x1f8717(0x2ca)]('你好号主，成功再次激活'),await _0x35faf9[_0x1f8717(0x393)](_0x1f8717(0x3aa),_0xbd975b[_0x1f8717(0x2c3)](),_0x1f8717(0x2be),_0x21001b=>{const _0x4125c0=_0x1f8717;if(_0x21001b)console[_0x4125c0(0x303)](_0x4125c0(0x364));else{}});return;}_0x1e3a2e[_0x1f8717(0x251)](_0x1f8717(0x21f))&&(_0x9cb2cc[_0x1f8717(0x2ca)](_0x1f8717(0x3c0)+String(_0x9cb2cc[_0x1f8717(0x3a8)])),await _0x35faf9[_0x1f8717(0x393)](_0x1f8717(0x3aa),_0xbd975b[_0x1f8717(0x2c3)](),_0x1f8717(0x2be),_0x408bf2=>{if(_0x408bf2)console['log']('写入文件错误');else{}})),_0x1e3a2e['includes'](_0x1f8717(0x386))&&_0x9cb2cc[_0x1f8717(0x2ca)](_0x1f8717(0x1f0));}}async[_0x39294f(0x277)](_0x355f5c){const _0x43b872=_0x39294f;_0x355f5c[_0x43b872(0x3b5)]==_0x43b872(0x288)&_0x355f5c[_0x43b872(0x310)]&&(isdl=0x1,_0x355f5c['reply'](_0x43b872(0x3bc))),_0x355f5c[_0x43b872(0x3b5)]==_0x43b872(0x32a)&_0x355f5c[_0x43b872(0x310)]&&(isdl=0x0,_0x355f5c[_0x43b872(0x2ca)]('已关闭代理')),_0x355f5c['msg']==_0x43b872(0x1ed)&_0x355f5c[_0x43b872(0x310)]&&(iscanshu=0x1,_0x355f5c['reply'](_0x43b872(0x269))),_0x355f5c[_0x43b872(0x3b5)]==_0x43b872(0x27c)&_0x355f5c[_0x43b872(0x310)]&&(iscanshu=0x0,_0x355f5c[_0x43b872(0x2ca)](_0x43b872(0x2fb))),_0x355f5c[_0x43b872(0x3b5)]==_0x43b872(0x2b5)&_0x355f5c[_0x43b872(0x310)]&&(ishuifu=!![],_0x355f5c['reply'](_0x43b872(0x22c))),_0x355f5c[_0x43b872(0x3b5)]=='#关闭词条回复'&_0x355f5c[_0x43b872(0x310)]&&(ishuifu=![],_0x355f5c['reply'](_0x43b872(0x2a5)));}async[_0x39294f(0x389)](_0x36ddd3){const _0x1810ac=_0x39294f;if(_0x36ddd3[_0x1810ac(0x3b5)]=='#查看画图设置'){console['log'](guimo);let _0x54bc28=[_0x1810ac(0x327),moxing,_0x1810ac(0x30d),guimo[_0x1810ac(0x2c3)](),_0x1810ac(0x1fb),bushu[_0x1810ac(0x2c3)](),_0x1810ac(0x2d1),xsd[_0x1810ac(0x2c3)](),_0x1810ac(0x316),jz['toString']()];_0x36ddd3[_0x1810ac(0x2ca)](_0x54bc28);return;}bushu=_0x36ddd3['msg']['replace'](/#土块画图步数/g,'')[_0x1810ac(0x304)](),bushu=Number(bushu);if(bushu<0x0|bushu>0x1c){bushu=0x1c,_0x36ddd3['reply'](_0x1810ac(0x1fc));return;}else _0x36ddd3['reply'](_0x1810ac(0x240)+String(bushu));}async[_0x39294f(0x1ce)](_0x1b686d){const _0x22ac34=_0x39294f;if(_0x1b686d[_0x22ac34(0x3b5)]==_0x22ac34(0x36c)){let _0x2d0964=['1：Euler\x20a,\x0a2：Euler,\x0a3：Heun,\x0a4：DPM++\x202S\x20a,\x0a5：DPM++\x202M,\x0a6：DPM++\x202S\x20a\x20Karras,\x0a7：DPM++\x202M\x20Karras,\x0a8：DDIM，\x0a9:DPM++\x20SDE\x20Karras'];_0x1b686d[_0x22ac34(0x2ca)](_0x2d0964);return;}let _0x4e9092=_0x56703d[_0x22ac34(0x2b2)](_0x35faf9[_0x22ac34(0x1db)](_0x22ac34(0x296),'utf8'));moxing=_0x1b686d[_0x22ac34(0x3b5)][_0x22ac34(0x2a1)](/#土块画图采样/g,'')[_0x22ac34(0x304)](),moxing=Number(moxing);if(moxing<0x0|moxing>0x9){_0x1b686d[_0x22ac34(0x2ca)](_0x22ac34(0x335)),moxing=0x2;return;}moxing==0x1&&(moxing='Euler\x20a',_0x1b686d['reply']('采样已设置为Euler\x20a')),moxing==0x2&&(moxing='Euler',_0x1b686d[_0x22ac34(0x2ca)](_0x22ac34(0x31d))),moxing==0x3&&(moxing='Heun',_0x1b686d['reply']('采样已设置为Heun')),moxing==0x4&&(moxing=_0x22ac34(0x3c3),_0x1b686d[_0x22ac34(0x2ca)]('采样已设置为DPM++\x202S\x20a')),moxing==0x5&&(moxing='DPM++\x202M',_0x1b686d[_0x22ac34(0x2ca)](_0x22ac34(0x20c))),moxing==0x6&&(moxing=_0x22ac34(0x377),_0x1b686d[_0x22ac34(0x2ca)]('采样已设置为DPM++\x202S\x20a\x20Karras')),moxing==0x7&&(moxing=_0x22ac34(0x213),_0x1b686d['reply'](_0x22ac34(0x215))),moxing==0x8&&(moxing=_0x22ac34(0x264),_0x1b686d[_0x22ac34(0x2ca)](_0x22ac34(0x298))),moxing==0x9&&(moxing='DPM++\x20SDE\x20Karras',_0x1b686d[_0x22ac34(0x2ca)]('采样已设置为DPM++\x20SDE\x20Karras')),_0x4e9092['caiyang']=moxing,_0x35faf9['writeFileSync'](_0x22ac34(0x296),_0x56703d[_0x22ac34(0x36e)](_0x4e9092));}async[_0x39294f(0x32d)](_0x55cb1){const _0x3f6be1=_0x39294f;guimo=_0x55cb1[_0x3f6be1(0x3b5)][_0x3f6be1(0x2a1)](/#土块画图规模/g,'')['trim'](),guimo=Number(guimo);if(guimo<0x3|guimo>0xc){_0x55cb1[_0x3f6be1(0x2ca)](_0x3f6be1(0x38c)),guimo=5.5;return;}else _0x55cb1[_0x3f6be1(0x2ca)](_0x3f6be1(0x355)+String(guimo));}async[_0x39294f(0x207)](_0x1b18e2){const _0x540396=_0x39294f;if(_0x1b18e2[_0x540396(0x328)]!=undefined)return![];if(yushekg==0x0&_0x1b18e2[_0x540396(0x3b5)][_0x540396(0x251)](_0x540396(0x35a))==![]&_0x1b18e2[_0x540396(0x3b5)][_0x540396(0x251)]('#查看云预设')==![]&_0x1b18e2[_0x540396(0x3b5)][_0x540396(0x251)](_0x540396(0x376))==![]&_0x1b18e2['msg'][_0x540396(0x251)](_0x540396(0x252))==![]&_0x1b18e2['msg']['includes'](_0x540396(0x39e))==![]&_0x1b18e2['msg']['includes'](_0x540396(0x314))==![])return![];let _0x499782=_0x540396(0x323);_0x35faf9[_0x540396(0x339)](_0x499782[_0x540396(0x2c3)](),_0x35faf9[_0x540396(0x285)][_0x540396(0x1d0)],_0xfc80cd=>{const _0x5a33d0=_0x540396;if(_0xfc80cd){let _0xeaa16d=ml+_0x5a33d0(0x1d8)+'ys'+_0x5a33d0(0x1e6),_0x3e9234={'shuju':[{'name':_0x5a33d0(0x2e9),'gjc':'{{{masterpiece}}},{{genshin\x20kokomi}}，best\x20quality,illustration,1girl,\x20small\x20breast,\x20sailor\x20dress,wet\x20clothes,\x20bikini,\x20sideboob,white\x20shirt,'}]};_0x35faf9['writeFileSync'](_0xeaa16d[_0x5a33d0(0x2c3)](),JSON[_0x5a33d0(0x36e)](_0x3e9234),_0x5a33d0(0x2be));}else console[_0x5a33d0(0x303)](_0x1b18e2['user_id']['toString']()+_0x5a33d0(0x1e9));}),await sleep(0x1f4);let _0x21e350='';await _0x35faf9[_0x540396(0x2f8)](_0x499782,(_0x22d79c,_0x1b1509)=>{const _0x5820aa=_0x540396;if(_0x22d79c)throw _0x22d79c;var _0x642d24=_0x1b1509['toString']()!=''?JSON['parse'](_0x1b1509[_0x5820aa(0x2c3)]()):[];ysct='',_0x21e350='',shuju=_0x642d24;for(let _0x22ab43=0x0;_0x22ab43<shuju[_0x5820aa(0x334)][_0x5820aa(0x385)];_0x22ab43++){_0x21e350=_0x21e350+shuju[_0x5820aa(0x334)][_0x22ab43][_0x5820aa(0x2a8)]+',',ysct=ysct+shuju[_0x5820aa(0x334)][_0x22ab43][_0x5820aa(0x374)]+'++';}}),await sleep(0x1f4);if(_0x1b18e2[_0x540396(0x3b5)][_0x540396(0x251)]('#查看预设词条')&_0x1b18e2[_0x540396(0x310)]){let _0x17d2a9=_0x1b18e2[_0x540396(0x3b5)]['replace'](/#查看预设词条/g,'')[_0x540396(0x304)]();_0x17d2a9=Number(_0x17d2a9),ysct=ysct[_0x540396(0x1e1)]('++'),_0x21e350=_0x21e350[_0x540396(0x1e1)](',');if(_0x17d2a9>ysct['length']|_0x17d2a9<0x0){_0x1b18e2['reply'](_0x540396(0x341));return;}_0x1b18e2['reply']([_0x21e350[_0x17d2a9-0x1],':',ysct[_0x17d2a9-0x1]]),ysct='',_0x21e350='';}if(_0x1b18e2['msg'][_0x540396(0x251)](_0x540396(0x376))&_0x1b18e2[_0x540396(0x310)]){let _0x252b6d=_0x1b18e2[_0x540396(0x3b5)][_0x540396(0x2a1)](/#查看云预设词条/g,'')[_0x540396(0x304)]();_0x252b6d=Number(_0x252b6d);let _0x2dbe00=await _0x3421e4(_0x540396(0x2b8));_0x2dbe00=await _0x2dbe00[_0x540396(0x258)]();for(let _0x4440b4=0x0;_0x4440b4<_0x2dbe00[_0x540396(0x334)]['length'];_0x4440b4++){_0x21e350=_0x21e350+_0x2dbe00[_0x540396(0x334)][_0x4440b4][_0x540396(0x2a8)]+',',ysct=ysct+_0x2dbe00[_0x540396(0x334)][_0x4440b4][_0x540396(0x374)]+'++';}ysct=ysct[_0x540396(0x1e1)]('++'),_0x21e350=_0x21e350['split'](',');if(_0x252b6d>ysct['length']|_0x252b6d<0x0){_0x1b18e2['reply'](_0x540396(0x341));return;}_0x1b18e2['reply']([_0x21e350[_0x252b6d-0x1],_0x540396(0x222),ysct[_0x252b6d-0x1]]),ysct='',_0x21e350='';}if(_0x1b18e2['msg']==_0x540396(0x35a)&_0x1b18e2[_0x540396(0x310)]){_0x21e350=_0x21e350[_0x540396(0x1e1)](','),data1={'tplFile':_0x540396(0x2cd),'dz':ml,'lb':_0x21e350,'qsid':0x0};let _0x322fee=await _0x44552e['screenshot']('123',{...data1});_0x1b18e2[_0x540396(0x2ca)](_0x322fee);return;}if(_0x1b18e2[_0x540396(0x3b5)]==_0x540396(0x230)&_0x1b18e2[_0x540396(0x310)]){_0x21e350='';let _0x3ca36b=await _0x3421e4(_0x540396(0x2b8));_0x3ca36b=await _0x3ca36b[_0x540396(0x258)]();for(let _0x59cd22=0x0;_0x59cd22<_0x3ca36b['shuju'][_0x540396(0x385)];_0x59cd22++){_0x21e350=_0x21e350+_0x3ca36b['shuju'][_0x59cd22]['name']+',';}_0x21e350=_0x21e350[_0x540396(0x1e1)](','),data1={'tplFile':_0x540396(0x2cd),'dz':ml,'lb':_0x21e350,'qsid':0x0};let _0x119969=await _0x44552e[_0x540396(0x383)](_0x540396(0x2f5),{...data1});_0x1b18e2[_0x540396(0x2ca)](_0x119969);return;}if(_0x1b18e2[_0x540396(0x3b5)][_0x540396(0x251)](_0x540396(0x39e))&_0x1b18e2['isMaster']){let _0x48962b=_0x1b18e2[_0x540396(0x3b5)]['replace'](/#删除预设/g,'')[_0x540396(0x304)]();_0x48962b=Number(_0x48962b);if(_0x48962b<shuju[_0x540396(0x334)]['length']+0x1){shuju[_0x540396(0x334)][_0x540396(0x35b)](_0x48962b-0x1,0x1);var _0x2e354b=JSON[_0x540396(0x36e)](shuju);}_0x35faf9[_0x540396(0x393)](_0x499782,_0x2e354b,function(_0x3c4d9){const _0x5c62c0=_0x540396;_0x3c4d9&&console['error'](_0x3c4d9),_0x1b18e2[_0x5c62c0(0x2ca)](_0x5c62c0(0x395));});}if(_0x1b18e2[_0x540396(0x3b5)][_0x540396(0x251)](_0x540396(0x252))&_0x1b18e2[_0x540396(0x310)]&yushekg==0x0){yushekg=0x1,ys[0x0]=_0x1b18e2['msg'][_0x540396(0x2a1)](/#新增预设/g,'')[_0x540396(0x304)](),console[_0x540396(0x303)](ys[0x0]);if(ys[0x0]==''){_0x1b18e2[_0x540396(0x2ca)]('你没有定义预设名称'),yushekg=0x0;return;}_0x1b18e2[_0x540396(0x2ca)](_0x540396(0x338));return;}if(yushekg==0x1&_0x1b18e2[_0x540396(0x310)]){yushekg=0x0,ys[0x1]=_0x1b18e2['msg'];let _0x470195={'name':ys[0x0],'gjc':ys[0x1]};shuju[_0x540396(0x334)][_0x540396(0x2ab)](_0x470195),console[_0x540396(0x303)](shuju);var _0x2e354b=JSON[_0x540396(0x36e)](shuju);_0x35faf9[_0x540396(0x393)](_0x499782,_0x2e354b,_0x553e4f=>{const _0x45334d=_0x540396;if(_0x553e4f)throw _0x553e4f;console['log'](_0x45334d(0x340)),_0x1b18e2[_0x45334d(0x2ca)](_0x45334d(0x2dd));});return;}}async[_0x39294f(0x1f5)](_0x392859){const _0x56f128=_0x39294f;let _0x130fdb=_0x56703d[_0x56f128(0x2b2)](_0x35faf9[_0x56f128(0x1db)](_0x56f128(0x296),_0x56f128(0x2e6)));_0x392859[_0x56f128(0x3b5)][_0x56f128(0x251)](_0x56f128(0x307))&_0x392859['isMaster']&&(_0x392859[_0x56f128(0x2ca)](_0x56f128(0x2e4)),pc=_0x392859['msg'][_0x56f128(0x2a1)](/#新增屏蔽词/g,'')['trim'](),_0x130fdb['pc']=pc),_0x392859[_0x56f128(0x3b5)]=='#查看屏蔽词'&_0x392859['isMaster']&&_0x392859[_0x56f128(0x2ca)]([_0x56f128(0x2e0),pc]),_0x392859[_0x56f128(0x3b5)]['includes']('#删除屏蔽词')&_0x392859[_0x56f128(0x310)]&&(_0x392859[_0x56f128(0x2ca)]('删除屏蔽词成功'+_0x56f128(0x226)),pc=''),_0x392859[_0x56f128(0x3b5)][_0x56f128(0x251)](_0x56f128(0x25a))&_0x392859[_0x56f128(0x310)]&&(_0x392859[_0x56f128(0x2ca)](_0x56f128(0x36b)),pc=_0x56f128(0x29d),_0x130fdb['pc']=pc),_0x392859[_0x56f128(0x3b5)][_0x56f128(0x251)](_0x56f128(0x2bb))&_0x392859[_0x56f128(0x310)]&&(_0x392859['reply'](_0x56f128(0x38b)),pc=_0x56f128(0x294),_0x130fdb['pc']=pc),_0x35faf9['writeFileSync'](_0x56f128(0x296),_0x56703d[_0x56f128(0x36e)](_0x130fdb));}async['qvht'](_0x26a5b9){const _0xec8acf=_0x39294f;let _0x5921d1=_0x56703d['parse'](_0x35faf9[_0xec8acf(0x1db)](_0xec8acf(0x296),_0xec8acf(0x2e6)));_0x26a5b9[_0xec8acf(0x3b5)]=='#土块鉴黄关闭'&_0x26a5b9[_0xec8acf(0x310)]&&(_0x26a5b9[_0xec8acf(0x2ca)](_0xec8acf(0x1d3)+String(_0x26a5b9[_0xec8acf(0x32c)])+_0xec8acf(0x261)),_0x5921d1[_0xec8acf(0x2f2)][_0xec8acf(0x2ab)](_0x26a5b9['group_id']),_0x35faf9[_0xec8acf(0x34c)](_0xec8acf(0x296),_0x56703d[_0xec8acf(0x36e)](_0x5921d1)));if(_0x26a5b9[_0xec8acf(0x3b5)]==_0xec8acf(0x375)&_0x26a5b9[_0xec8acf(0x310)]){let _0x3502fb=_0x5921d1[_0xec8acf(0x2f2)][_0xec8acf(0x2ed)](_0xedd4d9=>_0xedd4d9==_0x26a5b9['group_id']);_0x3502fb!=-0x1&&_0x5921d1[_0xec8acf(0x2f2)][_0xec8acf(0x35b)](_0x3502fb,0x1);if(_0x5921d1['sk']==null|_0x5921d1['sk']==null){_0x26a5b9['reply'](_0xec8acf(0x394));return;}_0x26a5b9[_0xec8acf(0x2ca)]('好的，开启鉴黄了'),ss=0x0,_0x5921d1['ss']=0x0,_0x35faf9[_0xec8acf(0x34c)](_0xec8acf(0x296),_0x56703d[_0xec8acf(0x36e)](_0x5921d1));}await dqpz();if(_0x26a5b9[_0xec8acf(0x3b5)][_0xec8acf(0x251)](_0xec8acf(0x21a))&_0x26a5b9['isMaster']){_0x5921d1['cd']=0x7530,_0x5921d1[_0xec8acf(0x33d)]=0x1,_0x35faf9[_0xec8acf(0x34c)](_0xec8acf(0x296),_0x56703d['stringify'](_0x5921d1)),cd=0x7530,_0x26a5b9[_0xec8acf(0x2ca)](_0xec8acf(0x373));return;}if(_0x26a5b9[_0xec8acf(0x3b5)][_0xec8acf(0x251)](_0xec8acf(0x1e8))&_0x26a5b9['isMaster']){let _0xae0a90=_0x26a5b9[_0xec8acf(0x3b5)][_0xec8acf(0x2a1)](/#土块画图冷却/g,'')['trim']();cd=Number(_0xae0a90)*0x3e8,_0x5921d1['cd']=cd,_0x5921d1['iscd']=0x1,_0x35faf9['writeFileSync']('./plugins/earth-k-plugin/config/config.yaml',_0x56703d[_0xec8acf(0x36e)](_0x5921d1)),_0x26a5b9[_0xec8acf(0x2ca)]('已设置冷却时间为'+_0xae0a90+'秒');}if(_0x26a5b9['msg']['includes'](_0xec8acf(0x311))&_0x26a5b9[_0xec8acf(0x310)]){_0x5921d1[_0xec8acf(0x31e)]=0x0,_0x5921d1[_0xec8acf(0x24e)]=0x0,_0x35faf9[_0xec8acf(0x34c)](_0xec8acf(0x296),_0x56703d[_0xec8acf(0x36e)](_0x5921d1)),isch=0x0,_0x26a5b9['reply'](_0xec8acf(0x2b9));return;}if(_0x26a5b9[_0xec8acf(0x3b5)][_0xec8acf(0x251)](_0xec8acf(0x271))&_0x26a5b9[_0xec8acf(0x310)]){isch=0x1,_0x5921d1[_0xec8acf(0x31e)]=0x7530,_0x5921d1['isch']=0x1,_0x35faf9[_0xec8acf(0x34c)](_0xec8acf(0x296),_0x56703d[_0xec8acf(0x36e)](_0x5921d1)),timeout=0x7530,_0x26a5b9[_0xec8acf(0x2ca)](_0xec8acf(0x30a));return;}if(_0x26a5b9[_0xec8acf(0x3b5)]['includes'](_0xec8acf(0x390))&_0x26a5b9[_0xec8acf(0x310)]){isch=0x1;let _0x29f9f6=_0x26a5b9['msg'][_0xec8acf(0x2a1)](/#土块画图撤回/g,'')[_0xec8acf(0x304)]();timeout=Number(_0x29f9f6)*0x3e8,_0x5921d1['timeout']=timeout,_0x5921d1[_0xec8acf(0x24e)]=0x1,_0x35faf9[_0xec8acf(0x34c)](_0xec8acf(0x296),_0x56703d[_0xec8acf(0x36e)](_0x5921d1)),_0x26a5b9['reply'](_0xec8acf(0x3ae)+_0x29f9f6+'秒');}_0x26a5b9[_0xec8acf(0x3b5)]==_0xec8acf(0x241)&&(kg=0x0,sc=0x0,zt=0x0,id='',console[_0xec8acf(0x303)](_0xec8acf(0x286)),kg2=0x0,_0x26a5b9[_0xec8acf(0x2ca)](_0xec8acf(0x1e7))),_0x26a5b9[_0xec8acf(0x3b5)]==_0xec8acf(0x2e7)&_0x26a5b9[_0xec8acf(0x310)]&&(_0x26a5b9['reply'](_0xec8acf(0x2da)),zr=0x0,_0x5921d1['zr']=0x0,_0x35faf9[_0xec8acf(0x34c)]('./plugins/earth-k-plugin/config/config.yaml',_0x56703d[_0xec8acf(0x36e)](_0x5921d1))),_0x26a5b9[_0xec8acf(0x3b5)]==_0xec8acf(0x20a)&_0x26a5b9[_0xec8acf(0x310)]&&(_0x26a5b9[_0xec8acf(0x2ca)]('好的，权限已经关闭，只有你能画了'),zr=0x1,_0x5921d1['zr']=0x1,_0x35faf9['writeFileSync']('./plugins/earth-k-plugin/config/config.yaml',_0x56703d['stringify'](_0x5921d1)));}async[_0x39294f(0x204)](_0x1151ee){const _0x529a20=_0x39294f;if(_0x1151ee[_0x529a20(0x328)]!=undefined&zt==0x0&mfkg==0x0)return![];if(_0x1151ee[_0x529a20(0x328)]==undefined&_0x1151ee[_0x529a20(0x3b5)]!=undefined){if(_0x1151ee[_0x529a20(0x3b5)][_0x529a20(0x251)]('#以图生草')==![]&_0x1151ee['img']==undefined&zt==0x0&_0x1151ee['msg'][_0x529a20(0x251)](_0x529a20(0x2c4))==![]&mfkg==0x0)return![];}mfkg==0x0&_0x1151ee['msg']==_0x529a20(0x2c4)&&(mfkg=0x1,mfid=_0x1151ee['user_id'],_0x1151ee['reply'](_0x529a20(0x3bd)),mf=setTimeout(()=>{const _0x24de89=_0x529a20;if(mfkg==0x1){mfkg=0x0,_0x1151ee['reply'](_0x24de89(0x1e0));return;}},0x3a98));if(_0x1151ee['img']!=undefined&mfkg==0x1&mfid==_0x1151ee[_0x529a20(0x3a8)]){clearTimeout(mf),_0x1151ee[_0x529a20(0x2ca)](_0x529a20(0x360)),mfkg=0x0,mfid='';let _0x2ffc44=_0x529a20(0x2bd);console[_0x529a20(0x303)](_0x1151ee[_0x529a20(0x328)]);let _0x305102=await imgUrlToBase64(_0x1151ee[_0x529a20(0x328)][0x0]['replace'](/https/g,_0x529a20(0x2c1))[_0x529a20(0x304)]()),_0x53d9f9=_0x305102[_0x529a20(0x37f)],_0x479b9f={'fn_index':0x118,'data':[_0x529a20(0x1ef)+_0x53d9f9,'',![],'',_0x529a20(0x2d0),'ignore',![],_0x529a20(0x30c),0.35,'','',![],![],!![],_0x529a20(0x1f3),![],![]],'session_hash':_0x529a20(0x37a)};res=await _0x3421e4(_0x2ffc44,{'method':'post','body':JSON[_0x529a20(0x36e)](_0x479b9f),'headers':{'Content-Type':'application/json','User-Agent':_0x529a20(0x24c)}}),res=await res[_0x529a20(0x258)](),_0x1151ee[_0x529a20(0x2ca)](res[_0x529a20(0x238)][0x0],!![]);if(res!=undefined)_0x1151ee[_0x529a20(0x2ca)](res[_0x529a20(0x322)],!![]),res['code']==-0x1&&(_0x1151ee['reply'](_0x529a20(0x2e8)),mfkg=0x0,mfid='');else{}}if(_0x1151ee[_0x529a20(0x328)]==undefined&zt==0x1)return![];if(_0x1151ee[_0x529a20(0x328)]==undefined&_0x1151ee['msg']!=undefined){dqpz();if(_0x1151ee['msg'][_0x529a20(0x251)](_0x529a20(0x1d4))&_0x1151ee['isMaster']){xsd=Number(_0x1151ee[_0x529a20(0x3b5)][_0x529a20(0x2a1)](/#以图生草相似度/g,'')[_0x529a20(0x304)]())/0x64,_0x1151ee[_0x529a20(0x2ca)]('当前相似度'+String(xsd)),console['log'](xsd);return;}if(_0x1151ee[_0x529a20(0x3b5)]['includes']('#以图生草降噪')&_0x1151ee['isMaster']){jz=Number(_0x1151ee[_0x529a20(0x3b5)][_0x529a20(0x2a1)](/#以图生草降噪/g,'')[_0x529a20(0x304)]())/0x64,_0x1151ee['reply'](_0x529a20(0x23f)+String(jz)),console[_0x529a20(0x303)](jz);return;}if(zt==0x0&&sc==0x0&&_0x1151ee[_0x529a20(0x3b5)][_0x529a20(0x251)]('#以图生草')){if(_0x1151ee[_0x529a20(0x248)]){_0x1151ee['reply']('以图生草暂不支持私聊');return;}dqpz();if(mrct!=-0x1&dqct>mrct){_0x1151ee[_0x529a20(0x2ca)](_0x529a20(0x1ee));return;}let _0x3a10ab=_0x56703d[_0x529a20(0x2b2)](_0x35faf9[_0x529a20(0x1db)]('./plugins/earth-k-plugin/config/config.yaml','utf8')),_0x3e8fc8=_0x3a10ab['blackqq'][_0x529a20(0x2ed)](_0xdc8416=>_0xdc8416==_0x1151ee['user_id']),_0x4aa2fa=_0x3a10ab[_0x529a20(0x2cb)][_0x529a20(0x2ed)](_0x4bce37=>_0x4bce37==_0x1151ee[_0x529a20(0x32c)]);if(_0x4aa2fa!=-0x1){_0x1151ee['reply'](_0x529a20(0x23c));return;}if(_0x3e8fc8!=-0x1){_0x1151ee[_0x529a20(0x2ca)](_0x529a20(0x371));return;}let _0x3d7eff='';if(dqjk==0x0){try{_0x3d7eff=_0x35faf9[_0x529a20(0x1db)](_0x529a20(0x3aa));}catch{_0x1151ee[_0x529a20(0x2ca)](_0x529a20(0x331));return;}_0x3d7eff=_0x3d7eff[_0x529a20(0x2c3)]();let _0x2be3b7=_0x56703d[_0x529a20(0x2b2)](_0x35faf9[_0x529a20(0x1db)](_0x529a20(0x26a),_0x529a20(0x2e6)));zhuren=_0x2be3b7['masterQQ'];let _0x115cd0=0x0;for(let _0x1abb3f=0x0;_0x1abb3f<_0x2be3b7[_0x529a20(0x2a3)][_0x529a20(0x385)];_0x1abb3f++){try{let _0x41987e=_0x529a20(0x24b)+_0x3d7eff+_0x529a20(0x3bb)+String(zhuren[_0x1abb3f]);res=await _0x3421e4(_0x41987e,{'agent':isdl?await getAgent():''}),console[_0x529a20(0x303)]('访问成功了');}catch(_0x341e58){console[_0x529a20(0x303)](_0x341e58),console[_0x529a20(0x303)](_0x529a20(0x290));}res=await res['json']();if(res[_0x529a20(0x23a)]==0x1){_0x115cd0=0x1,cs=res['recs'];break;}}console['log'](res);if(_0x115cd0==0x0|_0x115cd0==0x2){_0x1151ee[_0x529a20(0x2ca)](res[_0x529a20(0x224)]);return;}}if(zr==0x1&!_0x1151ee[_0x529a20(0x310)]){_0x1151ee[_0x529a20(0x2ca)](_0x529a20(0x20f));return;}console[_0x529a20(0x303)](_0x529a20(0x235)),id=_0x1151ee[_0x529a20(0x3a8)],chang=0x200,kuan=0x200,gjc2=_0x1151ee[_0x529a20(0x3b5)][_0x529a20(0x2a1)](/#以图生草/g,'')[_0x529a20(0x304)]();var _0xbffe29=new RegExp(_0x529a20(0x2f0),'g');let _0x1a8cb3='',_0x482dfe='';if(_0xbffe29['test'](gjc2)&_0x1151ee[_0x529a20(0x3b5)][_0x529a20(0x251)]('序号')==![]){let _0x27d9a4=_0x529a20(0x287),_0x3f5e72=await _0x3421e4(_0x27d9a4);_0x1a8cb3=await _0x3f5e72['json'](),_0x1a8cb3=_0x1a8cb3[_0x529a20(0x2a8)];for(let _0x3c34db=0x0;_0x3c34db<_0x1a8cb3[_0x529a20(0x385)];_0x3c34db++){if(gjc2[_0x529a20(0x251)](_0x1a8cb3[_0x3c34db]['zw'])==!![]&_0x1a8cb3[_0x3c34db]['zw']!=''){_0x482dfe=_0x1a8cb3[_0x3c34db]['zw'],gjc2=gjc2['replace'](new RegExp(_0x482dfe,'g'),_0x529a20(0x381)),_0x482dfe=_0x1a8cb3[_0x3c34db]['pt'];break;}}}console[_0x529a20(0x303)](gjc2);_0xbffe29['test'](gjc2)?(console[_0x529a20(0x303)](_0x529a20(0x359)),gjc2=await ydfy(gjc2),console[_0x529a20(0x303)](gjc2)):console[_0x529a20(0x303)](_0x529a20(0x249));zt=0x1,ycqx=setTimeout(()=>{const _0x1b523e=_0x529a20;if(zt==0x1){zt=0x0,_0x1151ee[_0x1b523e(0x2ca)](_0x1b523e(0x2b3));return;}},0x7530),_0x1151ee[_0x529a20(0x2ca)]([segment['at'](id),_0x529a20(0x343)]);return;}}if(sc==0x0&_0x1151ee[_0x529a20(0x3cc)]&zt==0x1&_0x1151ee[_0x529a20(0x328)]!=undefined){clearTimeout(ycqx);let _0x5ce95f=_0x56703d[_0x529a20(0x2b2)](_0x35faf9[_0x529a20(0x1db)](_0x529a20(0x296),_0x529a20(0x2e6)));if(_0x1151ee[_0x529a20(0x3a8)]==id&zt==0x1){sc=0x1;let _0x331021=await imgUrlToBase64(_0x1151ee[_0x529a20(0x328)][0x0]['replace'](/https/g,_0x529a20(0x2c1))[_0x529a20(0x304)]()),_0x42d3ea=_0x331021[_0x529a20(0x37f)];_0x35faf9[_0x529a20(0x393)]('./resources/yb.png',_0x42d3ea[_0x529a20(0x2c3)](),'base64',_0xaf6195=>{const _0x3360e6=_0x529a20;_0xaf6195?console[_0x3360e6(0x303)](_0x3360e6(0x364)):console[_0x3360e6(0x303)](_0x3360e6(0x380));}),await sleep(0x1f4);let _0x5b7118=_0x2a59fa(_0x529a20(0x398)),_0x30b4a4=_0x5b7118[_0x529a20(0x36a)],_0x175876=_0x5b7118[_0x529a20(0x2ec)];_0x30b4a4=Math[_0x529a20(0x2c7)](_0x30b4a4/0x40),_0x175876=Math['floor'](_0x175876/0x40);let _0x4b5fbf;_0x30b4a4>_0x175876&&(_0x4b5fbf=_0x30b4a4/_0x175876,_0x175876=beishu*0x40,_0x30b4a4=Math[_0x529a20(0x2c7)](beishu*_0x4b5fbf)*0x40);_0x175876>_0x30b4a4&&(_0x4b5fbf=_0x175876/_0x30b4a4,_0x30b4a4=beishu*0x40,_0x175876=Math[_0x529a20(0x2c7)](beishu*_0x4b5fbf)*0x40);_0x175876==_0x30b4a4&&(_0x30b4a4=0x300,_0x175876=0x300,_0x4b5fbf=0x1);console[_0x529a20(0x303)](_0x30b4a4,_0x175876,_0x4b5fbf);var _0x120b0b={'init_images':['data:image/jpeg;base64,'+_0x42d3ea],'denoising_strength':0x1-xsd,'prompt':gjc2,'styles':['Resize\x20and\x20fill'],'seed':-0x1,'steps':0x28,'cfg_scale':guimo+0x2,'width':_0x175876,'height':_0x30b4a4,'negative_prompt':_0x529a20(0x29d),'sampler_index':_0x529a20(0x3b6)};_0x1151ee[_0x529a20(0x2ca)](_0x529a20(0x25d)),zt=0x0;try{res=await _0x3421e4(imgdz,{'method':_0x529a20(0x1ff),'agent':isdl?await getAgent():'','body':JSON[_0x529a20(0x36e)](_0x120b0b),'headers':{'Content-Type':_0x529a20(0x1d9),'User-Agent':_0x529a20(0x24c)}});let _0x591c58=await res[_0x529a20(0x258)]();_0x591c58=_0x591c58[_0x529a20(0x3ad)],_0x1151ee[_0x529a20(0x2ca)]('图来咯'),await _0x35faf9['writeFile'](_0x529a20(0x38e),_0x591c58[_0x529a20(0x2c3)](),_0x529a20(0x228),_0x1d9795=>{const _0x552179=_0x529a20;_0x1d9795?console['log'](_0x552179(0x364)):console[_0x552179(0x303)]('写入文件成功');}),await sleep(0x1f4),msg2=[segment['at'](_0x1151ee[_0x529a20(0x3a8)]),segment['image'](ml+_0x529a20(0x27e))],await sleep(0x1f4),iscd=0x0,sc=0x0,id='';let _0x8babb4=_0x5ce95f['sesequn'][_0x529a20(0x2ed)](_0x35fd15=>_0x35fd15==_0x1151ee[_0x529a20(0x32c)]);tpjc='';ss==0x0&_0x8babb4==-0x1&&(await main(_0x529a20(0x38e)),console[_0x529a20(0x303)](tpjc));let _0x4a880b,_0x4dc4f7=_0x1151ee[_0x529a20(0x3ba)]?.['card']?_0x1151ee[_0x529a20(0x3ba)][_0x529a20(0x2bf)]:_0x1151ee[_0x529a20(0x3ba)]?.[_0x529a20(0x247)],_0x39dc55=_0x56703d[_0x529a20(0x2b2)](_0x35faf9[_0x529a20(0x1db)](_0x529a20(0x26a),_0x529a20(0x2e6)));_0x39dc55=_0x39dc55['masterQQ'][0x0];if(tpjc==_0x529a20(0x358)&ss==0x0){_0x4a880b=await _0x1151ee['reply']('又画涩图！你画涩图我已经发给主人了，别再画了！'),msg2=[_0x529a20(0x2fc),_0x529a20(0x320)+_0x4dc4f7+'('+String(_0x1151ee[_0x529a20(0x3a8)])+')\x0a',_0x529a20(0x275)+_0x1151ee[_0x529a20(0x332)][_0x529a20(0x2a8)]+'('+String(_0x1151ee[_0x529a20(0x32c)])+')\x0a','在画涩图被我抓到了',segment[_0x529a20(0x325)]('./resources/3.jpg')];if(ftkg==0x1){let _0x242969=await upload_image(_0x529a20(0x1f4)),_0x11b32b=(_0x242969[_0x529a20(0x292)][_0x529a20(0x2c3)](_0x529a20(0x22d))||'')[_0x529a20(0x2fa)](),_0x4b5ebf='https://gchat.qpic.cn/gchatpic_new/0/0-0-'+_0x11b32b+'/0';_0x1151ee[_0x529a20(0x2ca)](_0x4b5ebf);}jhft==0x1&&Bot[_0x529a20(0x305)](_0x39dc55[0x0])[_0x529a20(0x2f4)](msg2);}else{if(tlkg==0x1){let _0x5b83c0=await upload_image(_0x529a20(0x38e)),_0x2ea157=(_0x5b83c0['md5'][_0x529a20(0x2c3)]('hex')||'')[_0x529a20(0x2fa)](),_0x460f3a=_0x529a20(0x2df)+_0x2ea157+'/0';_0x4a880b=_0x1151ee[_0x529a20(0x2ca)](_0x460f3a);}else msg2=segment[_0x529a20(0x325)](_0x529a20(0x38e)),_0x4a880b=await _0x1151ee['reply'](msg2);}iscd=0x1;if(_0x4a880b&&_0x4a880b[_0x529a20(0x28f)]&&isch==0x1&&_0x1151ee[_0x529a20(0x3cc)]){let _0x3ca33d=_0x1151ee[_0x529a20(0x332)];setTimeout(()=>{const _0x24705c=_0x529a20;_0x3ca33d[_0x24705c(0x39d)](_0x4a880b[_0x24705c(0x28f)]);},timeout);}startTimeMS=new Date()[_0x529a20(0x309)](),t=setTimeout(()=>{iscd=0x0,sc=0x0,id='';},cd);}catch(_0x225b63){console[_0x529a20(0x303)](_0x225b63),_0x1151ee[_0x529a20(0x2ca)](_0x529a20(0x31c)),kg=0x0,iscd=0x0,sc=0x0;return;}}}else{if(_0x1151ee['img']==undefined&_0x1151ee[_0x529a20(0x3b5)]!=undefined){if(_0x1151ee[_0x529a20(0x3b5)]['includes'](_0x529a20(0x262))){if(iscd==0x1){console['log'](iscd);let _0x4c216a=cd-(new Date()[_0x529a20(0x309)]()-startTimeMS);_0x4c216a=Math[_0x529a20(0x2b6)](_0x4c216a/0x3e8);if(_0x4c216a<0x0){sc=0x0,id='';return;}_0x1151ee[_0x529a20(0x2ca)]('我在cd中，还有'+String(_0x4c216a)+_0x529a20(0x2e2));}else _0x1151ee['reply']('不要着急');}}}}async[_0x39294f(0x2aa)](_0x2a3925){const _0x3e97f2=_0x39294f;dqpz();if(mrct!=-0x1&dqct>mrct){_0x2a3925[_0x3e97f2(0x2ca)](_0x3e97f2(0x1ee));return;}let _0x14f23f=_0x56703d[_0x3e97f2(0x2b2)](_0x35faf9['readFileSync'](_0x3e97f2(0x296),'utf8')),_0xd8eb89=_0x14f23f[_0x3e97f2(0x2db)][_0x3e97f2(0x2ed)](_0x5f32dd=>_0x5f32dd==_0x2a3925[_0x3e97f2(0x3a8)]),_0x22e4f0=_0x14f23f[_0x3e97f2(0x2cb)][_0x3e97f2(0x2ed)](_0x28afa3=>_0x28afa3==_0x2a3925[_0x3e97f2(0x32c)]);if(_0x22e4f0!=-0x1){_0x2a3925['reply'](_0x3e97f2(0x23c));return;}if(_0xd8eb89!=-0x1){_0x2a3925[_0x3e97f2(0x2ca)](_0x3e97f2(0x371));return;}if(_0x2a3925['msg']['includes']('#预设')&!_0x2a3925[_0x3e97f2(0x310)]){_0x2a3925['reply'](_0x3e97f2(0x3c6));return;}let _0x4b8c8c,_0x23e373,_0x4a1eb8;_0x2a3925[_0x3e97f2(0x3b5)][_0x3e97f2(0x251)]('#预设')==![]&&(_0x4a1eb8=_0x2a3925[_0x3e97f2(0x3b5)][_0x3e97f2(0x2a1)](/#绘个图/g,'')[_0x3e97f2(0x304)]());console[_0x3e97f2(0x303)](_0x3e97f2(0x272)+kg2);let _0x18c572,_0x1a09e2;if(kg2==0x0&_0x2a3925['isGroup']|_0x2a3925['isMaster']){if(zr==0x1&!_0x2a3925[_0x3e97f2(0x310)]){_0x2a3925[_0x3e97f2(0x2ca)](_0x3e97f2(0x1ca));return;}kg2=0x1;let _0x1d946a=_0x4a1eb8,_0x1167e6='',_0xa253ea='',_0x182f03='',_0x48dafb='';var _0x578d26=new RegExp(_0x3e97f2(0x2f0),'g');if(_0x578d26[_0x3e97f2(0x2bc)](_0x1d946a)&_0x2a3925[_0x3e97f2(0x3b5)][_0x3e97f2(0x251)]('序号')==![]){let _0x3f796d=ml+_0x3e97f2(0x34b);_0x35faf9['access'](_0x3f796d['toString'](),_0x35faf9[_0x3e97f2(0x285)][_0x3e97f2(0x1d0)],_0xfa1be6=>{const _0x1d2d73=_0x3e97f2;if(_0xfa1be6){let _0x58223f=ml+_0x1d2d73(0x1d8)+'ys'+_0x1d2d73(0x1e6),_0x16333c={'shuju':[{'name':'水手少女','gjc':_0x1d2d73(0x250)}]};_0x35faf9[_0x1d2d73(0x34c)](_0x58223f[_0x1d2d73(0x2c3)](),JSON[_0x1d2d73(0x36e)](_0x16333c),_0x1d2d73(0x2be));}else console[_0x1d2d73(0x303)]('');}),await sleep(0x1f4);let _0x49b6e6=0x1;while(_0x18c572!=-0x1){_0x35faf9[_0x3e97f2(0x2f8)](_0x3f796d,(_0x50fd83,_0x208a0c)=>{const _0x1f5b81=_0x3e97f2;_0x18c572=-0x1,_0x4b8c8c=JSON['parse'](_0x208a0c[_0x1f5b81(0x2c3)]()),_0x1a09e2=_0x4b8c8c[_0x1f5b81(0x334)];var _0x5ccdff=new RegExp(_0x1f5b81(0x2f0),'g');if(_0x5ccdff[_0x1f5b81(0x2bc)](_0x1d946a))_0x18c572=_0x1a09e2[_0x1f5b81(0x2ed)](_0x394ff5=>_0x1d946a[_0x1f5b81(0x251)](_0x394ff5['name'])),console[_0x1f5b81(0x303)](_0x18c572);else{}}),await sleep(0x1f4);try{_0x1d946a=_0x1d946a[_0x3e97f2(0x2a1)](new RegExp(_0x1a09e2[_0x18c572][_0x3e97f2(0x2a8)],'g'),''),_0x1a09e2[_0x18c572][_0x3e97f2(0x2a8)]==''&&(_0x18c572=-0x1);}catch{}_0x18c572!=-0x1&&(_0x48dafb=_0x48dafb+_0x1a09e2[_0x18c572]['gjc']);}if(isyun==0x1)try{_0x1a09e2=await _0x3421e4('http://tukuai.hopto.org:1450//ys.json'),_0x1a09e2=await _0x1a09e2[_0x3e97f2(0x258)]();}catch{_0x2a3925[_0x3e97f2(0x2ca)]('土块服务器在维护中');return;}_0x18c572=0x0;while(_0x18c572!=-0x1&isyun==0x1){_0x18c572=-0x1;let _0x176cb1=_0x1a09e2[_0x3e97f2(0x334)];var _0x578d26=new RegExp('[\x5cu4E00-\x5cu9FFF]+','g');if(_0x578d26[_0x3e97f2(0x2bc)](_0x1d946a))_0x18c572=_0x176cb1['findIndex'](_0x428e31=>_0x1d946a[_0x3e97f2(0x251)](_0x428e31[_0x3e97f2(0x2a8)]));else{}try{_0x1d946a=_0x1d946a[_0x3e97f2(0x2a1)](new RegExp(_0x176cb1[_0x18c572][_0x3e97f2(0x2a8)],'g'),'');}catch{}_0x18c572!=-0x1&&(_0x48dafb=_0x48dafb+_0x176cb1[_0x18c572][_0x3e97f2(0x374)]);}let _0x3e55a2,_0x4d451a;if(isyun==0x1)try{_0x3e55a2=_0x3e97f2(0x287),_0x4d451a=await _0x3421e4(_0x3e55a2),_0xa253ea=await _0x4d451a[_0x3e97f2(0x258)](),_0xa253ea=_0xa253ea[_0x3e97f2(0x2a8)];for(let _0x1a825f=0x0;_0x1a825f<_0xa253ea[_0x3e97f2(0x385)];_0x1a825f++){if(_0x1d946a[_0x3e97f2(0x251)](_0xa253ea[_0x1a825f]['zw'])==!![]&_0xa253ea[_0x1a825f]['zw']!=''){_0x182f03=_0xa253ea[_0x1a825f]['zw'],_0x1d946a=_0x1d946a[_0x3e97f2(0x2a1)](new RegExp(_0x182f03,'g'),'\x20'),_0x182f03=_0xa253ea[_0x1a825f]['pt'];break;}}}catch{_0x2a3925[_0x3e97f2(0x2ca)](_0x3e97f2(0x1cf));return;}}if(_0x2a3925[_0x3e97f2(0x3b5)][_0x3e97f2(0x251)]('随机人物')){let _0x1a86ac=_0x3e97f2(0x287),_0xb9c709=await _0x3421e4(_0x1a86ac);_0xb9c709=await _0xb9c709[_0x3e97f2(0x258)]();let _0x5ca50b=Math[_0x3e97f2(0x2c7)](Math[_0x3e97f2(0x3b1)]()*_0xb9c709['name'][_0x3e97f2(0x385)]);_0x1167e6=_0xb9c709[_0x3e97f2(0x2a8)][_0x5ca50b]['zw'];let _0x3bff42=_0xb9c709['name'][_0x5ca50b]['pt'];_0x1d946a=_0x1d946a[_0x3e97f2(0x2a1)](/随机人物/g,_0x3bff42)[_0x3e97f2(0x304)]();}if(_0x2a3925[_0x3e97f2(0x3b5)][_0x3e97f2(0x251)](_0x3e97f2(0x3cf))){let _0x36340a=_0x3e97f2(0x2b8),_0x52a786=await _0x3421e4(_0x36340a);_0x52a786=await _0x52a786[_0x3e97f2(0x258)]();let _0x3e1b68=Math[_0x3e97f2(0x2c7)](Math[_0x3e97f2(0x3b1)]()*_0x52a786['shuju'][_0x3e97f2(0x385)]),_0x5551b7=_0x52a786[_0x3e97f2(0x334)][_0x3e1b68][_0x3e97f2(0x374)];_0x1167e6=_0x52a786[_0x3e97f2(0x334)][_0x3e1b68][_0x3e97f2(0x2a8)],_0x1d946a=_0x1d946a[_0x3e97f2(0x2a1)](/随机动作/g,_0x5551b7)['trim']();}_0x578d26=new RegExp(_0x3e97f2(0x2f0),'g');if(_0x578d26['test'](_0x1d946a)&_0x2a3925[_0x3e97f2(0x3b5)][_0x3e97f2(0x251)]('序号')==![]){console[_0x3e97f2(0x303)](_0x3e97f2(0x382));let _0x9ebdae=await ydfy(_0x1d946a);console[_0x3e97f2(0x303)](_0x9ebdae),res4=_0x182f03+'\x20'+_0x9ebdae+_0x48dafb,console[_0x3e97f2(0x303)](res4);}else console['log'](_0x3e97f2(0x249)),res4=_0x182f03+'\x20'+_0x1d946a+'\x20'+_0x48dafb,console[_0x3e97f2(0x303)](res4);if(_0x2a3925[_0x3e97f2(0x3b5)]['includes']('#预设')&_0x2a3925[_0x3e97f2(0x310)]){_0x23e373=_0x2a3925[_0x3e97f2(0x3b5)]['replace'](/#预设/g,'')[_0x3e97f2(0x304)]();let _0xd0615d=ml+_0x3e97f2(0x34b);_0x35faf9[_0x3e97f2(0x339)](_0xd0615d['toString'](),_0x35faf9[_0x3e97f2(0x285)][_0x3e97f2(0x1d0)],_0x5430fd=>{const _0x63c808=_0x3e97f2;if(_0x5430fd){let _0xc94e34=ml+'/resources/'+'ys'+_0x63c808(0x1e6),_0xe1eee6={'shuju':[{'name':_0x63c808(0x2e9),'gjc':_0x63c808(0x250)}]};_0x35faf9['writeFileSync'](_0xc94e34[_0x63c808(0x2c3)](),JSON[_0x63c808(0x36e)](_0xe1eee6),_0x63c808(0x2be));}else console[_0x63c808(0x303)](_0x2a3925['user_id'][_0x63c808(0x2c3)]()+_0x63c808(0x1e9));}),await sleep(0x1f4),await _0x35faf9[_0x3e97f2(0x2f8)](_0xd0615d,(_0x595fdb,_0x580a39)=>{const _0x45cbe8=_0x3e97f2;_0x4b8c8c=JSON[_0x45cbe8(0x2b2)](_0x580a39[_0x45cbe8(0x2c3)]()),_0x1a09e2=_0x4b8c8c[_0x45cbe8(0x334)];var _0x529c0f=new RegExp(_0x45cbe8(0x2f0),'g');if(_0x529c0f[_0x45cbe8(0x2bc)](_0x23e373))console[_0x45cbe8(0x303)]('预设包含中文'),_0x18c572=_0x1a09e2['findIndex'](_0x3a751b=>_0x3a751b['name']==_0x23e373);else{_0x18c572=Number(_0x23e373)-0x1;if(_0x18c572>_0x1a09e2[_0x45cbe8(0x385)]){_0x18c572=-0x1;return;}}}),await sleep(0x1f4),console[_0x3e97f2(0x303)](_0x18c572);if(_0x18c572!=-0x1)res4=_0x1a09e2[_0x18c572][_0x3e97f2(0x374)];else{_0x2a3925[_0x3e97f2(0x2ca)](_0x3e97f2(0x326));return;}}if(_0x2a3925['msg']['includes'](_0x3e97f2(0x302))&_0x2a3925[_0x3e97f2(0x310)]&isyun==0x1){_0x23e373=_0x2a3925[_0x3e97f2(0x3b5)][_0x3e97f2(0x2a1)](/#云预设/g,'')['trim']();let _0x36faaf=await _0x3421e4(_0x3e97f2(0x2b8));_0x36faaf=await _0x36faaf[_0x3e97f2(0x258)]();if(_0x578d26['test'](_0x23e373))console[_0x3e97f2(0x303)](_0x3e97f2(0x2ae)),_0x18c572=_0x36faaf[_0x3e97f2(0x334)][_0x3e97f2(0x2ed)](_0x5aa16e=>_0x5aa16e['name']==_0x23e373);else{_0x18c572=Number(_0x23e373)-0x1;if(_0x18c572>_0x36faaf[_0x3e97f2(0x334)][_0x3e97f2(0x385)]){_0x18c572=-0x1;return;}}if(_0x18c572!=-0x1)res4=_0x36faaf[_0x3e97f2(0x334)][_0x18c572]['gjc'];else{_0x2a3925[_0x3e97f2(0x2ca)](_0x3e97f2(0x326));return;}}if(_0x2a3925[_0x3e97f2(0x3b5)]==_0x3e97f2(0x220)){let _0xcf4824='http://tukuai.hopto.org:1450//wj.php',_0xba954f=await _0x3421e4(_0xcf4824);_0xba954f=await _0xba954f[_0x3e97f2(0x258)]();let _0x19f76c=Math['floor'](Math[_0x3e97f2(0x3b1)]()*_0xba954f[_0x3e97f2(0x2a8)][_0x3e97f2(0x385)]),_0x18c0e2=_0xba954f[_0x3e97f2(0x2a8)][_0x19f76c]['zw'],_0x235cef=_0xba954f['name'][_0x19f76c]['pt'],_0x3af397=_0x3e97f2(0x2b8),_0x357f4a=await _0x3421e4(_0x3af397);_0x357f4a=await _0x357f4a['json']();let _0x123a06,_0x4b3f64='',_0x117766='';console[_0x3e97f2(0x303)](suijics);for(let _0x1d15c5=0x0;_0x1d15c5<suijics;_0x1d15c5++){_0x123a06=Math['floor'](Math[_0x3e97f2(0x3b1)]()*_0x357f4a[_0x3e97f2(0x334)][_0x3e97f2(0x385)]),_0x4b3f64=_0x4b3f64+'\x20'+_0x357f4a[_0x3e97f2(0x334)][_0x123a06]['gjc'],_0x117766=_0x117766+'\x20'+_0x357f4a['shuju'][_0x123a06][_0x3e97f2(0x2a8)];}console[_0x3e97f2(0x303)](_0x18c0e2,_0x4b3f64,_0x117766),res4=_0x235cef+_0x4b3f64,_0x1167e6=_0x18c0e2+_0x117766;}if(_0x2a3925[_0x3e97f2(0x3b5)][_0x3e97f2(0x251)]('序号')){res4=res4[_0x3e97f2(0x2a1)](/序号/g,'')['trim']();let _0x1cad98='http://tukuai.hopto.org:1450//wj.php',_0x541c6f=await _0x3421e4(_0x1cad98,{'agent':isdl?await getAgent():''}),_0x59435e=await _0x541c6f[_0x3e97f2(0x258)](),_0xab5058=_0x59435e[_0x3e97f2(0x2a8)],_0x561aa1=_0x2a3925[_0x3e97f2(0x3b5)][_0x3e97f2(0x2e1)](0x6,0x9);const _0x5b8dad=/\d+/;let _0x3948d8=_0x561aa1['match'](_0x5b8dad),_0x586d75=_0x3948d8[0x0];res4=res4[_0x3e97f2(0x2a1)](new RegExp(_0x586d75,'g'),''),_0x3948d8=Number(_0x3948d8[0x0]);try{res4=_0xab5058[_0x3948d8+0x1]['pt']+res4,console[_0x3e97f2(0x303)](res4);}catch{_0x2a3925[_0x3e97f2(0x2ca)](_0x3e97f2(0x2d6));return;}}await sleep(0x1f4),_0x2a3925[_0x3e97f2(0x2ca)](_0x3e97f2(0x208)+_0x182f03+_0x1167e6);let _0x41eaf0=Math['floor'](Math[_0x3e97f2(0x3b1)]()*0x2);changkuan==0x1&&(_0x41eaf0=0x1);changkuan==0x2&&(_0x41eaf0=0x0);changkuan==0x3&&(_0x41eaf0=0x3);_0x41eaf0==0x0&&(changdu=0x240,kuandu=0x180);_0x41eaf0==0x1&&(changdu=0x180,kuandu=0x240);chicun==0x1&&(_0x41eaf0==0x0&&(changdu=0x300,kuandu=0x200),_0x41eaf0==0x1&&(changdu=0x200,kuandu=0x300),_0x41eaf0==0x3&&(changdu=0x1c0,kuandu=0x380));console['log'](_0x41eaf0);var _0x1e6081=_0x3e97f2(0x1cc),_0x3f860a=[res4,pc,_0x3e97f2(0x2b4),_0x3e97f2(0x2b4),0x14,_0x3e97f2(0x3b6),![],![],0x1,0x1,0x7,-0x1,-0x1,0x0,0x0,0x0,![],changdu,kuandu,![],![],0.7,'None',![],![],null,'',_0x3e97f2(0x20e),'',_0x3e97f2(0x2e3),'',!![],![],null,'',''],_0x4529c4=[res4,pc,_0x3e97f2(0x2b4),_0x3e97f2(0x2b4),0x1c,_0x3e97f2(0x3b6),![],![],0x1,0x1,0xb,-0x1,-0x1,0x0,0x0,0x0,![],0x200,0x200,![],![],0.7,_0x3e97f2(0x2b4),![],![],null,'',_0x3e97f2(0x20e),'',_0x3e97f2(0x2e3),'',!![],![],null,'',''];let _0x1b790d=_0x3e97f2(0x351),_0x59c756=Math['floor'](Math[_0x3e97f2(0x3b1)]()*0xb6cff090),_0x451adb='';if(dqjk==0x0){try{_0x451adb=_0x35faf9[_0x3e97f2(0x1db)](_0x3e97f2(0x3aa));}catch{_0x2a3925['reply'](_0x3e97f2(0x331));return;}_0x451adb=_0x451adb['toString']();let _0x143f82=_0x56703d[_0x3e97f2(0x2b2)](_0x35faf9['readFileSync'](_0x3e97f2(0x26a),'utf8'));zhuren=_0x143f82[_0x3e97f2(0x2a3)];let _0x4ca368=0x0;for(let _0x59e336=0x0;_0x59e336<_0x143f82[_0x3e97f2(0x2a3)][_0x3e97f2(0x385)];_0x59e336++){try{let _0x41ff63=_0x3e97f2(0x24b)+_0x451adb+'&qq='+String(zhuren[_0x59e336]);res=await _0x3421e4(_0x41ff63,{'agent':isdl?await getAgent():''}),console[_0x3e97f2(0x303)](_0x3e97f2(0x1f1));}catch(_0x1657cc){console[_0x3e97f2(0x303)](_0x1657cc),console[_0x3e97f2(0x303)](_0x3e97f2(0x290));}res=await res['json']();if(res['code']==0x1){_0x4ca368=0x1,cs=res[_0x3e97f2(0x342)];break;}}console[_0x3e97f2(0x303)](res);if(_0x4ca368==0x0|_0x4ca368==0x2){_0x2a3925[_0x3e97f2(0x2ca)](res[_0x3e97f2(0x224)]);return;}}let _0x2b1bd4=mrct-dqct;mrct==-0x1&&(_0x2b1bd4='∞');let _0x4f2048=_0x3e97f2(0x32e)+moxing+_0x3e97f2(0x232)+guimo[_0x3e97f2(0x2c3)]()+'\x20\x0a剩余次数:'+cs+_0x3e97f2(0x33c)+_0x2b1bd4[_0x3e97f2(0x2c3)]();try{let _0x34e9e2=await _0x3421e4(txtdz,{'method':_0x3e97f2(0x2ff),'agent':isdl?await getAgent():'','headers':{'Content-Type':_0x3e97f2(0x1d9),'authorization':_0x3e97f2(0x3a0)},'body':JSON['stringify']({'enable_hr':!![],'denoising_strength':0.55,'hr_scale':0x2,'hr_upscaler':'Latent','hr_second_pass_steps':0xa,'prompt':res4,'seed':-0x1,'sampler_name':moxing,'steps':0x14,'cfg_scale':guimo,'width':changdu,'height':kuandu,'negative_prompt':pc})});res4=await _0x34e9e2['json'](),res=res4[_0x3e97f2(0x3ad)][0x0],_0x2a3925[_0x3e97f2(0x2ca)](_0x3e97f2(0x219));let _0x10dd50=_0x56703d[_0x3e97f2(0x2b2)](_0x35faf9[_0x3e97f2(0x1db)]('./plugins/earth-k-plugin/config/config.yaml','utf8'));_0x10dd50[_0x3e97f2(0x2ee)]=_0x10dd50[_0x3e97f2(0x2ee)]+0x1,_0x35faf9[_0x3e97f2(0x34c)](_0x3e97f2(0x296),_0x56703d['stringify'](_0x10dd50)),await _0x35faf9['writeFile'](_0x3e97f2(0x1f4),res[_0x3e97f2(0x2c3)](),_0x3e97f2(0x228),_0x31e9a0=>{const _0x16dbc0=_0x3e97f2;if(_0x31e9a0)console[_0x16dbc0(0x303)]('写入文件错误');else{}});iscanshu==0x0&&(_0x4f2048='');await sleep(0x1f4);let _0x41c26e=_0x10dd50['sesequn'][_0x3e97f2(0x2ed)](_0xdc8b28=>_0xdc8b28==_0x2a3925['group_id']);tpjc='';ss==0x0&_0x41c26e==-0x1&&(await main(_0x3e97f2(0x1f4)),console[_0x3e97f2(0x303)](tpjc));let _0x457dfc,_0x549e4=_0x2a3925[_0x3e97f2(0x3ba)]?.['card']?_0x2a3925[_0x3e97f2(0x3ba)][_0x3e97f2(0x2bf)]:_0x2a3925[_0x3e97f2(0x3ba)]?.[_0x3e97f2(0x247)];if(tpjc=='不合规'&ss==0x0){_0x457dfc=await _0x2a3925['reply'](_0x3e97f2(0x1df)),msg2=[_0x3e97f2(0x2fc),_0x3e97f2(0x320)+_0x549e4+'('+String(_0x2a3925[_0x3e97f2(0x3a8)])+')\x0a',_0x3e97f2(0x275)+_0x2a3925['group'][_0x3e97f2(0x2a8)]+'('+String(_0x2a3925[_0x3e97f2(0x32c)])+')\x0a',_0x3e97f2(0x391),segment[_0x3e97f2(0x325)](_0x3e97f2(0x1f4))];if(ftkg==0x1){let _0x157b73=await upload_image(_0x3e97f2(0x1f4)),_0x1b5c4d=(_0x157b73['md5']['toString'](_0x3e97f2(0x22d))||'')[_0x3e97f2(0x2fa)](),_0x559ac7='https://gchat.qpic.cn/gchatpic_new/0/0-0-'+_0x1b5c4d+'/0';_0x2a3925[_0x3e97f2(0x2ca)](_0x559ac7);}jhft==0x1&&Bot[_0x3e97f2(0x305)](zhuren[0x0])[_0x3e97f2(0x2f4)](msg2);}else{if(tlkg==0x1){let _0xad5653=await upload_image(_0x3e97f2(0x1f4)),_0x47ea01=(_0xad5653['md5']['toString'](_0x3e97f2(0x22d))||'')[_0x3e97f2(0x2fa)](),_0x53c3ed=_0x3e97f2(0x2df)+_0x47ea01+'/0';_0x457dfc=_0x2a3925[_0x3e97f2(0x2ca)](_0x53c3ed);}else msg2=[segment[_0x3e97f2(0x325)](_0x3e97f2(0x1f4)),_0x4f2048],_0x457dfc=await _0x2a3925[_0x3e97f2(0x2ca)](msg2,ishuifu);}iscd=0x1,console[_0x3e97f2(0x303)](_0x457dfc[_0x3e97f2(0x28f)],isch);if(_0x457dfc&&_0x457dfc[_0x3e97f2(0x28f)]&&isch==0x1&&_0x2a3925[_0x3e97f2(0x3cc)]){let _0x236ef4=_0x2a3925[_0x3e97f2(0x332)];setTimeout(()=>{const _0x31c03d=_0x3e97f2;_0x236ef4[_0x31c03d(0x39d)](_0x457dfc['message_id']);},timeout);}startTimeMS=new Date()['getTime'](),t=setTimeout(()=>{kg2=0x0,iscd=0x0;},cd);}catch(_0x26847f){console[_0x3e97f2(0x303)](_0x26847f),_0x2a3925[_0x3e97f2(0x2ca)]('服务器正忙，请稍后1'),kg2=0x0,iscd=0x0;return;}}else{if(iscd==0x1&startTimeMS!=undefined){console[_0x3e97f2(0x303)](0x756b5b3);let _0xbb93d2=cd-(new Date()[_0x3e97f2(0x309)]()-startTimeMS);_0xbb93d2=Math[_0x3e97f2(0x2b6)](_0xbb93d2/0x3e8);if(_0xbb93d2<0x0){kg2=0x0;return;}_0x2a3925[_0x3e97f2(0x2ca)](_0x3e97f2(0x2b1)+String(_0xbb93d2)+_0x3e97f2(0x2e2));}else _0x2a3925['reply'](_0x3e97f2(0x3a4));}}}async function imgUrlToBase64(_0x3731d2){let _0x4f1a1b;return new Promise(function(_0x4a4e0a,_0xeabac0){const _0x1fa0b3=_0x407e;let _0xd6a7ed=http[_0x1fa0b3(0x279)](_0x3731d2,function(_0x2b69e1){const _0x5278e2=_0x1fa0b3;var _0x204b30=[],_0x23300c=0x0;_0x2b69e1['on'](_0x5278e2(0x238),function(_0x506789){const _0x69bd47=_0x5278e2;_0x204b30[_0x69bd47(0x2ab)](_0x506789),_0x23300c+=_0x506789['length'];}),_0x2b69e1['on']('end',function(_0x39c40c){const _0x1da183=_0x5278e2;var _0x56f236=Buffer['concat'](_0x204b30,_0x23300c);_0x4f1a1b=_0x56f236[_0x1da183(0x2c3)](_0x1da183(0x228)),_0x4a4e0a({'success':!![],'base64Img':_0x4f1a1b});});});_0xd6a7ed['on'](_0x1fa0b3(0x221),_0x3ebc89=>{const _0x42bbae=_0x1fa0b3;_0x4a4e0a({'success':![],'errmsg':_0x3ebc89[_0x42bbae(0x2fe)]});}),_0xd6a7ed[_0x1fa0b3(0x2d8)]();});}function sleep(_0x3f5066){return new Promise(_0x12e09b=>setTimeout(_0x12e09b,_0x3f5066));}async function dqpz(){const _0x31bfb9=_0x39294f;let _0x1d6e9b=_0x31bfb9(0x23e);_0x35faf9[_0x31bfb9(0x339)](_0x1d6e9b[_0x31bfb9(0x2c3)](),_0x35faf9[_0x31bfb9(0x285)][_0x31bfb9(0x1d0)],_0x295da3=>{const _0x21fb49=_0x31bfb9;if(_0x295da3){let _0x46acf7={'yus':[{'mc':'高达','tga':_0x21fb49(0x348)}]};_0x35faf9[_0x21fb49(0x34c)](_0x1d6e9b,_0x56703d[_0x21fb49(0x36e)](_0x46acf7));}else console[_0x21fb49(0x303)]();});let _0x1eec30=_0x56703d['parse'](_0x35faf9['readFileSync'](_0x31bfb9(0x239),_0x31bfb9(0x2e6)));dqjk=_0x1eec30['dqjk'];_0x1eec30['dqjk']!=0x0&&(dizhi=_0x1eec30[_0x31bfb9(0x3b8)][_0x1eec30['dqjk']-0x1]['jk'],txtdz=_0x1eec30[_0x31bfb9(0x3b8)][_0x1eec30[_0x31bfb9(0x37c)]-0x1]['jk']+_0x31bfb9(0x30b),imgdz=_0x1eec30['dizhi'][_0x1eec30[_0x31bfb9(0x37c)]-0x1]['jk']+'/sdapi/v1/img2img',beishu=0xc);_0x1eec30[_0x31bfb9(0x37c)]==0x0&&(txtdz=_0x31bfb9(0x21c),imgdz=_0x31bfb9(0x266),beishu=0xa);zhuren=_0x56703d[_0x31bfb9(0x2b2)](_0x35faf9[_0x31bfb9(0x1db)](_0x31bfb9(0x26a),_0x31bfb9(0x2e6))),zhuren=zhuren['masterQQ'][0x0];let _0xb277b5=_0x56703d['parse'](_0x35faf9[_0x31bfb9(0x1db)](_0x31bfb9(0x296),_0x31bfb9(0x2e6)));_0xb277b5[_0x31bfb9(0x24d)]==undefined&&(_0xb277b5['jhft']=0x1),_0xb277b5[_0x31bfb9(0x2f2)]==undefined&&(_0xb277b5[_0x31bfb9(0x2f2)]=[]),_0xb277b5[_0x31bfb9(0x2cb)]==undefined&&(_0xb277b5[_0x31bfb9(0x2cb)]=[]),_0xb277b5['mrsl']==undefined&&(_0xb277b5[_0x31bfb9(0x2f1)]=-0x1),_0xb277b5[_0x31bfb9(0x2ee)]==undefined&&(_0xb277b5[_0x31bfb9(0x2ee)]=0x0),_0xb277b5[_0x31bfb9(0x3a7)]==undefined&&(_0xb277b5[_0x31bfb9(0x3a7)]=0x0),_0xb277b5['ftkg']==undefined&&(_0xb277b5[_0x31bfb9(0x203)]=0x0),_0xb277b5[_0x31bfb9(0x2db)]==undefined&&(_0xb277b5[_0x31bfb9(0x2db)]=[]),_0xb277b5[_0x31bfb9(0x201)]==undefined&&(_0xb277b5[_0x31bfb9(0x201)]=0x1),cd=_0xb277b5['cd'],cd==0x7530&_0x1eec30['dqjk']==0x0&&(cd=0x1388,_0xb277b5['cd']=0x1388,iscd=0x0,_0xb277b5[_0x31bfb9(0x33d)]=0x0),_0x1eec30['dqjk']!=0x0&&(iscd=0x0,_0xb277b5['cd']=0x0,cd=0x0,_0xb277b5[_0x31bfb9(0x33d)]=0x0),timeout=_0xb277b5['timeout'],isch=_0xb277b5['isch'],_0xb277b5['pc']==undefined?(_0xb277b5['pc']=pc,_0xb277b5[_0x31bfb9(0x260)]=moxing,_0xb277b5[_0x31bfb9(0x313)]=chicun):(pc=_0xb277b5['pc'],moxing=_0xb277b5[_0x31bfb9(0x260)],chicun=_0xb277b5[_0x31bfb9(0x313)]),changkuan=_0xb277b5[_0x31bfb9(0x3c8)],mrct=_0xb277b5[_0x31bfb9(0x2f1)],tlkg=_0xb277b5[_0x31bfb9(0x3a7)],ftkg=_0xb277b5[_0x31bfb9(0x203)],dqct=_0xb277b5[_0x31bfb9(0x2ee)],zr=_0xb277b5['zr'],ss=_0xb277b5['ss'],isyun=_0xb277b5['isyun'],jhft=_0xb277b5[_0x31bfb9(0x24d)],console[_0x31bfb9(0x303)](cd,timeout,isch,iscd,zr,ss),_0x35faf9[_0x31bfb9(0x34c)](_0x31bfb9(0x296),_0x56703d['stringify'](_0xb277b5)),await sleep(0x1f4);}async function getAgent(){const _0x3f0ae9=_0x39294f;let _0x1563b8=_0xfee63a[_0x3f0ae9(0x1cd)]['proxyAddress'];if(!_0x1563b8)return null;if(_0x1563b8===_0x3f0ae9(0x234))return null;HttpsProxyAgent===''&&(HttpsProxyAgent=await import(_0x3f0ae9(0x29c))[_0x3f0ae9(0x3b0)](_0x4bcc34=>{const _0xbd5dd7=_0x3f0ae9;logger[_0xbd5dd7(0x221)](_0x4bcc34);}),HttpsProxyAgent=HttpsProxyAgent?HttpsProxyAgent['default']:undefined);if(HttpsProxyAgent)return new HttpsProxyAgent(_0x1563b8);return null;}function _0x1a15(){const _0x1d3143=['neirong','#手办','我知道你要干嘛！注意身体！','^#开启大尺寸|^#关闭大尺寸|^#开启长图|^#开启宽图|^#开启随机图|^#开启大长图','base64','#开启随机图','total','cishu','已开启词条回复','hex','\x0a已画次数：','你不是主人，不能乱删！','#查看云预设','{}.constructor(\x22return\x20this\x22)(\x20)','\x20|规模:','info','http://0.0.0.0:0','以图生草','正在生草中，我知道你很急，但是你先别急。','填写ak成功','data','./plugins/earth-k-plugin/resources/aiht/jiekou.yaml','code','^#删除生草预设(.*)','该群已经被禁止画图。','1kporpll8be','./resources/tscys.yaml','当前降噪','步数已设置为','#取消画图','https://fanyi.youdao.com/','正在切换','关闭云预设成功','#雷化','{{masterpiece}},ShenheA','nickname','isPrivate','是英文','^#查看所有预设$|#新增预设(.*)|(.*)','http://tukuai.hopto.org:1450///qx2.php?tk=','Mozilla/5.0\x20(Windows\x20NT\x206.1;\x20WOW64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/86.0.4240.198\x20Safari/537.36','jhft','isch','#开启长图','{{{masterpiece}}},{{genshin\x20kokomi}}，best\x20quality,illustration,1girl,\x20small\x20breast,\x20sailor\x20dress,wet\x20clothes,\x20bikini,\x20sideboob,white\x20shirt,','includes','#新增预设','yys','已经切换到土块接口','http://tukuai.hopto.org:1450///diqiu.php?tk=','土块AI画图','{{masterpiece}},Diana','json','{{masterpiece}},Sangonomiya\x20KokomiA','#开启默认屏蔽词1','^#看魔法(.*)','#删除接口','好的，我开始以图生草了','tlms','从黑名单里放出来了','caiyang','群中关闭，请注意身体哦','#以图生草','http://tukuai.hopto.org:1450//jrct.php','DDIM','关闭大尺寸成功','http://tukuai.hopto.org:1450//ytsc.php','image=','seq','已开启参数显示','./config/config/other.yaml','#爱化','__proto__','日土块服务器已出图','ecydt','gtj','yus','#土块画图撤回开启','开关是','type','join','群号：','bind','kqdl','Angry','get','\x0a总次数：','&miyao=1142407413&cishu=','#关闭参数显示','getChatHistory','/resources/3.jpg','apply','wdecy','{{masterpiece}},Suspenders,\x20center\x20split,\x20(basketball:1.2),\x20(chicken:1.5)','恭喜你获得','{{masterpiece}},Ganyu','他已经黑名单里了','constants','已经取消','http://tukuai.hopto.org:1450//wj.php','#开启代理','auto','fanyideskweb','#开启大长图','friend','^#查看画图模型|^#切换画图模型(.*)','#关闭涩图链接','message_id','没有访问成功','^#开启涩图链接$|^#关闭涩图链接$','md5','开启云预设成功','lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry\x20(worst\x20quality,\x20low\x20quality:1.4),\x20lowres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','txak','./plugins/earth-k-plugin/config/config.yaml','393XBDsDp','采样已设置为DDIM','#平化','此群已经被封禁！','填写sk成功','https-proxy-agent','lowres,nude,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry,\x20owres,\x20bad\x20anatomy,\x20bad\x20hands,\x20text,\x20error,\x20missing\x20fingers,\x20extra\x20digit,\x20fewer\x20digits,\x20cropped,\x20worst\x20quality,\x20low\x20quality,\x20normal\x20quality,\x20jpeg\x20artifacts,\x20signature,\x20watermark,\x20username,\x20blurry','丢进黑名单了','模型中','^#我的二次元','replace','ckscys','masterQQ','^#开启代理|^#关闭代理|^#开启参数显示|^#关闭参数显示|^#开启词条回复|^#关闭词条回复','已关闭词条回复','imgs','#关闭图链模式','name','{{masterpiece}},Yae\x20Miko','huatu2','push','sd_model_checkpoint','http://tukuai.hopto.org:1450///cx.php?qq=','预设包含中文','#新增接口','#荧化','我在cd中，还有','parse','30秒还未发图，以图生草已取消','None','#开启词条回复','round','#鱼化','http://tukuai.hopto.org:1450//ys.json','已关闭画图撤回','then','#开启默认屏蔽词2','test','http://tukuai.hopto.org:1450//ckmf.php','utf-8','card','^#查看模型','http','chaxun','toString','#查看魔法','已成功随机','开启宽图成功','floor','flattenDeep','constructor','reply','blackqun','xzscys','./plugins/earth-k-plugin/resources/aiht/ml.html','新增接口','图生草','[name].[output_extension]','\x0a相似度：','开启涩图链接成功，接下来涩图发链接','^给他加(.*)','已设置每日出图','#派化','没有这个序号哦','3606516DKQSzx','end','#生气','好吧，那就一起来吧！','blackqq','已关闭鉴黄发图','新增预设成功','#寄化','https://gchat.qpic.cn/gchatpic_new/0/0-0-','当前屏蔽词有：','substring','秒可画','Steps','新增屏蔽词成功','ckhtmx','utf8','#所有人可画','访问失败了,QAQ,TvT','水手少女','(photorealistic:1.5),{{masterpiece}},wet','tsc','width','findIndex','dqsl','FY_BY_DEFAULT','[\x5cu4E00-\x5cu9FFF]+','mrsl','sesequn','#填写sk','sendMsg','123','fen','https://aip.baidubce.com/rest/2.0/image-process/v1/image_quality_enhance?access_token=','readFile','console','toUpperCase','已关闭参数显示','报告主人\x0a','(black\x20and\x20white:1.1),sketch,wet','message','POST','application/x-www-form-urlencoded','fanyi.web','#云预设','log','trim','pickUser','2537856jnCKoR','#新增屏蔽词','slice','getTime','已开启画图撤回，撤回时间为30秒','/sdapi/v1/txt2img','wd14-vit','\x0a规模：','^#图生草(.*)|#嗯哼(.*)|#离谱(.*)|#嘿嘿(.*)|#生气(.*)|#库库(.*)|#嚯嚯(.*)|#呜呜(.*)|^#(.*)化$|#手办(.*)|#归终(.*)','fanyi.youdao.com','isMaster','#土块画图撤回关闭','/sdapi/v1/sd-models','chicun','#查看预设词条','/sdapi/v1/img2img','\x0a降噪：','suiji','#甘化','#坤化','#嚯嚯','{{masterpiece}},keqing','服务器正忙，请稍后','采样已设置为Euler','timeout','#妲化','昵称：','assign','tags','./resources/ys.json','https://aip.baidubce.com/rest/2.0/solution/v1/img_censor/v2/user_defined?access_token=','image','没有这个预设哦','模型：','img','开启大尺寸成功','#关闭代理','#糖化','group_id','szgm','采样:','^#土块画图封群|^#土块画图解封群','10gtGtUh','你还没有填写密钥哦。','group','(((.+)+)+)+$','shuju','采样不在合理范围内，1-9为合理范围','{{masterpiece}},Izumi\x20Sagiri(eromanga\x20sensei)','ckmx','请添加预设关键词','access','url','cwd','\x20\x20|\x0a今日剩余:','iscd','http://tukuai.hopto.org:1450//tsgn.php?qq=','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','文件写入成功！','数字超过了预设个数','recs','请发送图片','{{masterpiece}},Raiden\x20Ei','#关闭云预设','510740UXqwgr','^#填写ak(.*)|#填写sk(.*)','gundam','开启图链模式成功，接下来只会发送图片链接','Resize\x20and\x20fill','/resources/ys.json','writeFileSync','已经切换到','514264LicMCB','你的输入方式不对，例如：#新增接口本地我的\x20http://127.0.0.1:7860,本地我的为接口名称,空格后为地址','access_token','https://api.novelai.net/ai/generate-image\x20','6919330TOlqOx','&client_secret=','{{masterpiece}},Yelan','规模已设置为','/sdapi/v1/options','{{masterpiece}},<lora:PVC-L:1>,wet','不合规','123123包含中文','#查看预设','splice','pop','black','title','#夜化','正在查看魔法，请稍后啊，0v0','qhjk','开启大长图成功','stlj','写入文件错误','已经将','^#土块画图步数(.*)|^#查看画图设置','6098feUoAU','#刻化','#开启云预设','height','已经开启默认屏蔽词1','#查看所有采样','\x0a提示：','stringify','mrct','jrct','你小子已经被封禁画图，请找主人解封。','56PcUAkU','已开启画图冷却，冷却时间为30秒','gjc','#土块鉴黄开启','#查看云预设词条','DPM++\x202S\x20a\x20Karras','#开启图链模式','当前总数为','0yzsdmhe9br9','#开启大尺寸','dqjk','#纱雾化','wet\x20nsfw\x20nude','base64Img','写入文件成功','best\x20quality','包含中文','screenshot','source','length','该密钥已被激活','http://q2.qlogo.cn/headimg_dl?dst_uin=','{{masterpiece}}','szbs','data:image/jpeg;base64,','已经开启默认屏蔽词2','规模不在合理范围内，3-12为合理范围','tianxie','./resources/3.jpg','time','#土块画图撤回','在画涩图被我抓到了','application/x-www-form-urlencoded;\x20charset=UTF-8','writeFile','你还没有配置百度鉴黄api，看教程：https://www.wolai.com/fFYRjryGk8ktsVvTWjgK5i','删除预设成功','#开启宽图','#呜呜','./resources/yb.png','getDate','remaining','getMonth','#设置每日出图(.*)','recallMsg','#删除预设','search','Bearer','{{masterpiece}},ElysiaA','scheduleJob','HLg91cjEH0yRfZjL4TpmLOKAFukAN1ou','不要着急','^#土块画图规模(.*)','^#土块画图封禁|^#土块画图解禁','tlkg','user_id','model_name','./resources/th2.txt','(easynegative:1.1),\x20(verybadimagenegative_v1.3:1),\x20(low\x20quality:1.2),\x20(worst\x20quality:1.2)','\x0a剩余次数：','images','已设置撤回时间为','(ink?wash?painting:1.1)\x20,sketchr','catch','random','#妮化','^#土块画图采样(.*)|^#查看所有采样','qvht','msg','Euler\x20a','{{masterpiece}},Nilou','dizhi','kmf','member','&qq=','开启代理成功','请发送要查看魔法的图片,0.0','{{masterpiece}},<lora:guizhong:1>','5JWWZrh','已激活密钥，号主为','对不起，不支持私聊','已开启鉴黄发图','DPM++\x202S\x20a','entries','#归终','你不是主人，不能用预设哦','&spec=5','changkuan','getFullYear','5094876TmLFuQ','模型切换失败','isGroup','warn','{{masterpiece}},Fischl','随机动作','#然化','删除接口','对不起，你不可画哦','服务器正忙,请稍后','abc','bot','szmx','土块服务器在维护中','R_OK','pickFriend','^#开启云预设|#关闭云预设','好的，已在','#以图生草相似度','#鹤化','{{masterpiece}},Paimon','01\x2002\x2000\x20*\x20*\x20*','/resources/','application/json','关闭图链模式成功，接下来只会发送图片','readFileSync','{{masterpiece}},nahida','#土块画图解封群','^#查看生草预设(.*)','又画涩图！你画涩图我已经发给主人了，别再画了！','15秒还未发图，查看魔法已取消','split','#可化','{{masterpiece}},Sucrose','#土块画图封群','密钥不存在！不能乱输入哦','.json','已取消当前画图','#土块画图冷却','跳过创建','#菲化','{{masterpiece}},LumineA','#魈化','#开启参数显示','今日画图已达到数量','data:image/png;base64,','这个密钥已经被激活了，你想干嘛！','访问成功了','./plugins/earth-k-plugin/resources/aiht/mx.html','0_0,\x20(o)_(o),\x20+_+,\x20+_-,\x20._.,\x20<o>_<o>,\x20<|>_<|>,\x20=_=,\x20>_<,\x203_3,\x206_9,\x20>_o,\x20@_@,\x20^_^,\x20o_o,\x20u_u,\x20x_x,\x20|_|,\x20||_||','./resources/ht.png','pbc','wet，sweating，heart_shaped_pupils，hot，breathing，cum，A\x20few\x20tears\x20in\x20the\x20eyes,\x20wide\x20open\x20eyes,\x20open\x20mouth','删除图生草预设成功','二次元的空气吗？你艾特谁了？','wet','duoluo','\x0a步数：','步数不在合理范围内，28以下为合理范围','他当前总数为','OUTFOX_SEARCH_USER_ID_NCOO=133190305.98519628;\x20OUTFOX_SEARCH_USER_ID=\x222081065877@10.169.0.102\x22;','post','你不是主人，不能新增','isyun','cckg','ftkg','huatu3','#离谱','^#切换接口(.*)|^#新增接口(.*)|^#查看接口|^#删除接口(.*)','ysgn','好的，我开始画图了，请稍等哦','此群没有被封禁！','#仅我可画','{{masterpiece}},Yunjin','采样已设置为DPM++\x202M','{{masterpiece}},Klee','Seed','你不可以生草哦','{{masterpiece}},Hutao','Ygy_4c=r#e#4EX^NUGUc5','tscys','DPM++\x202M\x20Karras','^#取消画图$|^#所有人可画$|^#仅我可画$|^#土块画图撤回(.*)$|^#土块画图冷却(.*)$|^#土块鉴黄开启|^#土块鉴黄关闭','采样已设置为DPM++\x202M\x20Karras','scscys','^#绘个图(.*)|#预设(.*)|#云预设(.*)|#随机画图','exception','图来咯','#土块画图冷却开启','新增图生草预设成功','http://tukuai.hopto.org:1450//ht.php','^#填写密钥(.*)','#填写ak','已激活该密钥','#随机画图','error','\x20|\x20','text'];_0x1a15=function(){return _0x1d3143;};return _0x1a15();}async function main(_0x48364e){const _0x50e472=_0x39294f;let _0x52f856=getFileContentAsBase64(_0x48364e),_0x3b0a6f=_0x50e472(0x324)+await getAccessToken(),_0x2a1fbc=await _0x3421e4(_0x3b0a6f,{'method':_0x50e472(0x1ff),'body':_0x50e472(0x267)+encodeURIComponent(_0x52f856),'headers':{'Content-Type':_0x50e472(0x300),'Accept':_0x50e472(0x1d9)}});_0x2a1fbc=await _0x2a1fbc['json'](),tpjc=_0x2a1fbc['conclusion'],console[_0x50e472(0x303)](tpjc);}async function getAccessToken(){const _0x8bb1e=_0x39294f;let _0x3db447=_0x56703d['parse'](_0x35faf9[_0x8bb1e(0x1db)](_0x8bb1e(0x296),'utf8'));const _0x1f13bd=_0x3db447['ak'],_0x2e9b1d=_0x3db447['sk'];let _0x18df7d=_0x8bb1e(0x33f)+_0x1f13bd+'&client_secret='+_0x2e9b1d,_0x49fc51=await _0x3421e4(_0x18df7d,{'method':_0x8bb1e(0x1ff)});return _0x49fc51=await _0x49fc51['json'](),_0x49fc51=_0x49fc51[_0x8bb1e(0x350)],_0x49fc51;}async function getAccessToken2(){const _0x479d2b=_0x39294f,_0x2cfcd5='Gfnqs8t8TVYxyuPwQXV3BsBU',_0x5079fb=_0x479d2b(0x3a3);let _0xe5d542='https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id='+_0x2cfcd5+_0x479d2b(0x353)+_0x5079fb,_0x3400e3=await _0x3421e4(_0xe5d542,{'method':'post'});return _0x3400e3=await _0x3400e3[_0x479d2b(0x258)](),_0x3400e3=_0x3400e3[_0x479d2b(0x350)],_0x3400e3;}async function xingxi(_0x52d777){const _0x25b463=_0x39294f;let _0x45601f=getFileContentAsBase64(_0x52d777),_0x30a73c='https://aip.baidubce.com/rest/2.0/image-process/v1/color_enhance?access_token='+await getAccessToken2(),_0x34e0d4=await _0x3421e4(_0x30a73c,{'method':_0x25b463(0x1ff),'body':_0x25b463(0x267)+encodeURIComponent(_0x45601f),'headers':{'Content-Type':_0x25b463(0x300),'Accept':_0x25b463(0x1d9)}});_0x34e0d4=await _0x34e0d4[_0x25b463(0x258)](),tpjg=_0x34e0d4[_0x25b463(0x325)];let _0x189682=_0x25b463(0x2f7)+await getAccessToken2(),_0xdefab4=await _0x3421e4(_0x189682,{'method':_0x25b463(0x1ff),'body':_0x25b463(0x267)+encodeURIComponent(tpjg),'headers':{'Content-Type':_0x25b463(0x300),'Accept':'application/json'}});_0xdefab4=await _0xdefab4[_0x25b463(0x258)](),tpjg=_0xdefab4['image'],await _0x35faf9[_0x25b463(0x393)](_0x25b463(0x1f4),tpjg[_0x25b463(0x2c3)](),_0x25b463(0x228),_0x4a47bf=>{const _0x49cdde=_0x25b463;if(_0x4a47bf)console[_0x49cdde(0x303)](_0x49cdde(0x364));else{}}),await sleep(0x1f4);}function getFileContentAsBase64(_0x43000f){const _0x1a33ba=_0x39294f,_0x1138d5=require('fs');try{return _0x1138d5[_0x1a33ba(0x1db)](_0x43000f,{'encoding':_0x1a33ba(0x228)});}catch(_0x17adda){throw new Error(_0x17adda);}}async function upload_image(_0x2d983c){const _0x13debf=_0x39294f;return(await Bot[_0x13debf(0x1d1)](Bot['uin'])['_preprocess'](segment[_0x13debf(0x325)](_0x2d983c,!![])))[_0x13debf(0x2a6)][0x0];}async function ydfy(_0xae9d49){const _0x34333c=_0x39294f;let _0x55cc07=_0x34333c(0x289),_0x983d72=_0x34333c(0x289);const _0x3166ab='5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20Chrome/98.0.4750.0',_0x4441a5={'from':_0x983d72,'to':_0x55cc07,'bv':_0x15e74f(_0x3166ab),'client':_0x34333c(0x28a),'doctype':_0x34333c(0x258),'version':'2.1','keyfrom':_0x34333c(0x301),'action':_0x34333c(0x2ef),'smartresult':'dict'},_0x51810e={'Host':_0x34333c(0x30f),'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20Chrome/98.0.4758.102','Referer':_0x34333c(0x242),'Content-Type':_0x34333c(0x392),'Cookie':_0x34333c(0x1fe)},_0x1e93ea='https://fanyi.youdao.com/translate_o?smartresult=dict&smartresult=rule',_0x497301=_0x34333c(0x211),_0x2aebed=_0x1a59db=>{const _0x5529e9=_0x34333c;let _0x339994='';for(const [_0x255369,_0x4b9f92]of Object[_0x5529e9(0x3c4)](_0x1a59db)){_0x339994+=_0x255369+'='+encodeURIComponent(_0x4b9f92)+'&';}return _0x339994[_0x5529e9(0x308)](0x0,_0x339994[_0x5529e9(0x385)]-0x1);},_0x5d9079=_0xae9d49,_0x2dbbec=''+new Date()[_0x34333c(0x309)](),_0x291630=_0x2dbbec+parseInt(String(0xa*Math['random']()),0xa),_0x18214e=_0x15e74f(_0x4441a5['client']+_0x5d9079+_0x291630+_0x497301),_0x3aa830=_0x2aebed(Object[_0x34333c(0x321)]({'i':_0x5d9079,'lts':_0x2dbbec,'sign':_0x18214e,'salt':_0x291630},_0x4441a5));try{let {errorCode:_0x611827,translateResult:_0x3c7c0a}=await _0x3421e4(_0x1e93ea,{'method':_0x34333c(0x2ff),'body':_0x3aa830,'headers':_0x51810e})[_0x34333c(0x2ba)](_0x50b9f4=>_0x50b9f4[_0x34333c(0x258)]())[_0x34333c(0x3b0)](_0x1f3f5c=>console[_0x34333c(0x221)](_0x1f3f5c));if(_0x611827!=0x0)return API_ERROR;_0x3c7c0a=_0x45cb15[_0x34333c(0x2c8)](_0x3c7c0a)?.['map'](_0x5427e0=>_0x5427e0['tgt'])[_0x34333c(0x274)]('\x0a');if(!_0x3c7c0a)return RESULT_ERROR;return console[_0x34333c(0x303)](_0x3c7c0a),_0x3c7c0a;}catch(_0x1ef47f){return logger[_0x34333c(0x221)](_0x1ef47f),API_ERROR;}}_0xe90c12[_0x39294f(0x3a2)](_0x39294f(0x1d7),async()=>{const _0x38fd27=_0x39294f;let _0x168efa=_0x56703d['parse'](_0x35faf9[_0x38fd27(0x1db)](_0x38fd27(0x296),_0x38fd27(0x2e6)));_0x168efa[_0x38fd27(0x2ee)]=0x0,_0x35faf9[_0x38fd27(0x34c)](_0x38fd27(0x296),_0x56703d[_0x38fd27(0x36e)](_0x168efa));});
